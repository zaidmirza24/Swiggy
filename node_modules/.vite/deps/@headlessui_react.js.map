{
  "version": 3,
  "sources": ["../../use-sync-external-store/cjs/use-sync-external-store-with-selector.development.js", "../../use-sync-external-store/with-selector.js", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useEffectEvent.ts", "../../@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/domHelpers.ts", "../../@react-stately/flags/dist/packages/@react-stately/flags/src/index.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/shadowdom/DOMFunctions.ts", "../../clsx/dist/clsx.mjs", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/openLink.tsx", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/isVirtualEvent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/isFocusable.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts", "../../@swc/helpers/esm/_class_apply_descriptor_get.js", "../../@swc/helpers/esm/_class_extract_field_descriptor.js", "../../@swc/helpers/esm/_class_private_field_get.js", "../../@swc/helpers/esm/_check_private_redeclaration.js", "../../@swc/helpers/esm/_class_private_field_init.js", "../../@swc/helpers/esm/_class_apply_descriptor_set.js", "../../@swc/helpers/esm/_class_private_field_set.js", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/focusSafely.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusable.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/FocusScope.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusRing.ts", "../../@headlessui/react/dist/components/button/button.js", "../../@headlessui/react/dist/hooks/use-active-press.js", "../../@headlessui/react/dist/utils/env.js", "../../@headlessui/react/dist/utils/owner.js", "../../@headlessui/react/dist/hooks/use-disposables.js", "../../@headlessui/react/dist/utils/micro-task.js", "../../@headlessui/react/dist/utils/disposables.js", "../../@headlessui/react/dist/hooks/use-event.js", "../../@headlessui/react/dist/hooks/use-latest-value.js", "../../@headlessui/react/dist/hooks/use-iso-morphic-effect.js", "../../@headlessui/react/dist/internal/disabled.js", "../../@headlessui/react/dist/utils/render.js", "../../@headlessui/react/dist/utils/class-names.js", "../../@headlessui/react/dist/utils/match.js", "../../@headlessui/react/dist/components/checkbox/checkbox.js", "../../@headlessui/react/dist/hooks/use-controllable.js", "../../@headlessui/react/dist/hooks/use-default-value.js", "../../@headlessui/react/dist/hooks/use-id.js", "../../@headlessui/react/dist/internal/form-fields.js", "../../@headlessui/react/dist/utils/form.js", "../../@headlessui/react/dist/internal/hidden.js", "../../@headlessui/react/dist/internal/id.js", "../../@headlessui/react/dist/utils/bugs.js", "../../@headlessui/react/dist/components/description/description.js", "../../@headlessui/react/dist/hooks/use-sync-refs.js", "../../@headlessui/react/dist/components/keyboard.js", "../../@headlessui/react/dist/components/label/label.js", "../../@headlessui/react/dist/components/close-button/close-button.js", "../../@headlessui/react/dist/internal/close-provider.js", "../../@tanstack/virtual-core/src/utils.ts", "../../@tanstack/virtual-core/src/index.ts", "../../@tanstack/react-virtual/src/index.tsx", "../../@headlessui/react/dist/components/combobox/combobox.js", "../../@headlessui/react/dist/hooks/use-by-comparator.js", "../../@headlessui/react/dist/hooks/use-element-size.js", "../../@headlessui/react/dist/hooks/use-is-top-layer.js", "../../@headlessui/react/dist/utils/default-map.js", "../../@headlessui/react/dist/utils/store.js", "../../@headlessui/react/dist/hooks/use-store.js", "../../@headlessui/react/dist/hooks/use-inert-others.js", "../../@headlessui/react/dist/hooks/use-on-disappear.js", "../../@headlessui/react/dist/hooks/use-outside-click.js", "../../@headlessui/react/dist/utils/focus-management.js", "../../@headlessui/react/dist/utils/platform.js", "../../@headlessui/react/dist/hooks/use-document-event.js", "../../@headlessui/react/dist/hooks/use-window-event.js", "../../@headlessui/react/dist/hooks/use-owner.js", "../../@headlessui/react/dist/hooks/use-refocusable-input.js", "../../@headlessui/react/dist/hooks/use-event-listener.js", "../../@headlessui/react/dist/hooks/use-resolve-button-type.js", "../../@headlessui/react/dist/hooks/document-overflow/adjust-scrollbar-padding.js", "../../@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js", "../../@headlessui/react/dist/hooks/document-overflow/prevent-scroll.js", "../../@headlessui/react/dist/hooks/document-overflow/overflow-store.js", "../../@headlessui/react/dist/hooks/document-overflow/use-document-overflow.js", "../../@headlessui/react/dist/hooks/use-scroll-lock.js", "../../@headlessui/react/dist/hooks/use-tracked-pointer.js", "../../@headlessui/react/dist/hooks/use-transition.js", "../../@headlessui/react/dist/hooks/use-flags.js", "../../@headlessui/react/dist/hooks/use-tree-walker.js", "../../@headlessui/react/dist/hooks/use-watch.js", "../../@floating-ui/react/dist/floating-ui.react.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@floating-ui/react/dist/floating-ui.react.utils.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.mjs", "../../tabbable/src/index.js", "../../@floating-ui/core/dist/floating-ui.core.mjs", "../../@floating-ui/dom/dist/floating-ui.dom.mjs", "../../@floating-ui/react-dom/dist/floating-ui.react-dom.mjs", "../../@headlessui/react/dist/internal/floating.js", "../../@headlessui/react/dist/internal/frozen.js", "../../@headlessui/react/dist/internal/open-closed.js", "../../@headlessui/react/dist/react-glue.js", "../../@headlessui/react/dist/machine.js", "../../@headlessui/react/dist/utils/document-ready.js", "../../@headlessui/react/dist/utils/active-element-history.js", "../../@headlessui/react/dist/utils/calculate-active-index.js", "../../@headlessui/react/dist/components/mouse.js", "../../@headlessui/react/dist/components/portal/portal.js", "../../@headlessui/react/dist/hooks/use-on-unmount.js", "../../@headlessui/react/dist/hooks/use-server-handoff-complete.js", "../../@headlessui/react/dist/internal/portal-force-root.js", "../../@headlessui/react/dist/components/combobox/combobox-machine.js", "../../@headlessui/react/dist/components/combobox/combobox-machine-glue.js", "../../@headlessui/react/dist/components/data-interactive/data-interactive.js", "../../@headlessui/react/dist/components/dialog/dialog.js", "../../@headlessui/react/dist/hooks/use-escape.js", "../../@headlessui/react/dist/hooks/use-is-touch-device.js", "../../@headlessui/react/dist/hooks/use-root-containers.js", "../../@headlessui/react/dist/components/focus-trap/focus-trap.js", "../../@headlessui/react/dist/hooks/use-is-mounted.js", "../../@headlessui/react/dist/hooks/use-tab-direction.js", "../../@headlessui/react/dist/components/transition/transition.js", "../../@headlessui/react/dist/components/disclosure/disclosure.js", "../../@headlessui/react/dist/utils/start-transition.js", "../../@headlessui/react/dist/components/field/field.js", "../../@headlessui/react/dist/components/fieldset/fieldset.js", "../../@headlessui/react/dist/hooks/use-resolved-tag.js", "../../@headlessui/react/dist/components/input/input.js", "../../@headlessui/react/dist/components/legend/legend.js", "../../@headlessui/react/dist/components/listbox/listbox.js", "../../@headlessui/react/dist/hooks/use-did-element-move.js", "../../@headlessui/react/dist/hooks/use-text-value.js", "../../@headlessui/react/dist/utils/get-text-value.js", "../../@headlessui/react/dist/components/listbox/listbox-machine.js", "../../@headlessui/react/dist/components/listbox/listbox-machine-glue.js", "../../@headlessui/react/dist/components/menu/menu.js", "../../@headlessui/react/dist/components/menu/menu-machine.js", "../../@headlessui/react/dist/components/menu/menu-machine-glue.js", "../../@headlessui/react/dist/components/popover/popover.js", "../../@headlessui/react/dist/components/radio-group/radio-group.js", "../../@headlessui/react/dist/components/select/select.js", "../../@headlessui/react/dist/components/switch/switch.js", "../../@headlessui/react/dist/components/tabs/tabs.js", "../../@headlessui/react/dist/internal/focus-sentinel.js", "../../@headlessui/react/dist/utils/stable-collection.js", "../../@headlessui/react/dist/components/textarea/textarea.js"],
  "sourcesContent": ["/**\n * @license React\n * use-sync-external-store-with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useSyncExternalStore = React.useSyncExternalStore,\n      useRef = React.useRef,\n      useEffect = React.useEffect,\n      useMemo = React.useMemo,\n      useDebugValue = React.useDebugValue;\n    exports.useSyncExternalStoreWithSelector = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot,\n      selector,\n      isEqual\n    ) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: !1, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function () {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = !0;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return (memoizedSelection = currentSelection);\n              }\n              return (memoizedSelection = nextSnapshot);\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return (memoizedSnapshot = nextSnapshot), currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return (memoizedSelection = nextSelection);\n          }\n          var hasMemo = !1,\n            memoizedSnapshot,\n            memoizedSelection,\n            maybeGetServerSnapshot =\n              void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function () {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot\n              ? void 0\n              : function () {\n                  return memoizedSelector(maybeGetServerSnapshot());\n                }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function () {\n          inst.hasValue = !0;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.production.js');\n} else {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.development.js');\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof document !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\n\nexport function useEffectEvent<T extends Function>(fn?: T): T {\n  const ref = useRef<T | null | undefined>(null);\n  useLayoutEffect(() => {\n    ref.current = fn;\n  }, [fn]);\n  // @ts-ignore\n  return useCallback<T>((...args) => {\n    const f = ref.current!;\n    return f?.(...args);\n  }, []);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {JSX, ReactNode, useContext, useLayoutEffect, useMemo, useRef, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\nconst IsSSRContext = React.createContext(false);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n// This is only used in React < 18.\nfunction LegacySSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let counter = useCounter(cur === defaultContext);\n  let [isSSR, setIsSSR] = useState(true);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${counter}`,\n    current: 0\n  }), [cur, counter]);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof document !== 'undefined') {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return (\n    <SSRContext.Provider value={value}>\n      <IsSSRContext.Provider value={isSSR}>\n        {props.children}\n      </IsSSRContext.Provider>\n    </SSRContext.Provider>\n  );\n}\n\nlet warnedAboutSSRProvider = false;\n\n/**\n * When using SSR with React Aria in React 16 or 17, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  if (typeof React['useId'] === 'function') {\n    if (process.env.NODE_ENV !== 'test' && process.env.NODE_ENV !== 'production' && !warnedAboutSSRProvider) {\n      console.warn('In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app.');\n      warnedAboutSSRProvider = true;\n    }\n    return <>{props.children}</>;\n  }\n  return <LegacySSRProvider {...props} />;\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet componentIds = new WeakMap();\n\nfunction useCounter(isDisabled = false) {\n  let ctx = useContext(SSRContext);\n  let ref = useRef<number | null>(null);\n  // eslint-disable-next-line rulesdir/pure-render\n  if (ref.current === null && !isDisabled) {\n    // In strict mode, React renders components twice, and the ref will be reset to null on the second render.\n    // This means our id counter will be incremented twice instead of once. This is a problem because on the\n    // server, components are only rendered once and so ids generated on the server won't match the client.\n    // In React 18, useId was introduced to solve this, but it is not available in older versions. So to solve this\n    // we need to use some React internals to access the underlying Fiber instance, which is stable between renders.\n    // This is exposed as ReactCurrentOwner in development, which is all we need since StrictMode only runs in development.\n    // To ensure that we only increment the global counter once, we store the starting id for this component in\n    // a weak map associated with the Fiber. On the second render, we reset the global counter to this value.\n    // Since React runs the second render immediately after the first, this is safe.\n    // @ts-ignore\n    let currentOwner = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?.ReactCurrentOwner?.current;\n    if (currentOwner) {\n      let prevComponentValue = componentIds.get(currentOwner);\n      if (prevComponentValue == null) {\n        // On the first render, and first call to useId, store the id and state in our weak map.\n        componentIds.set(currentOwner, {\n          id: ctx.current,\n          state: currentOwner.memoizedState\n        });\n      } else if (currentOwner.memoizedState !== prevComponentValue.state) {\n        // On the second render, the memoizedState gets reset by React.\n        // Reset the counter, and remove from the weak map so we don't\n        // do this for subsequent useId calls.\n        ctx.current = prevComponentValue.id;\n        componentIds.delete(currentOwner);\n      }\n    }\n\n    // eslint-disable-next-line rulesdir/pure-render\n    ref.current = ++ctx.current;\n  }\n\n  // eslint-disable-next-line rulesdir/pure-render\n  return ref.current;\n}\n\nfunction useLegacySSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM && process.env.NODE_ENV !== 'production') {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  let counter = useCounter(!!defaultId);\n  let prefix = ctx === defaultContext && process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${ctx.prefix}`;\n  return defaultId || `${prefix}-${counter}`;\n}\n\nfunction useModernSSRSafeId(defaultId?: string): string {\n  let id = React.useId();\n  let [didSSR] = useState(useIsSSR());\n  let prefix = didSSR || process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${defaultContext.prefix}`;\n  return defaultId || `${prefix}-${id}`;\n}\n\n// Use React.useId in React 18 if available, otherwise fall back to our old implementation.\n/** @private */\nexport const useSSRSafeId = typeof React['useId'] === 'function' ? useModernSSRSafeId : useLegacySSRSafeId;\n\nfunction getSnapshot() {\n  return false;\n}\n\nfunction getServerSnapshot() {\n  return true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction subscribe(onStoreChange: () => void): () => void {\n  // noop\n  return () => {};\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  // In React 18, we can use useSyncExternalStore to detect if we're server rendering or hydrating.\n  if (typeof React['useSyncExternalStore'] === 'function') {\n    return React['useSyncExternalStore'](subscribe, getSnapshot, getServerSnapshot);\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useContext(IsSSRContext);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\n// copied from SSRProvider.tsx to reduce exports, if needed again, consider sharing\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nexport let idsUpdaterMap: Map<string, { current: string | null }[]> = new Map();\n// This allows us to clean up the idsUpdaterMap when the id is no longer used.\n// Map is a strong reference, so unused ids wouldn't be cleaned up otherwise.\n// This can happen in suspended components where mount/unmount is not called.\nlet registry;\nif (typeof FinalizationRegistry !== 'undefined') {\n  registry = new FinalizationRegistry<string>((heldValue) => {\n    idsUpdaterMap.delete(heldValue);\n  });\n}\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n  let cleanupRef = useRef(null);\n\n  if (registry) {\n    registry.register(cleanupRef, res);\n  }\n\n  if (canUseDOM) {\n    const cacheIdRef = idsUpdaterMap.get(res);\n    if (cacheIdRef && !cacheIdRef.includes(nextId)) {\n      cacheIdRef.push(nextId);\n    } else {\n      idsUpdaterMap.set(res, [nextId]);\n    }\n  }\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      // In Suspense, the cleanup function may be not called\n      // when it is though, also remove it from the finalization registry.\n      if (registry) {\n        registry.unregister(cleanupRef);\n      }\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  // This cannot cause an infinite loop because the ref is always cleaned up.\n  // eslint-disable-next-line\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) { setValue(newId); }\n\n    return () => {\n      if (newId) { nextId.current = null; }\n    };\n  });\n\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdsA = idsUpdaterMap.get(idA);\n  if (setIdsA) {\n    setIdsA.forEach(ref => (ref.current = idB));\n    return idB;\n  }\n\n  let setIdsB = idsUpdaterMap.get(idB);\n  if (setIdsB) {\n    setIdsB.forEach((ref) => (ref.current = idA));\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : undefined;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n", "export const getOwnerDocument = (el: Element | null | undefined): Document => {\n  return el?.ownerDocument ?? document;\n};\n\nexport const getOwnerWindow = (\n  el: (Window & typeof global) | Element | null | undefined\n): Window & typeof global => {\n  if (el && 'window' in el && el.window === el) {\n    return el;\n  }\n\n  const doc = getOwnerDocument(el as Element | null | undefined);\n  return doc.defaultView || window;\n};\n\n/**\n * Type guard that checks if a value is a Node. Verifies the presence and type of the nodeType property.\n */\nfunction isNode(value: unknown): value is Node {\n  return value !== null &&\n    typeof value === 'object' &&\n    'nodeType' in value &&\n    typeof (value as Node).nodeType === 'number';\n}\n/**\n * Type guard that checks if a node is a ShadowRoot. Uses nodeType and host property checks to\n * distinguish ShadowRoot from other DocumentFragments.\n */\nexport function isShadowRoot(node: Node | null): node is ShadowRoot {\n  return isNode(node) &&\n    node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n    'host' in node;\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nlet _tableNestedRows = false;\nlet _shadowDOM = false;\n\nexport function enableTableNestedRows(): void {\n  _tableNestedRows = true;\n}\n\nexport function tableNestedRows(): boolean {\n  return _tableNestedRows;\n}\n\nexport function enableShadowDOM(): void {\n  _shadowDOM = true;\n}\n\nexport function shadowDOM(): boolean {\n  return _shadowDOM;\n}\n", "// Source: https://github.com/microsoft/tabster/blob/a89fc5d7e332d48f68d03b1ca6e344489d1c3898/src/Shadowdomize/DOMFunctions.ts#L16\n\nimport {isShadowRoot} from '../domHelpers';\nimport {shadowDOM} from '@react-stately/flags';\n\n/**\n * ShadowDOM safe version of Node.contains.\n */\nexport function nodeContains(\n  node: Node | null | undefined,\n  otherNode: Node | null | undefined\n): boolean {\n  if (!shadowDOM()) {\n    return otherNode && node ? node.contains(otherNode) : false;\n  }\n\n  if (!node || !otherNode) {\n    return false;\n  }\n\n  let currentNode: HTMLElement | Node | null | undefined = otherNode;\n\n  while (currentNode !== null) {\n    if (currentNode === node) {\n      return true;\n    }\n\n    if ((currentNode as HTMLSlotElement).tagName === 'SLOT' &&\n      (currentNode as HTMLSlotElement).assignedSlot) {\n      // Element is slotted\n      currentNode = (currentNode as HTMLSlotElement).assignedSlot!.parentNode;\n    } else if (isShadowRoot(currentNode)) {\n      // Element is in shadow root\n      currentNode = currentNode.host;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return false;\n}\n\n/**\n * ShadowDOM safe version of document.activeElement.\n */\nexport const getActiveElement = (doc: Document = document): Element | null => {\n  if (!shadowDOM()) {\n    return doc.activeElement;\n  }\n  let activeElement: Element | null = doc.activeElement;\n\n  while (activeElement && 'shadowRoot' in activeElement &&\n  activeElement.shadowRoot?.activeElement) {\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n\n  return activeElement;\n};\n\n/**\n * ShadowDOM safe version of event.target.\n */\nexport function getEventTarget<T extends Event>(event: T): Element {\n  if (shadowDOM() && (event.target as HTMLElement).shadowRoot) {\n    if (event.composedPath) {\n      return event.composedPath()[0] as Element;\n    }\n  }\n  return event.target as Element;\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\ntype PropsArg = Props | null | undefined;\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? NullToObject<V> : never;\ntype NullToObject<T> = T extends (null | undefined) ? {} : T;\n\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends PropsArg[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef, MutableRefObject} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: Array<ForwardedRef<T> | MutableRefObject<T> | null | undefined>): ForwardedRef<T> {\n  if (refs.length === 1 && refs[0]) {\n    return refs[0];\n  }\n\n  return (value: T | null) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: FocusableElement): void {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean | null = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      let focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: FocusableElement): ScrollableElement[] {\n  let parent = element.parentNode;\n  let scrollableElements: ScrollableElement[] = [];\n  let rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator['userAgentData']?.platform || window.navigator.platform)\n    : false;\n}\n\nfunction cached(fn: () => boolean) {\n  if (process.env.NODE_ENV === 'test') {\n    return fn;\n  }\n  \n  let res: boolean | null = null;\n  return () => {\n    if (res == null) {\n      res = fn();\n    }\n    return res;\n  };\n}\n\nexport const isMac = cached(function () {\n  return testPlatform(/^Mac/i);\n});\n\nexport const isIPhone = cached(function () {\n  return testPlatform(/^iPhone/i);\n});\n\nexport const isIPad = cached(function () {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n});\n\nexport const isIOS = cached(function () {\n  return isIPhone() || isIPad();\n});\n\nexport const isAppleDevice = cached(function () {\n  return isMac() || isIOS();\n});\n\nexport const isWebKit = cached(function () {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n});\n\nexport const isChrome = cached(function () {\n  return testUserAgent(/Chrome/i);\n});\n\nexport const isAndroid = cached(function () {\n  return testUserAgent(/Android/i);\n});\n\nexport const isFirefox = cached(function () {\n  return testUserAgent(/Firefox/i);\n});\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, isMac, isWebKit} from './index';\nimport {Href, LinkDOMProps, RouterOptions} from '@react-types/shared';\nimport {isFirefox, isIPad} from './platform';\nimport React, {createContext, DOMAttributes, ReactNode, useContext, useMemo} from 'react';\n\ninterface Router {\n  isNative: boolean,\n  open: (target: Element, modifiers: Modifiers, href: Href, routerOptions: RouterOptions | undefined) => void,\n  useHref: (href: Href) => string\n}\n\nconst RouterContext = createContext<Router>({\n  isNative: true,\n  open: openSyntheticLink,\n  useHref: (href) => href\n});\n\ninterface RouterProviderProps {\n  navigate: (path: Href, routerOptions: RouterOptions | undefined) => void,\n  useHref?: (href: Href) => string,\n  children: ReactNode\n}\n\n/**\n * A RouterProvider accepts a `navigate` function from a framework or client side router,\n * and provides it to all nested React Aria links to enable client side navigation.\n */\nexport function RouterProvider(props: RouterProviderProps): ReactNode {\n  let {children, navigate, useHref} = props;\n\n  let ctx = useMemo(() => ({\n    isNative: false,\n    open: (target: Element, modifiers: Modifiers, href: Href, routerOptions: RouterOptions | undefined) => {\n      getSyntheticLink(target, link => {\n        if (shouldClientNavigate(link, modifiers)) {\n          navigate(href, routerOptions);\n        } else {\n          openLink(link, modifiers);\n        }\n      });\n    },\n    useHref: useHref || ((href) => href)\n  }), [navigate, useHref]);\n\n  return (\n    <RouterContext.Provider value={ctx}>\n      {children}\n    </RouterContext.Provider>\n  );\n}\n\nexport function useRouter(): Router {\n  return useContext(RouterContext);\n}\n\ninterface Modifiers {\n  metaKey?: boolean,\n  ctrlKey?: boolean,\n  altKey?: boolean,\n  shiftKey?: boolean\n}\n\nexport function shouldClientNavigate(link: HTMLAnchorElement, modifiers: Modifiers): boolean {\n  // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n  let target = link.getAttribute('target');\n  return (\n    (!target || target === '_self') &&\n    link.origin === location.origin &&\n    !link.hasAttribute('download') &&\n    !modifiers.metaKey && // open in new tab (mac)\n    !modifiers.ctrlKey && // open in new tab (windows)\n    !modifiers.altKey && // download\n    !modifiers.shiftKey\n  );\n}\n\nexport function openLink(target: HTMLAnchorElement, modifiers: Modifiers, setOpening = true): void {\n  let {metaKey, ctrlKey, altKey, shiftKey} = modifiers;\n\n  // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n  // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n  // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n  // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n  if (isFirefox() && window.event?.type?.startsWith('key') && target.target === '_blank') {\n    if (isMac()) {\n      metaKey = true;\n    } else {\n      ctrlKey = true;\n    }\n  }\n\n  // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n  // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n  let event = isWebKit() && isMac() && !isIPad() && process.env.NODE_ENV !== 'test'\n    // @ts-ignore - keyIdentifier is a non-standard property, but it's what webkit expects\n    ? new KeyboardEvent('keydown', {keyIdentifier: 'Enter', metaKey, ctrlKey, altKey, shiftKey})\n    : new MouseEvent('click', {metaKey, ctrlKey, altKey, shiftKey, bubbles: true, cancelable: true});\n  (openLink as any).isOpening = setOpening;\n  focusWithoutScrolling(target);\n  target.dispatchEvent(event);\n  (openLink as any).isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n(openLink as any).isOpening = false;\n\nfunction getSyntheticLink(target: Element, open: (link: HTMLAnchorElement) => void) {\n  if (target instanceof HTMLAnchorElement) {\n    open(target);\n  } else if (target.hasAttribute('data-href')) {\n    let link = document.createElement('a');\n    link.href = target.getAttribute('data-href')!;\n    if (target.hasAttribute('data-target')) {\n      link.target = target.getAttribute('data-target')!;\n    }\n    if (target.hasAttribute('data-rel')) {\n      link.rel = target.getAttribute('data-rel')!;\n    }\n    if (target.hasAttribute('data-download')) {\n      link.download = target.getAttribute('data-download')!;\n    }\n    if (target.hasAttribute('data-ping')) {\n      link.ping = target.getAttribute('data-ping')!;\n    }\n    if (target.hasAttribute('data-referrer-policy')) {\n      link.referrerPolicy = target.getAttribute('data-referrer-policy')!;\n    }\n    target.appendChild(link);\n    open(link);\n    target.removeChild(link);\n  }\n}\n\nfunction openSyntheticLink(target: Element, modifiers: Modifiers) {\n  getSyntheticLink(target, link => openLink(link, modifiers));\n}\n\nexport function useSyntheticLinkProps(props: LinkDOMProps): DOMAttributes<HTMLElement> {\n  let router = useRouter();\n  const href = router.useHref(props.href ?? '');\n  return {\n    'data-href': props.href ? href : undefined,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  } as DOMAttributes<HTMLElement>;\n}\n\n/** @deprecated - For backward compatibility. */\nexport function getSyntheticLinkProps(props: LinkDOMProps): DOMAttributes<HTMLElement> {\n  return {\n    'data-href': props.href,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  } as DOMAttributes<HTMLElement>;\n}\n\nexport function useLinkProps(props?: LinkDOMProps): LinkDOMProps {\n  let router = useRouter();\n  const href = router.useHref(props?.href ?? '');\n  return {\n    href: props?.href ? href : undefined,\n    target: props?.target,\n    rel: props?.rel,\n    download: props?.download,\n    ping: props?.ping,\n    referrerPolicy: props?.referrerPolicy\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  function isTransitionEvent(event: Event): event is TransitionEvent {\n    return 'propertyName' in event;\n  }\n\n  let onTransitionStart = (e: Event) => {\n    if (!isTransitionEvent(e) || !e.target) {\n      return;\n    }\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd, {\n        once: true\n      });\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: Event) => {\n    if (!isTransitionEvent(e) || !e.target) {\n      return;\n    }\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void): void {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof WindowEventMap>(el: Window, type: K, listener: (this: Document, ev: WindowEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, fn, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n   \n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useMemo, useRef} from 'react';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T | null> {\n  const objRef: MutableRefObject<T | null> = useRef<T>(null);\n  return useMemo(() => ({\n    get current() {\n      return objRef.current;\n    },\n    set current(value) {\n      objRef.current = value;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(value);\n      } else if (forwardedRef) {\n        forwardedRef.current = value;\n      }\n    }\n  }), [forwardedRef]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject} from 'react';\nimport {RefObject} from '@react-types/shared';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T | null>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context?: ContextValue<T> | null, ref?: RefObject<T | null>): void {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        if (context.ref) {\n          context.ref.current = null;\n        }\n      };\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\nlet visualViewport = typeof document !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let isSSR = useIsSSR();\n  let [size, setSize] = useState(() => isSSR ? {width: 0, height: 0} : getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: (visualViewport && visualViewport?.width) || window.innerWidth,\n    height: (visualViewport && visualViewport?.height) || window.innerHeight\n  };\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isAndroid} from './platform';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n  // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n  // to detect TalkBack virtual clicks.\n  if (isAndroid() && (event as PointerEvent).pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport function isVirtualPointerEvent(event: PointerEvent): boolean {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n  // Talkback double tap from Windows Firefox touch screen press\n  return (\n    (!isAndroid() && event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0 &&\n      event.pointerType === 'mouse'\n    )\n  );\n}\n", "const focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable^=\"false\"])'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nexport function isFocusable(element: Element): boolean {\n  return element.matches(FOCUSABLE_ELEMENT_SELECTOR);\n}\n\nexport function isTabbable(element: Element): boolean {\n  return element.matches(TABBABLE_ELEMENT_SELECTOR);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusWithoutScrolling, getOwnerWindow, isFocusable, useEffectEvent, useLayoutEffect} from '@react-aria/utils';\nimport {FocusEvent as ReactFocusEvent, SyntheticEvent, useCallback, useRef} from 'react';\n\n// Turn a native event into a React synthetic event.\nexport function createSyntheticEvent<E extends SyntheticEvent>(nativeEvent: Event): E {\n  let event = nativeEvent as any as E;\n  event.nativeEvent = nativeEvent;\n  event.isDefaultPrevented = () => event.defaultPrevented;\n  // cancelBubble is technically deprecated in the spec, but still supported in all browsers.\n  event.isPropagationStopped = () => (event as any).cancelBubble;\n  event.persist = () => {};\n  return event;\n}\n\nexport function setEventTarget(event: Event, target: Element): void {\n  Object.defineProperty(event, 'target', {value: target});\n  Object.defineProperty(event, 'currentTarget', {value: target});\n}\n\nexport function useSyntheticBlurEvent<Target extends Element = Element>(onBlur: (e: ReactFocusEvent<Target>) => void): (e: ReactFocusEvent<Target>) => void {\n  let stateRef = useRef({\n    isFocused: false,\n    observer: null as MutationObserver | null\n  });\n\n  // Clean up MutationObserver on unmount. See below.\n\n  useLayoutEffect(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n\n  let dispatchBlur = useEffectEvent((e: ReactFocusEvent<Target>) => {\n    onBlur?.(e);\n  });\n\n  // This function is called during a React onFocus event.\n  return useCallback((e: ReactFocusEvent<Target>) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      stateRef.current.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler: EventListenerOrEventListenerObject | null = (e) => {\n        stateRef.current.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          let event = createSyntheticEvent<ReactFocusEvent<Target>>(e);\n          dispatchBlur(event);\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          stateRef.current.observer?.disconnect();\n          let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n          target.dispatchEvent(new FocusEvent('blur', {relatedTarget: relatedTargetEl}));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true, relatedTarget: relatedTargetEl}));\n        }\n      });\n\n      stateRef.current.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  }, [dispatchBlur]);\n}\n\nexport let ignoreFocusEvent = false;\n\n/**\n * This function prevents the next focus event fired on `target`, without using `event.preventDefault()`.\n * It works by waiting for the series of focus events to occur, and reverts focus back to where it was before.\n * It also makes these events mostly non-observable by using a capturing listener on the window and stopping propagation.\n */\nexport function preventFocus(target: FocusableElement | null): (() => void) | undefined {\n  // The browser will focus the nearest focusable ancestor of our target.\n  while (target && !isFocusable(target)) {\n    target = target.parentElement;\n  }\n\n  let window = getOwnerWindow(target);\n  let activeElement = window.document.activeElement as FocusableElement | null;\n  if (!activeElement || activeElement === target) {\n    return;\n  }\n\n  ignoreFocusEvent = true;\n  let isRefocusing = false;\n  let onBlur = (e: FocusEvent) => {\n    if (e.target === activeElement || isRefocusing) {\n      e.stopImmediatePropagation();\n    }\n  };\n\n  let onFocusOut = (e: FocusEvent) => {\n    if (e.target === activeElement || isRefocusing) {\n      e.stopImmediatePropagation();\n\n      // If there was no focusable ancestor, we don't expect a focus event.\n      // Re-focus the original active element here.\n      if (!target && !isRefocusing) {\n        isRefocusing = true;\n        focusWithoutScrolling(activeElement);\n        cleanup();\n      }\n    }\n  };\n\n  let onFocus = (e: FocusEvent) => {\n    if (e.target === target || isRefocusing) {\n      e.stopImmediatePropagation();\n    }\n  };\n\n  let onFocusIn = (e: FocusEvent) => {\n    if (e.target === target || isRefocusing) {\n      e.stopImmediatePropagation();\n\n      if (!isRefocusing) {\n        isRefocusing = true;\n        focusWithoutScrolling(activeElement);\n        cleanup();\n      }\n    }\n  };\n\n  window.addEventListener('blur', onBlur, true);\n  window.addEventListener('focusout', onFocusOut, true);\n  window.addEventListener('focusin', onFocusIn, true);\n  window.addEventListener('focus', onFocus, true);\n\n  let cleanup = () => {\n    cancelAnimationFrame(raf);\n    window.removeEventListener('blur', onBlur, true);\n    window.removeEventListener('focusout', onFocusOut, true);\n    window.removeEventListener('focusin', onFocusIn, true);\n    window.removeEventListener('focus', onFocus, true);\n    ignoreFocusEvent = false;\n    isRefocusing = false;\n  };\n\n  let raf = requestAnimationFrame(cleanup);\n  return cleanup;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOwnerDocument, isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<Element, string>();\n\nexport function disableTextSelection(target?: Element): void {\n  if (isIOS()) {\n    if (state === 'default') {\n\n      const documentObject = getOwnerDocument(target);\n      savedUserSelect = documentObject.documentElement.style.webkitUserSelect;\n      documentObject.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    let property = 'userSelect' in target.style ? 'userSelect' : 'webkitUserSelect';\n    modifiedElementMap.set(target, target.style[property]);\n    target.style[property] = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: Element): void {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n\n          const documentObject = getOwnerDocument(target);\n          if (documentObject.documentElement.style.webkitUserSelect === 'none') {\n            documentObject.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target) as string;\n      let property = 'userSelect' in target.style ? 'userSelect' : 'webkitUserSelect';\n\n      if (target.style[property] === 'none') {\n        target.style[property] = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<FocusableElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>({register: () => {}});\nPressResponderContext.displayName = 'PressResponderContext';\n", "function _class_apply_descriptor_get(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n\n    return descriptor.value;\n}\nexport { _class_apply_descriptor_get as _ };\n", "function _class_extract_field_descriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n\n    return privateMap.get(receiver);\n}\nexport { _class_extract_field_descriptor as _ };\n", "import { _ as _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_get(receiver, privateMap) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\n    return _class_apply_descriptor_get(receiver, descriptor);\n}\nexport { _class_private_field_get as _ };\n", "function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n", "import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nfunction _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n", "function _class_apply_descriptor_set(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nexport { _class_apply_descriptor_set as _ };\n", "import { _ as _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_set(receiver, privateMap, value) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\n    _class_apply_descriptor_set(receiver, descriptor, value);\n    return value;\n}\nexport { _class_private_field_set as _ };\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {\n  chain,\n  focusWithoutScrolling,\n  getEventTarget,\n  getOwnerDocument,\n  getOwnerWindow,\n  isMac,\n  isVirtualClick,\n  isVirtualPointerEvent,\n  mergeProps,\n  nodeContains,\n  openLink,\n  useEffectEvent,\n  useGlobalListeners,\n  useSyncRef\n} from '@react-aria/utils';\nimport {createSyntheticEvent, preventFocus, setEventTarget} from './utils';\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {DOMAttributes, FocusableElement, PressEvent as IPressEvent, PointerType, PressEvents, RefObject} from '@react-types/shared';\nimport {flushSync} from 'react-dom';\nimport {PressResponderContext} from './context';\nimport {MouseEvent as RMouseEvent, TouchEvent as RTouchEvent, useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<Element | null>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  didFirePressStart: boolean,\n  isTriggeringEvent: boolean,\n  activePointerId: any,\n  target: FocusableElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType | null,\n  userSelect?: string,\n  metaKeyEvents?: Map<string, KeyboardEvent>,\n  disposables: Array<() => void>\n}\n\ninterface EventBase {\n  currentTarget: EventTarget | null,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean,\n  clientX?: number,\n  clientY?: number,\n  targetTouches?: Array<{clientX?: number, clientY?: number}>\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: DOMAttributes\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\nclass PressEvent implements IPressEvent {\n  type: IPressEvent['type'];\n  pointerType: PointerType;\n  target: Element;\n  shiftKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  altKey: boolean;\n  x: number;\n  y: number;\n  #shouldStopPropagation = true;\n\n  constructor(type: IPressEvent['type'], pointerType: PointerType, originalEvent: EventBase, state?: PressState) {\n    let currentTarget = state?.target ?? originalEvent.currentTarget;\n    const rect: DOMRect | undefined = (currentTarget as Element)?.getBoundingClientRect();\n    let x, y = 0;\n    let clientX, clientY: number | null = null;\n    if (originalEvent.clientX != null && originalEvent.clientY != null) {\n      clientX = originalEvent.clientX;\n      clientY = originalEvent.clientY;\n    }\n    if (rect) {\n      if (clientX != null && clientY != null) {\n        x = clientX - rect.left;\n        y = clientY - rect.top;\n      } else {\n        x = rect.width / 2;\n        y = rect.height / 2;\n      }\n    }\n    this.type = type;\n    this.pointerType = pointerType;\n    this.target = originalEvent.currentTarget as Element;\n    this.shiftKey = originalEvent.shiftKey;\n    this.metaKey = originalEvent.metaKey;\n    this.ctrlKey = originalEvent.ctrlKey;\n    this.altKey = originalEvent.altKey;\n    this.x = x;\n    this.y = y;\n  }\n\n  continuePropagation() {\n    this.#shouldStopPropagation = false;\n  }\n\n  get shouldStopPropagation() {\n    return this.#shouldStopPropagation;\n  }\n}\n\nconst LINK_CLICKED = Symbol('linkClicked');\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    onClick,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    ref: domRef,\n    ...domProps\n  } = usePressResponderContext(props);\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    didFirePressStart: false,\n    isTriggeringEvent: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null,\n    disposables: []\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let triggerPressStart = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled || state.didFirePressStart) {\n      return false;\n    }\n\n    let shouldStopPropagation = true;\n    state.isTriggeringEvent = true;\n    if (onPressStart) {\n      let event = new PressEvent('pressstart', pointerType, originalEvent);\n      onPressStart(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(true);\n    }\n\n    state.isTriggeringEvent = false;\n    state.didFirePressStart = true;\n    setPressed(true);\n    return shouldStopPropagation;\n  });\n\n  let triggerPressEnd = useEffectEvent((originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n    let state = ref.current;\n    if (!state.didFirePressStart) {\n      return false;\n    }\n\n    state.didFirePressStart = false;\n    state.isTriggeringEvent = true;\n\n    let shouldStopPropagation = true;\n    if (onPressEnd) {\n      let event = new PressEvent('pressend', pointerType, originalEvent);\n      onPressEnd(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(false);\n    }\n\n    setPressed(false);\n\n    if (onPress && wasPressed && !isDisabled) {\n      let event = new PressEvent('press', pointerType, originalEvent);\n      onPress(event);\n      shouldStopPropagation &&= event.shouldStopPropagation;\n    }\n\n    state.isTriggeringEvent = false;\n    return shouldStopPropagation;\n  });\n\n  let triggerPressUp = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled) {\n      return false;\n    }\n\n    if (onPressUp) {\n      state.isTriggeringEvent = true;\n      let event = new PressEvent('pressup', pointerType, originalEvent);\n      onPressUp(event);\n      state.isTriggeringEvent = false;\n      return event.shouldStopPropagation;\n    }\n\n    return true;\n  });\n\n  let cancel = useEffectEvent((e: EventBase) => {\n    let state = ref.current;\n    if (state.isPressed && state.target) {\n      if (state.didFirePressStart && state.pointerType != null) {\n        triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n      }\n      state.isPressed = false;\n      state.isOverTarget = false;\n      state.activePointerId = null;\n      state.pointerType = null;\n      removeAllGlobalListeners();\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(state.target);\n      }\n      for (let dispose of state.disposables) {\n        dispose();\n      }\n      state.disposables = [];\n    }\n  });\n\n  let cancelOnPointerExit = useEffectEvent((e: EventBase) => {\n    if (shouldCancelOnPointerExit) {\n      cancel(e);\n    }\n  });\n\n  let triggerClick = useEffectEvent((e: RMouseEvent<FocusableElement>) => {\n    onClick?.(e);\n  });\n\n  let triggerSyntheticClick = useEffectEvent((e: KeyboardEvent | TouchEvent, target: FocusableElement) => {\n    // Some third-party libraries pass in onClick instead of onPress.\n    // Create a fake mouse event and trigger onClick as well.\n    // This matches the browser's native activation behavior for certain elements (e.g. button).\n    // https://html.spec.whatwg.org/#activation\n    // https://html.spec.whatwg.org/#fire-a-synthetic-pointer-event\n    if (onClick) {\n      let event = new MouseEvent('click', e);\n      setEventTarget(event, target);\n      onClick(createSyntheticEvent(event));\n    }\n  });\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let pressProps: DOMAttributes = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          if (shouldPreventDefaultKeyboard(getEventTarget(e.nativeEvent), e.key)) {\n            e.preventDefault();\n          }\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          let shouldStopPropagation = true;\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget;\n            state.isPressed = true;\n            state.pointerType = 'keyboard';\n            shouldStopPropagation = triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred. Make it capturing so that it will trigger\n            // before stopPropagation from useKeyboard on a child element may happen and thus we can still call triggerPress for the parent element.\n            let originalTarget = e.currentTarget;\n            let pressUp = (e) => {\n              if (isValidKeyboardEvent(e, originalTarget) && !e.repeat && nodeContains(originalTarget, getEventTarget(e)) && state.target) {\n                triggerPressUp(createEvent(state.target, e), 'keyboard');\n              }\n            };\n\n            addGlobalListener(getOwnerDocument(e.currentTarget), 'keyup', chain(pressUp, onKeyUp), true);\n          }\n\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n\n          // Keep track of the keydown events that occur while the Meta (e.g. Command) key is held.\n          // macOS has a bug where keyup events are not fired while the Meta key is down.\n          // When the Meta key itself is released we will get an event for that, and we'll act as if\n          // all of these other keys were released as well.\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1393524\n          // https://bugs.webkit.org/show_bug.cgi?id=55291\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1299553\n          if (e.metaKey && isMac()) {\n            state.metaKeyEvents?.set(e.key, e.nativeEvent);\n          }\n        } else if (e.key === 'Meta') {\n          state.metaKeyEvents = new Map();\n        }\n      },\n      onClick(e) {\n        if (e && !nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (e && e.button === 0 && !state.isTriggeringEvent && !(openLink as any).isOpening) {\n          let shouldStopPropagation = true;\n          if (isDisabled) {\n            e.preventDefault();\n          }\n          \n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreEmulatedMouseEvents && !state.isPressed && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            let stopPressStart = triggerPressStart(e, 'virtual');\n            let stopPressUp = triggerPressUp(e, 'virtual');\n            let stopPressEnd = triggerPressEnd(e, 'virtual');\n            triggerClick(e);\n            shouldStopPropagation = stopPressStart && stopPressUp && stopPressEnd;\n          } else if (state.isPressed && state.pointerType !== 'keyboard') {\n            let pointerType = state.pointerType || (e.nativeEvent as PointerEvent).pointerType as PointerType || 'virtual';\n            shouldStopPropagation = triggerPressEnd(createEvent(e.currentTarget, e), pointerType, true);\n            state.isOverTarget = false;\n            triggerClick(e);\n            cancel(e);\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && state.target && isValidKeyboardEvent(e, state.target)) {\n        if (shouldPreventDefaultKeyboard(getEventTarget(e), e.key)) {\n          e.preventDefault();\n        }\n\n        let target = getEventTarget(e);\n        let wasPressed = nodeContains(state.target, getEventTarget(e));\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', wasPressed);\n        if (wasPressed) {\n          triggerSyntheticClick(e, state.target);\n        }\n        removeAllGlobalListeners();\n\n        // If a link was triggered with a key other than Enter, open the URL ourselves.\n        // This means the link has a role override, and the default browser behavior\n        // only applies when using the Enter key.\n        if (e.key !== 'Enter' && isHTMLAnchorLink(state.target) && nodeContains(state.target, target) && !e[LINK_CLICKED]) {\n          // Store a hidden property on the event so we only trigger link click once,\n          // even if there are multiple usePress instances attached to the element.\n          e[LINK_CLICKED] = true;\n          openLink(state.target, e, false);\n        }\n\n        state.isPressed = false;\n        state.metaKeyEvents?.delete(e.key);\n      } else if (e.key === 'Meta' && state.metaKeyEvents?.size) {\n        // If we recorded keydown events that occurred while the Meta key was pressed,\n        // and those haven't received keyup events already, fire keyup events ourselves.\n        // See comment above for more info about the macOS bug causing this.\n        let events = state.metaKeyEvents;\n        state.metaKeyEvents = undefined;\n        for (let event of events.values()) {\n          state.target?.dispatchEvent(new KeyboardEvent('keyup', event));\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        state.pointerType = e.pointerType;\n\n        let shouldStopPropagation = true;\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget as FocusableElement;\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n\n          // Release pointer capture so that touch interactions can leave the original target.\n          // This enables onPointerLeave and onPointerEnter to fire.\n          let target = getEventTarget(e.nativeEvent);\n          if ('releasePointerCapture' in target) {\n            target.releasePointerCapture(e.pointerId);\n          }\n\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointerup', onPointerUp, false);\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointercancel', onPointerCancel, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (e.button === 0) {\n          if (preventFocusOnPress) {\n            let dispose = preventFocus(e.target as FocusableElement);\n            if (dispose) {\n              state.disposables.push(dispose);\n            }\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent)) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        if (e.button === 0) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      pressProps.onPointerEnter = (e) => {\n        if (e.pointerId === state.activePointerId && state.target && !state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = true;\n          triggerPressStart(createEvent(state.target, e), state.pointerType);\n        }\n      };\n\n      pressProps.onPointerLeave = (e) => {\n        if (e.pointerId === state.activePointerId && state.target && state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0 && state.target) {\n          if (nodeContains(state.target, getEventTarget(e)) && state.pointerType != null) {\n            // Wait for onClick to fire onPress. This avoids browser issues when the DOM\n            // is mutated between onPointerUp and onClick, and is more compatible with third party libraries.\n            // https://github.com/adobe/react-spectrum/issues/1513\n            // https://issues.chromium.org/issues/40732224\n            // However, iOS and Android do not focus or fire onClick after a long press.\n            // We work around this by triggering a click ourselves after a timeout.\n            // This timeout is canceled during the click event in case the real one fires first.\n            // The timeout must be at least 32ms, because Safari on iOS delays the click event on\n            // non-form elements without certain ARIA roles (for hover emulation).\n            // https://github.com/WebKit/WebKit/blob/dccfae42bb29bd4bdef052e469f604a9387241c0/Source/WebKit/WebProcess/WebPage/ios/WebPageIOS.mm#L875-L892\n            let clicked = false;\n            let timeout = setTimeout(() => {\n              if (state.isPressed && state.target instanceof HTMLElement) {\n                if (clicked) {\n                  cancel(e);\n                } else {\n                  focusWithoutScrolling(state.target);\n                  state.target.click();\n                }\n              }\n            }, 80);\n            // Use a capturing listener to track if a click occurred.\n            // If stopPropagation is called it may never reach our handler.\n            addGlobalListener(e.currentTarget as Document, 'click', () => clicked = true, true);\n            state.disposables.push(() => clearTimeout(timeout));\n          } else {\n            cancel(e);\n          }\n\n          // Ignore subsequent onPointerLeave event before onClick on touch devices.\n          state.isOverTarget = false;\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else if (process.env.NODE_ENV === 'test') {\n      // NOTE: this fallback branch is entirely used by unit tests.\n      // All browsers now support pointer events, but JSDOM still does not.\n\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (state.ignoreEmulatedMouseEvents) {\n          e.stopPropagation();\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        // Flush sync so that focus moved during react re-renders occurs before we yield back to the browser.\n        let shouldStopPropagation = flushSync(() => triggerPressStart(e, state.pointerType!));\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        if (preventFocusOnPress) {\n          let dispose = preventFocus(e.target as FocusableElement);\n          if (dispose) {\n            state.disposables.push(dispose);\n          }\n        }\n\n        addGlobalListener(getOwnerDocument(e.currentTarget), 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = true;\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType || 'mouse');\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (state.target && state.target.contains(e.target as Element) && state.pointerType != null) {\n          // Wait for onClick to fire onPress. This avoids browser issues when the DOM\n          // is mutated between onMouseUp and onClick, and is more compatible with third party libraries.\n        } else {\n          cancel(e);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        let shouldStopPropagation = triggerPressStart(createTouchEvent(state.target, e), state.pointerType);\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        addGlobalListener(getOwnerWindow(e.currentTarget), 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget && state.pointerType != null) {\n            state.isOverTarget = true;\n            shouldStopPropagation = triggerPressStart(createTouchEvent(state.target!, e), state.pointerType);\n          }\n        } else if (state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(createTouchEvent(state.target!, e), state.pointerType, false);\n          cancelOnPointerExit(createTouchEvent(state.target!, e));\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget) && state.pointerType != null) {\n          triggerPressUp(createTouchEvent(state.target!, e), state.pointerType);\n          shouldStopPropagation = triggerPressEnd(createTouchEvent(state.target!, e), state.pointerType);\n          triggerSyntheticClick(e.nativeEvent, state.target!);\n        } else if (state.isOverTarget && state.pointerType != null) {\n          shouldStopPropagation = triggerPressEnd(createTouchEvent(state.target!, e), state.pointerType, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.target && !allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(createTouchEvent(state.target!, e));\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && nodeContains(getEventTarget(e), state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!nodeContains(e.currentTarget, getEventTarget(e.nativeEvent))) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [\n    addGlobalListener,\n    isDisabled,\n    preventFocusOnPress,\n    removeAllGlobalListeners,\n    allowTextSelectionOnPress,\n    cancel,\n    cancelOnPointerExit,\n    triggerPressEnd,\n    triggerPressStart,\n    triggerPressUp,\n    triggerClick,\n    triggerSyntheticClick\n  ]);\n\n  // Avoid onClick delay for double tap to zoom by default.\n  useEffect(() => {\n    let element = domRef?.current;\n    if (element && (element instanceof getOwnerWindow(element).Element)) {\n      // Only apply touch-action if not already set by another CSS rule.\n      let style = getOwnerWindow(element).getComputedStyle(element);\n      if (style.touchAction === 'auto') {\n        // touchAction: 'manipulation' is supposed to be equivalent, but in \n        // Safari it causes onPointerCancel not to fire on scroll.\n        // https://bugs.webkit.org/show_bug.cgi?id=240917\n        (element as HTMLElement).style.touchAction = 'pan-x pan-y pinch-zoom';\n      }\n    }\n  }, [domRef]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  useEffect(() => {\n    let state = ref.current;\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(state.target ?? undefined);\n      }\n      for (let dispose of state.disposables) {\n        dispose();\n      }\n      state.disposables = [];\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: Element): target is HTMLAnchorElement {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent, currentTarget: Element): boolean {\n  const {key, code} = event;\n  const element = currentTarget as HTMLElement;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    !((element instanceof getOwnerWindow(element).HTMLInputElement && !isValidInputKey(element, key)) ||\n      element instanceof getOwnerWindow(element).HTMLTextAreaElement ||\n      element.isContentEditable) &&\n    // Links should only trigger with Enter key\n    !((role === 'link' || (!role && isHTMLAnchorLink(element))) && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createTouchEvent(target: FocusableElement, e: RTouchEvent<FocusableElement>): EventBase {\n  let clientX = 0;\n  let clientY = 0;\n  if (e.targetTouches && e.targetTouches.length === 1) {\n    clientX = e.targetTouches[0].clientX;\n    clientY = e.targetTouches[0].clientY;\n  }\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey,\n    clientX,\n    clientY\n  };\n}\n\nfunction createEvent(target: FocusableElement, e: EventBase): EventBase {\n  let clientX = e.clientX;\n  let clientY = e.clientY;\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey,\n    clientX,\n    clientY\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = 0;\n  let offsetY = 0;\n  if (point.width !== undefined) {\n    offsetX = (point.width / 2);\n  } else if (point.radiusX !== undefined) {\n    offsetX = point.radiusX;\n  }\n  if (point.height !== undefined) {\n    offsetY = (point.height / 2);\n  } else if (point.radiusY !== undefined) {\n    offsetY = point.radiusY;\n  }\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: Element) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefaultUp(target: Element) {\n  if (target instanceof HTMLInputElement) {\n    return false;\n  }\n\n  if (target instanceof HTMLButtonElement) {\n    return target.type !== 'submit' && target.type !== 'reset';\n  }\n\n  if (isHTMLAnchorLink(target)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element, key: string) {\n  if (target instanceof HTMLInputElement) {\n    return !isValidInputKey(target, key);\n  }\n\n  return shouldPreventDefaultUp(target);\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\nfunction isValidInputKey(target: HTMLInputElement, key: string) {\n  // Only space should toggle checkboxes and radios, not enter.\n  return target.type === 'checkbox' || target.type === 'radio'\n    ? key === ' '\n    : nonTextInputTypes.has(target.type);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {getOwnerDocument, getOwnerWindow, isMac, isVirtualClick} from '@react-aria/utils';\nimport {ignoreFocusEvent} from './utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent | null;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\nexport interface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality: null | Modality = null;\nlet changeHandlers = new Set<Handler>();\ninterface GlobalListenerData {\n  focus: () => void\n}\nexport let hasSetupGlobalListeners = new Map<Window, GlobalListenerData>(); // We use a map here to support setting event listeners across multiple document objects.\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document || ignoreFocusEvent || !e.isTrusted) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  if (ignoreFocusEvent) {\n    return;\n  }\n\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents(element?: HTMLElement | null) {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners.get(getOwnerWindow(element))) {\n    return;\n  }\n\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments as unknown as [options?: FocusOptions | undefined]);\n  };\n\n  documentObject.addEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.addEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  windowObject.addEventListener('focus', handleFocusEvent, true);\n  windowObject.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.addEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.addEventListener('pointermove', handlePointerEvent, true);\n    documentObject.addEventListener('pointerup', handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.addEventListener('mousedown', handlePointerEvent, true);\n    documentObject.addEventListener('mousemove', handlePointerEvent, true);\n    documentObject.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  // Add unmount handler\n  windowObject.addEventListener('beforeunload', () => {\n    tearDownWindowFocusTracking(element);\n  }, {once: true});\n\n  hasSetupGlobalListeners.set(windowObject, {focus});\n}\n\nconst tearDownWindowFocusTracking = (element, loadListener?: () => void) => {\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n  if (loadListener) {\n    documentObject.removeEventListener('DOMContentLoaded', loadListener);\n  }\n  if (!hasSetupGlobalListeners.has(windowObject)) {\n    return;\n  }\n  windowObject.HTMLElement.prototype.focus = hasSetupGlobalListeners.get(windowObject)!.focus;\n\n  documentObject.removeEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.removeEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.removeEventListener('click', handleClickEvent, true);\n\n  windowObject.removeEventListener('focus', handleFocusEvent, true);\n  windowObject.removeEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.removeEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.removeEventListener('pointermove', handlePointerEvent, true);\n    documentObject.removeEventListener('pointerup', handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.removeEventListener('mousedown', handlePointerEvent, true);\n    documentObject.removeEventListener('mousemove', handlePointerEvent, true);\n    documentObject.removeEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners.delete(windowObject);\n};\n\n/**\n * EXPERIMENTAL\n * Adds a window (i.e. iframe) to the list of windows that are being tracked for focus visible.\n *\n * Sometimes apps render portions of their tree into an iframe. In this case, we cannot accurately track if the focus\n * is visible because we cannot see interactions inside the iframe. If you have this in your application's architecture,\n * then this function will attach event listeners inside the iframe. You should call `addWindowFocusTracking` with an\n * element from inside the window you wish to add. We'll retrieve the relevant elements based on that.\n * Note, you do not need to call this for the default window, as we call it for you.\n *\n * When you are ready to stop listening, but you do not wish to unmount the iframe, you may call the cleanup function\n * returned by `addWindowFocusTracking`. Otherwise, when you unmount the iframe, all listeners and state will be cleaned\n * up automatically for you.\n *\n * @param element @default document.body - The element provided will be used to get the window to add.\n * @returns A function to remove the event listeners and cleanup the state.\n */\nexport function addWindowFocusTracking(element?: HTMLElement | null): () => void {\n  const documentObject = getOwnerDocument(element);\n  let loadListener;\n  if (documentObject.readyState !== 'loading') {\n    setupGlobalFocusEvents(element);\n  } else {\n    loadListener = () => {\n      setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener('DOMContentLoaded', loadListener);\n  }\n\n  return () => tearDownWindowFocusTracking(element, loadListener);\n}\n\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') {\n  addWindowFocusTracking();\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality | null {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality): void {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality | null {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return useIsSSR() ? null : modality;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  let document = getOwnerDocument(e?.target as Element);\n  const IHTMLInputElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLInputElement : HTMLInputElement;\n  const IHTMLTextAreaElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLTextAreaElement : HTMLTextAreaElement;\n  const IHTMLElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLElement : HTMLElement;\n  const IKeyboardEvent = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).KeyboardEvent : KeyboardEvent;\n\n  // For keyboard events that occur on a non-input element that will move focus into input element (aka ArrowLeft going from Datepicker button to the main input group)\n  // we need to rely on the user passing isTextInput into here. This way we can skip toggling focus visiblity for said input element\n  isTextInput = isTextInput ||\n    (document.activeElement instanceof IHTMLInputElement && !nonTextInputTypes.has(document.activeElement.type)) ||\n    document.activeElement instanceof IHTMLTextAreaElement ||\n    (document.activeElement instanceof IHTMLElement && document.activeElement.isContentEditable);\n  return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      // We want to early return for any keyboard events that occur inside text inputs EXCEPT for Tab and Escape\n      if (!isKeyboardFocusEvent(!!(opts?.isTextInput), modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {\n  focusWithoutScrolling,\n  getActiveElement,\n  getOwnerDocument,\n  runAfterTransition\n} from '@react-aria/utils';\nimport {getInteractionModality} from './useFocusVisible';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: FocusableElement): void {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  const ownerDocument = getOwnerDocument(element);\n  const activeElement = getActiveElement(ownerDocument);\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (getActiveElement(ownerDocument) === lastFocusedElement && element.isConnected) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, FocusableElement, FocusEvents} from '@react-types/shared';\nimport {FocusEvent, useCallback} from 'react';\nimport {getActiveElement, getEventTarget, getOwnerDocument} from '@react-aria/utils';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusProps<Target = FocusableElement> extends FocusEvents<Target> {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusResult<Target = FocusableElement> {\n  /** Props to spread onto the target element. */\n  focusProps: DOMAttributes<Target>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus<Target extends FocusableElement = FocusableElement>(props: FocusProps<Target>): FocusResult<Target> {\n  let {\n    isDisabled,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onFocusChange\n  } = props;\n\n  const onBlur: FocusProps<Target>['onBlur'] = useCallback((e: FocusEvent<Target>) => {\n    if (e.target === e.currentTarget) {\n      if (onBlurProp) {\n        onBlurProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(false);\n      }\n\n      return true;\n    }\n  }, [onBlurProp, onFocusChange]);\n\n\n  const onSyntheticFocus = useSyntheticBlurEvent<Target>(onBlur);\n\n  const onFocus: FocusProps<Target>['onFocus'] = useCallback((e: FocusEvent<Target>) => {\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n\n    const ownerDocument = getOwnerDocument(e.target);\n    const activeElement = ownerDocument ? getActiveElement(ownerDocument) : getActiveElement();\n    if (e.target === e.currentTarget && activeElement === getEventTarget(e.nativeEvent)) {\n      if (onFocusProp) {\n        onFocusProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(true);\n      }\n\n      onSyntheticFocus(e);\n    }\n  }, [onFocusChange, onFocusProp, onSyntheticFocus]);\n\n  return {\n    focusProps: {\n      onFocus: (!isDisabled && (onFocusProp || onFocusChange || onBlurProp)) ? onFocus : undefined,\n      onBlur: (!isDisabled && (onBlurProp || onFocusChange)) ? onBlur : undefined\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler?: (e: BaseEvent<T>) => void): ((e: T) => void) | undefined {\n  if (!handler) {\n    return undefined;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        if (shouldStopPropagation && process.env.NODE_ENV !== 'production') {\n          console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n        } else {\n          shouldStopPropagation = true;\n        }\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      },\n      isPropagationStopped() {\n        return shouldStopPropagation;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {DOMAttributes, KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: DOMAttributes\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableDOMProps, FocusableElement, FocusableProps, RefObject} from '@react-types/shared';\nimport {focusSafely} from './';\nimport {getOwnerWindow, isFocusable, mergeProps, mergeRefs, useObjectRef, useSyncRef} from '@react-aria/utils';\nimport React, {ForwardedRef, forwardRef, MutableRefObject, ReactElement, ReactNode, useContext, useEffect, useRef} from 'react';\nimport {useFocus} from './useFocus';\nimport {useKeyboard} from './useKeyboard';\n\nexport interface FocusableOptions<T = FocusableElement> extends FocusableProps<T>, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusableProviderProps extends DOMAttributes {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<FocusableElement | null>\n}\n\n// Exported for @react-aria/collections, which forwards this context.\n/** @private */\nexport let FocusableContext = React.createContext<FocusableContextValue | null>(null);\n\nfunction useFocusableContext(ref: RefObject<FocusableElement | null>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nexport const FocusableProvider = React.forwardRef(function FocusableProvider(props: FocusableProviderProps, ref: ForwardedRef<FocusableElement>) {\n  let {children, ...otherProps} = props;\n  let objRef = useObjectRef(ref);\n  let context = {\n    ...otherProps,\n    ref: objRef\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n});\n\nexport interface FocusableAria {\n  /** Props for the focusable element. */\n  focusableProps: DOMAttributes\n}\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable<T extends FocusableElement = FocusableElement>(props: FocusableOptions<T>, domRef: RefObject<FocusableElement | null>): FocusableAria {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      focusSafely(domRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [domRef]);\n\n  // Always set a tabIndex so that Safari allows focusing native buttons and inputs.\n  let tabIndex: number | undefined = props.excludeFromTabOrder ? -1 : 0;\n  if (props.isDisabled) {\n    tabIndex = undefined;\n  }\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex\n      },\n      interactionProps\n    )\n  };\n}\n\nexport interface FocusableComponentProps extends FocusableOptions {\n  children: ReactElement<DOMAttributes, string>\n}\n\nexport const Focusable = forwardRef(({children, ...props}: FocusableComponentProps, ref: ForwardedRef<FocusableElement>) => {\n  ref = useObjectRef(ref);\n  let {focusableProps} = useFocusable(props, ref);\n  let child = React.Children.only(children);\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    let el = ref.current;\n    if (!el || !(el instanceof getOwnerWindow(el).Element)) {\n      console.error('<Focusable> child must forward its ref to a DOM element.');\n      return;\n    }\n\n    if (!props.isDisabled && !isFocusable(el)) {\n      console.warn('<Focusable> child must be focusable. Please ensure the tabIndex prop is passed through.');\n      return;\n    }\n\n    if (\n      el.localName !== 'button' &&\n      el.localName !== 'input' &&\n      el.localName !== 'select' &&\n      el.localName !== 'textarea' &&\n      el.localName !== 'a' &&\n      el.localName !== 'area' &&\n      el.localName !== 'summary' &&\n      el.localName !== 'img' &&\n      el.localName !== 'svg'\n    ) {\n      let role = el.getAttribute('role');\n      if (!role) {\n        console.warn('<Focusable> child must have an interactive ARIA role.');\n      } else if (\n        // https://w3c.github.io/aria/#widget_roles\n        role !== 'application' &&\n        role !== 'button' &&\n        role !== 'checkbox' &&\n        role !== 'combobox' &&\n        role !== 'gridcell' &&\n        role !== 'link' &&\n        role !== 'menuitem' &&\n        role !== 'menuitemcheckbox' &&\n        role !== 'menuitemradio' &&\n        role !== 'option' &&\n        role !== 'radio' &&\n        role !== 'searchbox' &&\n        role !== 'separator' &&\n        role !== 'slider' &&\n        role !== 'spinbutton' &&\n        role !== 'switch' &&\n        role !== 'tab' &&\n        role !== 'tabpanel' &&\n        role !== 'textbox' &&\n        role !== 'treeitem' &&\n        // aria-describedby is also announced on these roles\n        role !== 'img' &&\n        role !== 'meter' &&\n        role !== 'progressbar'\n      ) {\n        console.warn(`<Focusable> child must have an interactive ARIA role. Got \"${role}\".`);\n      }\n    }\n  }, [ref, props.isDisabled]);\n\n  // @ts-ignore\n  let childRef = parseInt(React.version, 10) < 19 ? child.ref : child.props.ref;\n\n  return React.cloneElement(\n    child,\n    {\n      ...mergeProps(focusableProps, child.props),\n      // @ts-ignore\n      ref: mergeRefs(childRef, ref)\n    }\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableElement} from '@react-types/shared';\nimport {getOwnerWindow, isFocusable, mergeProps, mergeRefs, useObjectRef} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {ForwardedRef, ReactElement, useEffect} from 'react';\nimport {useFocusable} from './useFocusable';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<DOMAttributes, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: ForwardedRef<FocusableElement>) => {\n  ref = useObjectRef(ref);\n  let {pressProps} = usePress({...props, ref});\n  let {focusableProps} = useFocusable(props, ref);\n  let child = React.Children.only(children);\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n    \n    let el = ref.current;\n    if (!el || !(el instanceof getOwnerWindow(el).Element)) {\n      console.error('<Pressable> child must forward its ref to a DOM element.');\n      return;\n    }\n\n    if (!isFocusable(el)) {\n      console.warn('<Pressable> child must be focusable. Please ensure the tabIndex prop is passed through.');\n      return;\n    }\n\n    if (\n      el.localName !== 'button' &&\n      el.localName !== 'input' &&\n      el.localName !== 'select' &&\n      el.localName !== 'textarea' &&\n      el.localName !== 'a' &&\n      el.localName !== 'area' &&\n      el.localName !== 'summary'\n    ) {\n      let role = el.getAttribute('role');\n      if (!role) {\n        console.warn('<Pressable> child must have an interactive ARIA role.');\n      } else if (\n        // https://w3c.github.io/aria/#widget_roles\n        role !== 'application' &&\n        role !== 'button' &&\n        role !== 'checkbox' &&\n        role !== 'combobox' &&\n        role !== 'gridcell' &&\n        role !== 'link' &&\n        role !== 'menuitem' &&\n        role !== 'menuitemcheckbox' &&\n        role !== 'menuitemradio' &&\n        role !== 'option' &&\n        role !== 'radio' &&\n        role !== 'searchbox' &&\n        role !== 'separator' &&\n        role !== 'slider' &&\n        role !== 'spinbutton' &&\n        role !== 'switch' &&\n        role !== 'tab' &&\n        role !== 'textbox' &&\n        role !== 'treeitem'\n      ) {\n        console.warn(`<Pressable> child must have an interactive ARIA role. Got \"${role}\".`);\n      }\n    }\n  }, [ref]);\n\n  // @ts-ignore\n  let childRef = parseInt(React.version, 10) < 19 ? child.ref : child.props.ref;\n\n  return React.cloneElement(\n    child,\n    {\n      ...mergeProps(pressProps, focusableProps, child.props),\n      // @ts-ignore\n      ref: mergeRefs(childRef, ref)\n    }\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {mergeProps, useObjectRef, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ForwardedRef, ReactNode, useContext, useEffect, useMemo, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: ForwardedRef<FocusableElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  ref = useObjectRef(ref || prevContext?.ref);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\n          'A PressResponder was rendered without a pressable child. ' +\n          'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n        );\n      }\n      isRegistered.current = true; // only warn once in strict mode.\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n\nexport function ClearPressResponder({children}: {children: ReactNode}): ReactNode {\n  let context = useMemo(() => ({register: () => {}}), []);\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {createSyntheticEvent, setEventTarget, useSyntheticBlurEvent} from './utils';\nimport {DOMAttributes} from '@react-types/shared';\nimport {FocusEvent, useCallback, useRef} from 'react';\nimport {getActiveElement, getEventTarget, getOwnerDocument, nodeContains, useGlobalListeners} from '@react-aria/utils';\n\nexport interface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\nexport interface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let {\n    isDisabled,\n    onBlurWithin,\n    onFocusWithin,\n    onFocusWithinChange\n  } = props;\n  let state = useRef({\n    isFocusWithin: false\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let onBlur = useCallback((e: FocusEvent) => {\n    // Ignore events bubbling through portals.\n    if (!e.currentTarget.contains(e.target)) {\n      return;\n    }\n\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.current.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.current.isFocusWithin = false;\n      removeAllGlobalListeners();\n\n      if (onBlurWithin) {\n        onBlurWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(false);\n      }\n    }\n  }, [onBlurWithin, onFocusWithinChange, state, removeAllGlobalListeners]);\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = useCallback((e: FocusEvent) => {\n    // Ignore events bubbling through portals.\n    if (!e.currentTarget.contains(e.target)) {\n      return;\n    }\n\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n    const ownerDocument = getOwnerDocument(e.target);\n    const activeElement = getActiveElement(ownerDocument);\n    if (!state.current.isFocusWithin && activeElement === getEventTarget(e.nativeEvent)) {\n      if (onFocusWithin) {\n        onFocusWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(true);\n      }\n\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e);\n\n      // Browsers don't fire blur events when elements are removed from the DOM.\n      // However, if a focus event occurs outside the element we're tracking, we\n      // can manually fire onBlur.\n      let currentTarget = e.currentTarget;\n      addGlobalListener(ownerDocument, 'focus', e => {\n        if (state.current.isFocusWithin && !nodeContains(currentTarget, e.target as Element)) {\n          let nativeEvent = new ownerDocument.defaultView!.FocusEvent('blur', {relatedTarget: e.target});\n          setEventTarget(nativeEvent, currentTarget);\n          let event = createSyntheticEvent<FocusEvent>(nativeEvent);\n          onBlur(event);\n        }\n      }, {capture: true});\n    }\n  }, [onFocusWithin, onFocusWithinChange, onSyntheticFocus, addGlobalListener, onBlur]);\n\n  if (isDisabled) {\n    return {\n      focusWithinProps: {\n        // These cannot be null, that would conflict in mergeProps\n        onFocus: undefined,\n        onBlur: undefined\n      }\n    };\n  }\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, HoverEvents} from '@react-types/shared';\nimport {getOwnerDocument, nodeContains, useGlobalListeners} from '@react-aria/utils';\nimport {useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: DOMAttributes,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else if (process.env.NODE_ENV === 'test') {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else if (process.env.NODE_ENV === 'test') {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      // When an element that is hovered over is removed, no pointerleave event is fired by the browser,\n      // even though the originally hovered target may have shrunk in size so it is no longer hovered.\n      // However, a pointerover event will be fired on the new target the mouse is over.\n      // In Chrome this happens immediately. In Safari and Firefox, it happens upon moving the mouse one pixel.\n      addGlobalListener(getOwnerDocument(event.target), 'pointerover', e => {\n        if (state.isHovered && state.target && !nodeContains(state.target, e.target as Element)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      }, {capture: true});\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      let target = state.target;\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered || !target) {\n        return;\n      }\n\n      state.isHovered = false;\n      removeAllGlobalListeners();\n\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: DOMAttributes = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else if (process.env.NODE_ENV === 'test') {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state, addGlobalListener, removeAllGlobalListeners]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n  createShadowTreeWalker,\n  getActiveElement,\n  getEventTarget,\n  getOwnerDocument,\n  isAndroid,\n  isChrome,\n  isFocusable,\n  isTabbable,\n  ShadowTreeWalker,\n  useLayoutEffect\n} from '@react-aria/utils';\nimport {FocusableElement, RefObject} from '@react-types/shared';\nimport {focusSafely, getInteractionModality} from '@react-aria/interactions';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, useContext, useEffect, useMemo, useRef} from 'react';\n\nexport interface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\nexport interface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: Element,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean,\n  /** A callback that determines whether the given element is focused. */\n  accept?: (node: Element) => boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): FocusableElement | null,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): FocusableElement | null,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): FocusableElement | null,\n  /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): FocusableElement | null\n}\n\ntype ScopeRef = RefObject<Element[] | null> | null;\ninterface IFocusContext {\n  focusManager: FocusManager,\n  parentNode: TreeNode | null\n}\n\nconst FocusContext = React.createContext<IFocusContext | null>(null);\nconst RESTORE_FOCUS_EVENT = 'react-aria-focus-scope-restore';\n\nlet activeScope: ScopeRef = null;\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps): ReactNode {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>(null);\n  let endRef = useRef<HTMLSpanElement>(null);\n  let scopeRef = useRef<Element[]>([]);\n  let {parentNode} = useContext(FocusContext) || {};\n\n  // Create a tree node here so we can add children to it even before it is added to the tree.\n  let node = useMemo(() => new TreeNode({scopeRef}), [scopeRef]);\n\n  useLayoutEffect(() => {\n    // If a new scope mounts outside the active scope, (e.g. DialogContainer launched from a menu),\n    // use the active scope as the parent instead of the parent from context. Layout effects run bottom\n    // up, so if the parent is not yet added to the tree, don't do this. Only the outer-most FocusScope\n    // that is being added should get the activeScope as its parent.\n    let parent = parentNode || focusScopeTree.root;\n    if (focusScopeTree.getTreeNode(parent.scopeRef) && activeScope && !isAncestorScope(activeScope, parent.scopeRef)) {\n      let activeNode = focusScopeTree.getTreeNode(activeScope);\n      if (activeNode) {\n        parent = activeNode;\n      }\n    }\n\n    // Add the node to the parent, and to the tree.\n    parent.addChild(node);\n    focusScopeTree.addNode(node);\n  }, [node, parentNode]);\n\n  useLayoutEffect(() => {\n    let node = focusScopeTree.getTreeNode(scopeRef);\n    if (node) {\n      node.contain = !!contain;\n    }\n  }, [contain]);\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current?.nextSibling!;\n    let nodes: Element[] = [];\n    let stopPropagation = e => e.stopPropagation();\n    while (node && node !== endRef.current) {\n      nodes.push(node as Element);\n      // Stop custom restore focus event from propagating to parent focus scopes.\n      node.addEventListener(RESTORE_FOCUS_EVENT, stopPropagation);\n      node = node.nextSibling as Element;\n    }\n\n    scopeRef.current = nodes;\n\n    return () => {\n      for (let node of nodes) {\n        node.removeEventListener(RESTORE_FOCUS_EVENT, stopPropagation);\n      }\n    };\n  }, [children]);\n\n  useActiveScopeTracker(scopeRef, restoreFocus, contain);\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  // This needs to be an effect so that activeScope is updated after the FocusScope tree is complete.\n  // It cannot be a useLayoutEffect because the parent of this node hasn't been attached in the tree yet.\n  useEffect(() => {\n    const activeElement = getActiveElement(getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined));\n    let scope: TreeNode | null = null;\n\n    if (isElementInScope(activeElement, scopeRef.current)) {\n      // We need to traverse the focusScope tree and find the bottom most scope that\n      // contains the active element and set that as the activeScope.\n      for (let node of focusScopeTree.traverse()) {\n        if (node.scopeRef && isElementInScope(activeElement, node.scopeRef.current)) {\n          scope = node;\n        }\n      }\n\n      if (scope === focusScopeTree.getTreeNode(scopeRef)) {\n        activeScope = scope.scopeRef;\n      }\n    }\n  }, [scopeRef]);\n\n  // This layout effect cleanup is so that the tree node is removed synchronously with react before the RAF\n  // in useRestoreFocus cleanup runs.\n  useLayoutEffect(() => {\n    return () => {\n      // Scope may have been re-parented.\n      let parentScope = focusScopeTree.getTreeNode(scopeRef)?.parent?.scopeRef ?? null;\n\n      if (\n        (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n        (!parentScope || focusScopeTree.getTreeNode(parentScope))\n      ) {\n        activeScope = parentScope;\n      }\n      focusScopeTree.removeTreeNode(scopeRef);\n    };\n  }, [scopeRef]);\n\n  let focusManager = useMemo(() => createFocusManagerForScope(scopeRef), []);\n  let value = useMemo(() => ({\n    focusManager,\n    parentNode: node\n  }), [node, focusManager]);\n\n  return (\n    <FocusContext.Provider value={value}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager | undefined {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<Element[] | null>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current!;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || getActiveElement(getOwnerDocument(scope[0] ?? undefined))!;\n      let sentinel = scope[0].previousElementSibling!;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current!;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || getActiveElement(getOwnerDocument(scope[0] ?? undefined))!;\n      let sentinel = scope[scope.length - 1].nextElementSibling!;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node  : sentinel;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as FocusableElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current!;\n      let {tabbable, accept} = opts;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = scope[0].previousElementSibling!;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current!;\n      let {tabbable, accept} = opts;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling!;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nfunction getScopeRoot(scope: Element[]) {\n  return scope[0].parentElement!;\n}\n\nfunction shouldContainFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<Element[] | null>, contain?: boolean) {\n  let focusedNode = useRef<FocusableElement>(undefined);\n\n  let raf = useRef<ReturnType<typeof requestAnimationFrame>>(undefined);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = undefined;\n      }\n      return;\n    }\n\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef) || e.isComposing) {\n        return;\n      }\n\n      let focusedElement = getActiveElement(ownerDocument);\n      let scope = scopeRef.current;\n      if (!scope || !isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable: true}, scope);\n      if (!focusedElement) {\n        return;\n      }\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling! : scope[0].previousElementSibling!;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus: EventListener = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if ((!activeScope || isAncestorScope(activeScope, scopeRef)) && isElementInScope(getEventTarget(e) as Element, scopeRef.current)) {\n        activeScope = scopeRef;\n        focusedNode.current = getEventTarget(e) as FocusableElement;\n      } else if (shouldContainFocus(scopeRef) && !isElementInChildScope(getEventTarget(e) as Element, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope && activeScope.current) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (shouldContainFocus(scopeRef)) {\n        focusedNode.current = getEventTarget(e) as FocusableElement;\n      }\n    };\n\n    let onBlur: EventListener = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n      raf.current = requestAnimationFrame(() => {\n        // Patches infinite focus coersion loop for Android Talkback where the user isn't able to move the virtual cursor\n        // if within a containing focus scope. Bug filed against Chrome: https://issuetracker.google.com/issues/384844019.\n        // Note that this means focus can leave focus containing modals due to this, but it is isolated to Chrome Talkback.\n        let modality = getInteractionModality();\n        let shouldSkipFocusRestore = (modality === 'virtual' || modality === null) && isAndroid() && isChrome();\n\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        let activeElement = getActiveElement(ownerDocument);\n        if (!shouldSkipFocusRestore && activeElement && shouldContainFocus(scopeRef) && !isElementInChildScope(activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          let target = getEventTarget(e) as FocusableElement;\n          if (target && target.isConnected) {\n            focusedNode.current = target;\n            focusedNode.current?.focus();\n          } else if (activeScope.current) {\n            focusFirstInScope(activeScope.current);\n          }\n        }\n      });\n    };\n\n    ownerDocument.addEventListener('keydown', onKeyDown, false);\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope?.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      ownerDocument.removeEventListener('keydown', onKeyDown, false);\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope?.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // This is a useLayoutEffect so it is guaranteed to run before our async synthetic blur\n\n  useLayoutEffect(() => {\n    return () => {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n    };\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  return isElementInChildScope(element);\n}\n\nfunction isElementInScope(element?: Element | null, scope?: Element[] | null) {\n  if (!element) {\n    return false;\n  }\n  if (!scope) {\n    return false;\n  }\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef = null) {\n  // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n  if (element instanceof Element && element.closest('[data-react-aria-top-layer]')) {\n    return true;\n  }\n\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let {scopeRef: s} of focusScopeTree.traverse(focusScopeTree.getTreeNode(scope))) {\n    if (s && isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/** @private */\nexport function isElementInChildOfActiveScope(element: Element): boolean {\n  return isElementInChildScope(element, activeScope);\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = focusScopeTree.getTreeNode(scope)?.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) {\n      return true;\n    }\n    parent = parent.parent;\n  }\n  return false;\n}\n\nfunction focusElement(element: FocusableElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch {\n      // ignore\n    }\n  }\n}\n\nfunction getFirstInScope(scope: Element[], tabbable = true) {\n  let sentinel = scope[0].previousElementSibling!;\n  let scopeRoot = getScopeRoot(scope);\n  let walker = getFocusableTreeWalker(scopeRoot, {tabbable}, scope);\n  walker.currentNode = sentinel;\n  let nextNode = walker.nextNode();\n\n  // If the scope does not contain a tabbable element, use the first focusable element.\n  if (tabbable && !nextNode) {\n    scopeRoot = getScopeRoot(scope);\n    walker = getFocusableTreeWalker(scopeRoot, {tabbable: false}, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n\n  return nextNode as FocusableElement;\n}\n\nfunction focusFirstInScope(scope: Element[], tabbable:boolean = true) {\n  focusElement(getFirstInScope(scope, tabbable));\n}\n\nfunction useAutoFocus(scopeRef: RefObject<Element[] | null>, autoFocus?: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n      if (!isElementInScope(getActiveElement(ownerDocument), activeScope.current) && scopeRef.current) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\n\nfunction useActiveScopeTracker(scopeRef: RefObject<Element[] | null>, restore?: boolean, contain?: boolean) {\n  // tracks the active scope, in case restore and contain are both false.\n  // if either are true, this is tracked in useRestoreFocus or useFocusContainment.\n  useLayoutEffect(() => {\n    if (restore || contain) {\n      return;\n    }\n\n    let scope = scopeRef.current;\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n\n    let onFocus = (e) => {\n      let target = getEventTarget(e) as Element;\n      if (isElementInScope(target, scopeRef.current)) {\n        activeScope = scopeRef;\n      } else if (!isElementInAnyScope(target)) {\n        activeScope = null;\n      }\n    };\n\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, restore, contain]);\n}\n\nfunction shouldRestoreFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.nodeToRestore) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return scope?.scopeRef === scopeRef;\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<Element[] | null>, restoreFocus?: boolean, contain?: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  // eslint-disable-next-line no-restricted-globals\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? getActiveElement(getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined)) as FocusableElement : null);\n\n  // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n  // restoring-non-containing scopes should only care if they become active so they can perform the restore\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n    if (!restoreFocus || contain) {\n      return;\n    }\n\n    let onFocus = () => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if ((!activeScope || isAncestorScope(activeScope, scopeRef)) &&\n        isElementInScope(getActiveElement(ownerDocument), scopeRef.current)\n      ) {\n        activeScope = scopeRef;\n      }\n    };\n\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scopeRef, contain]);\n\n  useLayoutEffect(() => {\n    const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef) || e.isComposing) {\n        return;\n      }\n\n      let focusedElement = ownerDocument.activeElement as FocusableElement;\n      if (!isElementInChildScope(focusedElement, scopeRef) || !shouldRestoreFocus(scopeRef)) {\n        return;\n      }\n      let treeNode = focusScopeTree.getTreeNode(scopeRef);\n      if (!treeNode) {\n        return;\n      }\n      let nodeToRestore = treeNode.nodeToRestore;\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(ownerDocument.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n\n      if (!nodeToRestore || !nodeToRestore.isConnected || nodeToRestore === ownerDocument.body) {\n        nodeToRestore = undefined;\n        treeNode.nodeToRestore = undefined;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInChildScope(nextElement, scopeRef)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n        } while (isElementInChildScope(nextElement, scopeRef));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n          // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n          // then move focus to the body.\n          // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      ownerDocument.addEventListener('keydown', onKeyDown as EventListener, true);\n    }\n\n    return () => {\n      if (!contain) {\n        ownerDocument.removeEventListener('keydown', onKeyDown as EventListener, true);\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n\n    if (!restoreFocus) {\n      return;\n    }\n\n    let treeNode = focusScopeTree.getTreeNode(scopeRef);\n    if (!treeNode) {\n      return;\n    }\n    treeNode.nodeToRestore = nodeToRestoreRef.current ?? undefined;\n    return () => {\n      let treeNode = focusScopeTree.getTreeNode(scopeRef);\n      if (!treeNode) {\n        return;\n      }\n      let nodeToRestore = treeNode.nodeToRestore;\n\n      // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n      let activeElement = getActiveElement(ownerDocument);\n      if (\n        restoreFocus\n        && nodeToRestore\n        && (\n          ((activeElement && isElementInChildScope(activeElement, scopeRef)) || (activeElement === ownerDocument.body && shouldRestoreFocus(scopeRef)))\n        )\n      ) {\n        // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n        let clonedTree = focusScopeTree.clone();\n        requestAnimationFrame(() => {\n          // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n          if (ownerDocument.activeElement === ownerDocument.body) {\n            // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n            let treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.nodeToRestore && treeNode.nodeToRestore.isConnected) {\n                restoreFocusToElement(treeNode.nodeToRestore);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n\n            // If no nodeToRestore was found, focus the first element in the nearest\n            // ancestor scope that is still in the tree.\n            treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.scopeRef && treeNode.scopeRef.current && focusScopeTree.getTreeNode(treeNode.scopeRef)) {\n                let node = getFirstInScope(treeNode.scopeRef.current, true);\n                restoreFocusToElement(node);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus]);\n}\n\nfunction restoreFocusToElement(node: FocusableElement) {\n  // Dispatch a custom event that parent elements can intercept to customize focus restoration.\n  // For example, virtualized collection components reuse DOM elements, so the original element\n  // might still exist in the DOM but representing a different item.\n  if (node.dispatchEvent(new CustomEvent(RESTORE_FOCUS_EVENT, {bubbles: true, cancelable: true}))) {\n    focusElement(node);\n  }\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: Element, opts?: FocusManagerOptions, scope?: Element[]): ShadowTreeWalker | TreeWalker {\n  let filter = opts?.tabbable ? isTabbable : isFocusable;\n\n  // Ensure that root is an Element or fall back appropriately\n  let rootElement = root?.nodeType === Node.ELEMENT_NODE ? (root as Element) : null;\n\n  // Determine the document to use\n  let doc = getOwnerDocument(rootElement);\n\n  // Create a TreeWalker, ensuring the root is an Element or Document\n  let walker = createShadowTreeWalker(\n    doc,\n    root || doc,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if (filter(node as Element)\n          && isElementVisible(node as Element)\n          && (!scope || isElementInScope(node as Element, scope))\n          && (!opts?.accept || opts.accept(node as Element))\n        ) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<Element | null>, defaultOptions: FocusManagerOptions = {}): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || getActiveElement(getOwnerDocument(root));\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node!;\n      }\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || getActiveElement(getOwnerDocument(root));\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node!;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next ?? null;\n      }\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        let lastNode = last(walker);\n        if (!lastNode) {\n          // couldn't wrap\n          return null;\n        }\n        previousNode = lastNode;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode ?? null;\n    },\n    focusFirst(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next ?? null;\n    }\n  };\n}\n\nfunction last(walker: ShadowTreeWalker | TreeWalker) {\n  let next: FocusableElement | undefined = undefined;\n  let last: FocusableElement;\n  do {\n    last = walker.lastChild() as FocusableElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n\n\nclass Tree {\n  root: TreeNode;\n  private fastMap = new Map<ScopeRef, TreeNode>();\n\n  constructor() {\n    this.root = new TreeNode({scopeRef: null});\n    this.fastMap.set(null, this.root);\n  }\n\n  get size() {\n    return this.fastMap.size;\n  }\n\n  getTreeNode(data: ScopeRef) {\n    return this.fastMap.get(data);\n  }\n\n  addTreeNode(scopeRef: ScopeRef, parent: ScopeRef, nodeToRestore?: FocusableElement) {\n    let parentNode = this.fastMap.get(parent ?? null);\n    if (!parentNode) {\n      return;\n    }\n    let node = new TreeNode({scopeRef});\n    parentNode.addChild(node);\n    node.parent = parentNode;\n    this.fastMap.set(scopeRef, node);\n    if (nodeToRestore) {\n      node.nodeToRestore = nodeToRestore;\n    }\n  }\n\n  addNode(node: TreeNode) {\n    this.fastMap.set(node.scopeRef, node);\n  }\n\n  removeTreeNode(scopeRef: ScopeRef) {\n    // never remove the root\n    if (scopeRef === null) {\n      return;\n    }\n    let node = this.fastMap.get(scopeRef);\n    if (!node) {\n      return;\n    }\n    let parentNode = node.parent;\n    // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n    // if we are, then replace the siblings restore with the restore from the scope we're removing\n    for (let current of this.traverse()) {\n      if (\n        current !== node &&\n        node.nodeToRestore &&\n        current.nodeToRestore &&\n        node.scopeRef &&\n        node.scopeRef.current &&\n        isElementInScope(current.nodeToRestore, node.scopeRef.current)\n      ) {\n        current.nodeToRestore = node.nodeToRestore;\n      }\n    }\n    let children = node.children;\n    if (parentNode) {\n      parentNode.removeChild(node);\n      if (children.size > 0) {\n        children.forEach(child => parentNode && parentNode.addChild(child));\n      }\n    }\n\n    this.fastMap.delete(node.scopeRef);\n  }\n\n  // Pre Order Depth First\n  *traverse(node: TreeNode = this.root): Generator<TreeNode> {\n    if (node.scopeRef != null) {\n      yield node;\n    }\n    if (node.children.size > 0) {\n      for (let child of node.children) {\n        yield* this.traverse(child);\n      }\n    }\n  }\n\n  clone(): Tree {\n    let newTree = new Tree();\n    for (let node of this.traverse()) {\n      newTree.addTreeNode(node.scopeRef, node.parent?.scopeRef ?? null, node.nodeToRestore);\n    }\n    return newTree;\n  }\n}\n\nclass TreeNode {\n  public scopeRef: ScopeRef;\n  public nodeToRestore?: FocusableElement;\n  public parent?: TreeNode;\n  public children: Set<TreeNode> = new Set();\n  public contain = false;\n\n  constructor(props: {scopeRef: ScopeRef}) {\n    this.scopeRef = props.scopeRef;\n  }\n  addChild(node: TreeNode) {\n    this.children.add(node);\n    node.parent = this;\n  }\n  removeChild(node: TreeNode) {\n    this.children.delete(node);\n    node.parent = undefined;\n  }\n}\n\nexport let focusScopeTree = new Tree();\n", "import {DOMAttributes} from '@react-types/shared';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useCallback, useRef, useState} from 'react';\n\nexport interface AriaFocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: AriaFocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  });\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.current.isFocused && state.current.isFocusVisible);\n\n  let updateState = useCallback(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n\n  let onFocusChange = useCallback(isFocused => {\n    state.current.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  }, [updateState]);\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n", "\"use client\";import{useFocusRing as y}from\"@react-aria/focus\";import{useHover as b}from\"@react-aria/interactions\";import{useMemo as P}from\"react\";import{useActivePress as B}from'../../hooks/use-active-press.js';import{useDisabled as c}from'../../internal/disabled.js';import{forwardRefWithAs as A,mergeProps as g,useRender as _}from'../../utils/render.js';let R=\"button\";function v(a,u){var p;let l=c(),{disabled:e=l||!1,autoFocus:t=!1,...o}=a,{isFocusVisible:r,focusProps:i}=y({autoFocus:t}),{isHovered:s,hoverProps:T}=b({isDisabled:e}),{pressed:n,pressProps:d}=B({disabled:e}),f=g({ref:u,type:(p=o.type)!=null?p:\"button\",disabled:e||void 0,autoFocus:t},i,T,d),m=P(()=>({disabled:e,hover:s,focus:r,active:n,autofocus:t}),[e,s,r,n,t]);return _()({ourProps:f,theirProps:o,slot:m,defaultTag:R,name:\"Button\"})}let H=A(v);export{H as Button};\n", "import{useRef as a,useState as m}from\"react\";import{getOwnerDocument as d}from'../utils/owner.js';import{useDisposables as g}from'./use-disposables.js';import{useEvent as u}from'./use-event.js';function E(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function P(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function w({disabled:e=!1}={}){let t=a(null),[n,l]=m(!1),r=g(),o=u(()=>{t.current=null,l(!1),r.dispose()}),f=u(s=>{if(r.dispose(),t.current===null){t.current=s.currentTarget,l(!0);{let i=d(s.currentTarget);r.addEventListener(i,\"pointerup\",o,!1),r.addEventListener(i,\"pointermove\",c=>{if(t.current){let p=E(c);l(P(p,t.current.getBoundingClientRect()))}},!1),r.addEventListener(i,\"pointercancel\",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:f,onPointerUp:o,onClick:o}}}export{w as useActivePress};\n", "var i=Object.defineProperty;var d=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(d(t,typeof e!=\"symbol\"?e+\"\":e,n),n);class o{constructor(){r(this,\"current\",this.detect());r(this,\"handoffState\",\"pending\");r(this,\"currentId\",0)}set(e){this.current!==e&&(this.handoffState=\"pending\",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===\"server\"}get isClient(){return this.current===\"client\"}detect(){return typeof window==\"undefined\"||typeof document==\"undefined\"?\"server\":\"client\"}handoff(){this.handoffState===\"pending\"&&(this.handoffState=\"complete\")}get isHandoffComplete(){return this.handoffState===\"complete\"}}let s=new o;export{s as env};\n", "import{env as t}from'./env.js';function o(n){var e,r;return t.isServer?null:n?\"ownerDocument\"in n?n.ownerDocument:\"current\"in n?(r=(e=n.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}export{o as getOwnerDocument};\n", "import{useEffect as s,useState as o}from\"react\";import{disposables as t}from'../utils/disposables.js';function p(){let[e]=o(t);return s(()=>()=>e.dispose(),[e]),e}export{p as useDisposables};\n", "function t(e){typeof queueMicrotask==\"function\"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}export{t as microTask};\n", "import{microTask as i}from'./micro-task.js';function o(){let n=[],r={addEventListener(e,t,s,a){return e.addEventListener(t,s,a),r.add(()=>e.removeEventListener(t,s,a))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...e))},setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return i(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,s){let a=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:s}),this.add(()=>{Object.assign(e.style,{[t]:a})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add(e){return n.includes(e)||n.push(e),()=>{let t=n.indexOf(e);if(t>=0)for(let s of n.splice(t,1))s()}},dispose(){for(let e of n.splice(0))e()}};return r}export{o as disposables};\n", "import a from\"react\";import{useLatestValue as n}from'./use-latest-value.js';let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n", "import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n", "import{useEffect as f,useLayoutEffect as c}from\"react\";import{env as i}from'../utils/env.js';let n=(e,t)=>{i.isServer?f(e,t):c(e,t)};export{n as useIsoMorphicEffect};\n", "import n,{createContext as r,useContext as i}from\"react\";let e=r(void 0);function a(){return i(e)}function l({value:t,children:o}){return n.createElement(e.Provider,{value:t},o)}export{l as DisabledProvider,a as useDisabled};\n", "import E,{Fragment as b,cloneElement as j,createElement as v,forwardRef as S,isValidElement as w,useCallback as x,useRef as k}from\"react\";import{classNames as N}from'./class-names.js';import{match as M}from'./match.js';var O=(a=>(a[a.None=0]=\"None\",a[a.RenderStrategy=1]=\"RenderStrategy\",a[a.Static=2]=\"Static\",a))(O||{}),A=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(A||{});function L(){let n=U();return x(r=>C({mergeRefs:n,...r}),[n])}function C({ourProps:n,theirProps:r,slot:e,defaultTag:a,features:s,visible:t=!0,name:l,mergeRefs:i}){i=i!=null?i:$;let o=P(r,n);if(t)return F(o,e,a,l,i);let y=s!=null?s:0;if(y&2){let{static:f=!1,...u}=o;if(f)return F(u,e,a,l,i)}if(y&1){let{unmount:f=!0,...u}=o;return M(f?0:1,{[0](){return null},[1](){return F({...u,hidden:!0,style:{display:\"none\"}},e,a,l,i)}})}return F(o,e,a,l,i)}function F(n,r={},e,a,s){let{as:t=e,children:l,refName:i=\"ref\",...o}=h(n,[\"unmount\",\"static\"]),y=n.ref!==void 0?{[i]:n.ref}:{},f=typeof l==\"function\"?l(r):l;\"className\"in o&&o.className&&typeof o.className==\"function\"&&(o.className=o.className(r)),o[\"aria-labelledby\"]&&o[\"aria-labelledby\"]===o.id&&(o[\"aria-labelledby\"]=void 0);let u={};if(r){let d=!1,p=[];for(let[c,T]of Object.entries(r))typeof T==\"boolean\"&&(d=!0),T===!0&&p.push(c.replace(/([A-Z])/g,g=>`-${g.toLowerCase()}`));if(d){u[\"data-headlessui-state\"]=p.join(\" \");for(let c of p)u[`data-${c}`]=\"\"}}if(t===b&&(Object.keys(m(o)).length>0||Object.keys(m(u)).length>0))if(!w(f)||Array.isArray(f)&&f.length>1){if(Object.keys(m(o)).length>0)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${a} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(m(o)).concat(Object.keys(m(u))).map(d=>`  - ${d}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(d=>`  - ${d}`).join(`\n`)].join(`\n`))}else{let d=f.props,p=d==null?void 0:d.className,c=typeof p==\"function\"?(...R)=>N(p(...R),o.className):N(p,o.className),T=c?{className:c}:{},g=P(f.props,m(h(o,[\"ref\"])));for(let R in u)R in g&&delete u[R];return j(f,Object.assign({},g,u,y,{ref:s(H(f),y.ref)},T))}return v(t,Object.assign({},h(o,[\"ref\"]),t!==b&&y,t!==b&&u),f)}function U(){let n=k([]),r=x(e=>{for(let a of n.current)a!=null&&(typeof a==\"function\"?a(e):a.current=e)},[]);return(...e)=>{if(!e.every(a=>a==null))return n.current=e,r}}function $(...n){return n.every(r=>r==null)?void 0:r=>{for(let e of n)e!=null&&(typeof e==\"function\"?e(r):e.current=r)}}function P(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];if(r.disabled||r[\"aria-disabled\"])for(let s in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(e[s]=[t=>{var l;return(l=t==null?void 0:t.preventDefault)==null?void 0:l.call(t)}]);for(let s in e)Object.assign(r,{[s](t,...l){let i=e[s];for(let o of i){if((t instanceof Event||(t==null?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;o(t,...l)}}});return r}function _(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];for(let s in e)Object.assign(r,{[s](...t){let l=e[s];for(let i of l)i==null||i(...t)}});return r}function K(n){var r;return Object.assign(S(n),{displayName:(r=n.displayName)!=null?r:n.name})}function m(n){let r=Object.assign({},n);for(let e in r)r[e]===void 0&&delete r[e];return r}function h(n,r=[]){let e=Object.assign({},n);for(let a of r)a in e&&delete e[a];return e}function H(n){return E.version.split(\".\")[0]>=\"19\"?n.props.ref:n.ref}export{O as RenderFeatures,A as RenderStrategy,m as compact,K as forwardRefWithAs,_ as mergeProps,L as useRender};\n", "function t(...r){return Array.from(new Set(r.flatMap(n=>typeof n==\"string\"?n.split(\" \"):[]))).filter(Boolean).join(\" \")}export{t as classNames};\n", "function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n", "\"use client\";import{useFocusRing as N}from\"@react-aria/focus\";import{useHover as V}from\"@react-aria/interactions\";import i,{useCallback as w,useMemo as J,useState as $}from\"react\";import{useActivePress as j}from'../../hooks/use-active-press.js';import{useControllable as q}from'../../hooks/use-controllable.js';import{useDefaultValue as z}from'../../hooks/use-default-value.js';import{useDisposables as Q}from'../../hooks/use-disposables.js';import{useEvent as l}from'../../hooks/use-event.js';import{useId as Y}from'../../hooks/use-id.js';import{useDisabled as Z}from'../../internal/disabled.js';import{FormFields as ee}from'../../internal/form-fields.js';import{useProvidedId as oe}from'../../internal/id.js';import{isDisabledReactIssue7711 as te}from'../../utils/bugs.js';import{attemptSubmit as re}from'../../utils/form.js';import{forwardRefWithAs as ae,mergeProps as ne,useRender as le}from'../../utils/render.js';import{useDescribedBy as se}from'../description/description.js';import{Keys as y}from'../keyboard.js';import{useLabelledBy as ie}from'../label/label.js';let de=\"span\";function pe(T,h){let C=Y(),k=oe(),x=Z(),{id:g=k||`headlessui-checkbox-${C}`,disabled:e=x||!1,autoFocus:s=!1,checked:E,defaultChecked:v,onChange:P,name:d,value:D,form:R,indeterminate:n=!1,tabIndex:A=0,...F}=T,r=z(v),[a,t]=q(E,P,r!=null?r:!1),K=ie(),_=se(),H=Q(),[p,c]=$(!1),u=l(()=>{c(!0),t==null||t(!a),H.nextFrame(()=>{c(!1)})}),B=l(o=>{if(te(o.currentTarget))return o.preventDefault();o.preventDefault(),u()}),I=l(o=>{o.key===y.Space?(o.preventDefault(),u()):o.key===y.Enter&&re(o.currentTarget)}),L=l(o=>o.preventDefault()),{isFocusVisible:m,focusProps:M}=N({autoFocus:s}),{isHovered:b,hoverProps:U}=V({isDisabled:e}),{pressed:f,pressProps:O}=j({disabled:e}),X=ne({ref:h,id:g,role:\"checkbox\",\"aria-checked\":n?\"mixed\":a?\"true\":\"false\",\"aria-labelledby\":K,\"aria-describedby\":_,\"aria-disabled\":e?!0:void 0,indeterminate:n?\"true\":void 0,tabIndex:e?void 0:A,onKeyUp:e?void 0:I,onKeyPress:e?void 0:L,onClick:e?void 0:B},M,U,O),G=J(()=>({checked:a,disabled:e,hover:b,focus:m,active:f,indeterminate:n,changing:p,autofocus:s}),[a,n,e,b,m,f,p,s]),S=w(()=>{if(r!==void 0)return t==null?void 0:t(r)},[t,r]),W=le();return i.createElement(i.Fragment,null,d!=null&&i.createElement(ee,{disabled:e,data:{[d]:D||\"on\"},overrides:{type:\"checkbox\",checked:a},form:R,onReset:S}),W({ourProps:X,theirProps:F,slot:G,defaultTag:de,name:\"Checkbox\"}))}let Fe=ae(pe);export{Fe as Checkbox};\n", "import{useRef as o,useState as f}from\"react\";import{useEvent as a}from'./use-event.js';function T(l,r,c){let[i,s]=f(c),e=l!==void 0,t=o(e),u=o(!1),d=o(!1);return e&&!t.current&&!u.current?(u.current=!0,t.current=e,console.error(\"A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.\")):!e&&t.current&&!d.current&&(d.current=!0,t.current=e,console.error(\"A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.\")),[e?l:i,a(n=>(e||s(n),r==null?void 0:r(n)))]}export{T as useControllable};\n", "import{useState as u}from\"react\";function l(e){let[t]=u(e);return t}export{l as useDefaultValue};\n", "import{useId as r}from\"react\";export{r as useId};\n", "import o,{createContext as H,useContext as E,useEffect as m,useState as u}from\"react\";import{createPortal as g}from\"react-dom\";import{useDisposables as h}from'../hooks/use-disposables.js';import{objectToFormEntries as x}from'../utils/form.js';import{compact as y}from'../utils/render.js';import{Hidden as l,HiddenFeatures as d}from'./hidden.js';let f=H(null);function W(t){let[e,r]=u(null);return o.createElement(f.Provider,{value:{target:e}},t.children,o.createElement(l,{features:d.Hidden,ref:r}))}function c({children:t}){let e=E(f);if(!e)return o.createElement(o.Fragment,null,t);let{target:r}=e;return r?g(o.createElement(o.Fragment,null,t),r):null}function j({data:t,form:e,disabled:r,onReset:n,overrides:F}){let[i,a]=u(null),p=h();return m(()=>{if(n&&i)return p.addEventListener(i,\"reset\",n)},[i,e,n]),o.createElement(c,null,o.createElement(C,{setForm:a,formId:e}),x(t).map(([s,v])=>o.createElement(l,{features:d.Hidden,...y({key:s,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:e,disabled:r,name:s,value:v,...F})})))}function C({setForm:t,formId:e}){return m(()=>{if(e){let r=document.getElementById(e);r&&t(r)}},[t,e]),e?null:o.createElement(l,{features:d.Hidden,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest(\"form\");n&&t(n)}})}export{j as FormFields,W as FormFieldsProvider,c as HoistFormFields};\n", "function e(i={},s=null,t=[]){for(let[r,n]of Object.entries(i))o(t,f(s,r),n);return t}function f(i,s){return i?i+\"[\"+s+\"]\":s}function o(i,s,t){if(Array.isArray(t))for(let[r,n]of t.entries())o(i,f(s,r.toString()),n);else t instanceof Date?i.push([s,t.toISOString()]):typeof t==\"boolean\"?i.push([s,t?\"1\":\"0\"]):typeof t==\"string\"?i.push([s,t]):typeof t==\"number\"?i.push([s,`${t}`]):t==null?i.push([s,\"\"]):e(t,s,i)}function p(i){var t,r;let s=(t=i==null?void 0:i.form)!=null?t:i.closest(\"form\");if(s){for(let n of s.elements)if(n!==i&&(n.tagName===\"INPUT\"&&n.type===\"submit\"||n.tagName===\"BUTTON\"&&n.type===\"submit\"||n.nodeName===\"INPUT\"&&n.type===\"image\")){n.click();return}(r=s.requestSubmit)==null||r.call(s)}}export{p as attemptSubmit,e as objectToFormEntries};\n", "import{forwardRefWithAs as i,useRender as p}from'../utils/render.js';let a=\"span\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});function l(t,r){var n;let{features:d=1,...e}=t,o={ref:r,\"aria-hidden\":(d&2)===2?!0:(n=e[\"aria-hidden\"])!=null?n:void 0,hidden:(d&4)===4?!0:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(d&4)===4&&(d&2)!==2&&{display:\"none\"}}};return p()({ourProps:o,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let f=i(l);export{f as Hidden,s as HiddenFeatures};\n", "import n,{createContext as d,useContext as i}from\"react\";let e=d(void 0);function u(){return i(e)}function f({id:t,children:r}){return n.createElement(e.Provider,{value:t},r)}export{f as IdProvider,u as useProvidedId};\n", "function r(n){let e=n.parentElement,l=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(l=e),e=e.parentElement;let t=(e==null?void 0:e.getAttribute(\"disabled\"))===\"\";return t&&i(l)?!1:t}function i(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}export{r as isDisabledReactIssue7711};\n", "\"use client\";import m,{createContext as T,useContext as u,useMemo as c,useState as P}from\"react\";import{useEvent as g}from'../../hooks/use-event.js';import{useId as x}from'../../hooks/use-id.js';import{useIsoMorphicEffect as y}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as E}from'../../hooks/use-sync-refs.js';import{useDisabled as v}from'../../internal/disabled.js';import{forwardRefWithAs as R,useRender as I}from'../../utils/render.js';let a=T(null);a.displayName=\"DescriptionContext\";function f(){let r=u(a);if(r===null){let e=new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return r}function U(){var r,e;return(e=(r=u(a))==null?void 0:r.value)!=null?e:void 0}function w(){let[r,e]=P([]);return[r.length>0?r.join(\" \"):void 0,c(()=>function(t){let i=g(n=>(e(s=>[...s,n]),()=>e(s=>{let o=s.slice(),p=o.indexOf(n);return p!==-1&&o.splice(p,1),o}))),l=c(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return m.createElement(a.Provider,{value:l},t.children)},[e])]}let S=\"p\";function C(r,e){let d=x(),t=v(),{id:i=`headlessui-description-${d}`,...l}=r,n=f(),s=E(e);y(()=>n.register(i),[i,n.register]);let o=t||!1,p=c(()=>({...n.slot,disabled:o}),[n.slot,o]),D={ref:s,...n.props,id:i};return I()({ourProps:D,theirProps:l,slot:p,defaultTag:S,name:n.name||\"Description\"})}let _=R(C),H=Object.assign(_,{});export{H as Description,U as useDescribedBy,w as useDescriptions};\n", "import{useEffect as l,useRef as i}from\"react\";import{useEvent as r}from'./use-event.js';let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=i(t);l(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n", "var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n", "\"use client\";import R,{createContext as k,useContext as h,useMemo as T,useState as D}from\"react\";import{useEvent as v}from'../../hooks/use-event.js';import{useId as _}from'../../hooks/use-id.js';import{useIsoMorphicEffect as A}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as B}from'../../hooks/use-sync-refs.js';import{useDisabled as F}from'../../internal/disabled.js';import{useProvidedId as S}from'../../internal/id.js';import{forwardRefWithAs as M,useRender as H}from'../../utils/render.js';let c=k(null);c.displayName=\"LabelContext\";function P(){let r=h(c);if(r===null){let l=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(l,P),l}return r}function I(r){var a,e,o;let l=(e=(a=h(c))==null?void 0:a.value)!=null?e:void 0;return((o=r==null?void 0:r.length)!=null?o:0)>0?[l,...r].filter(Boolean).join(\" \"):l}function K({inherit:r=!1}={}){let l=I(),[a,e]=D([]),o=r?[l,...a].filter(Boolean):a;return[o.length>0?o.join(\" \"):void 0,T(()=>function(t){let s=v(i=>(e(p=>[...p,i]),()=>e(p=>{let u=p.slice(),d=u.indexOf(i);return d!==-1&&u.splice(d,1),u}))),m=T(()=>({register:s,slot:t.slot,name:t.name,props:t.props,value:t.value}),[s,t.slot,t.name,t.props,t.value]);return R.createElement(c.Provider,{value:m},t.children)},[e])]}let N=\"label\";function G(r,l){var y;let a=_(),e=P(),o=S(),g=F(),{id:t=`headlessui-label-${a}`,htmlFor:s=o!=null?o:(y=e.props)==null?void 0:y.htmlFor,passive:m=!1,...i}=r,p=B(l);A(()=>e.register(t),[t,e.register]);let u=v(L=>{let b=L.currentTarget;if(b instanceof HTMLLabelElement&&L.preventDefault(),e.props&&\"onClick\"in e.props&&typeof e.props.onClick==\"function\"&&e.props.onClick(L),b instanceof HTMLLabelElement){let n=document.getElementById(b.htmlFor);if(n){let E=n.getAttribute(\"disabled\");if(E===\"true\"||E===\"\")return;let x=n.getAttribute(\"aria-disabled\");if(x===\"true\"||x===\"\")return;(n instanceof HTMLInputElement&&(n.type===\"radio\"||n.type===\"checkbox\")||n.role===\"radio\"||n.role===\"checkbox\"||n.role===\"switch\")&&n.click(),n.focus({preventScroll:!0})}}}),d=g||!1,C=T(()=>({...e.slot,disabled:d}),[e.slot,d]),f={ref:p,...e.props,id:t,htmlFor:s,onClick:u};return m&&(\"onClick\"in f&&(delete f.htmlFor,delete f.onClick),\"onClick\"in i&&delete i.onClick),H()({ourProps:f,theirProps:i,slot:C,defaultTag:s?N:\"div\",name:e.name||\"Label\"})}let U=M(G),Q=Object.assign(U,{});export{Q as Label,P as useLabelContext,I as useLabelledBy,K as useLabels};\n", "\"use client\";import n from\"react\";import{useClose as T}from'../../internal/close-provider.js';import{forwardRefWithAs as p,mergeProps as r}from'../../utils/render.js';import{Button as s}from'../button/button.js';let i=\"button\";function l(t,e){let o=T();return n.createElement(s,{ref:e,...r({onClick:o},t)})}let y=p(l);export{y as CloseButton};\n", "\"use client\";import r,{createContext as n,useContext as i}from\"react\";let e=n(()=>{});function u(){return i(e)}function C({value:t,children:o}){return r.createElement(e.Provider,{value:t},o)}export{C as CloseProvider,u as useClose};\n", "export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends ReadonlyArray<any>, TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => boolean\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n\n  function memoizedFunction(): TResult {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    opts?.onChange?.(result)\n\n    return result\n  }\n\n  // Attach updateDeps to the function itself\n  memoizedFunction.updateDeps = (newDeps: [...TDeps]) => {\n    deps = newDeps\n  }\n\n  return memoizedFunction\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1\n\nexport const debounce = (\n  targetWindow: Window & typeof globalThis,\n  fn: Function,\n  ms: number,\n) => {\n  let timeoutId: number\n  return function (this: any, ...args: Array<any>) {\n    targetWindow.clearTimeout(timeoutId)\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms)\n  }\n}\n", "import { approxEqual, debounce, memo, notUndefined } from './utils'\n\nexport * from './utils'\n\n//\n\ntype ScrollDirection = 'forward' | 'backward'\n\ntype ScrollAlignment = 'start' | 'center' | 'end' | 'auto'\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\nexport interface ScrollToOptions {\n  align?: ScrollAlignment\n  behavior?: ScrollBehavior\n}\n\ntype ScrollToOffsetOptions = ScrollToOptions\n\ntype ScrollToIndexOptions = ScrollToOptions\n\nexport interface Range {\n  startIndex: number\n  endIndex: number\n  overscan: number\n  count: number\n}\n\ntype Key = number | string | bigint\n\nexport interface VirtualItem {\n  key: Key\n  index: number\n  start: number\n  end: number\n  size: number\n  lane: number\n}\n\nexport interface Rect {\n  width: number\n  height: number\n}\n\n//\n\nexport const defaultKeyExtractor = (index: number) => index\n\nexport const defaultRangeExtractor = (range: Range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0)\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport const observeElementRect = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  const handler = (rect: Rect) => {\n    const { width, height } = rect\n    cb({ width: Math.round(width), height: Math.round(height) })\n  }\n\n  handler(element.getBoundingClientRect())\n\n  if (!targetWindow.ResizeObserver) {\n    return () => {}\n  }\n\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0]\n      if (entry?.borderBoxSize) {\n        const box = entry.borderBoxSize[0]\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize })\n          return\n        }\n      }\n      handler(element.getBoundingClientRect())\n    }\n\n    instance.options.useAnimationFrameWithResizeObserver\n      ? requestAnimationFrame(run)\n      : run()\n  })\n\n  observer.observe(element, { box: 'border-box' })\n\n  return () => {\n    observer.unobserve(element)\n  }\n}\n\nconst addEventListenerOptions = {\n  passive: true,\n}\n\nexport const observeWindowRect = (\n  instance: Virtualizer<Window, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight })\n  }\n  handler()\n\n  element.addEventListener('resize', handler, addEventListenerOptions)\n\n  return () => {\n    element.removeEventListener('resize', handler)\n  }\n}\n\nconst supportsScrollend =\n  typeof window == 'undefined' ? true : 'onscrollend' in window\n\ntype ObserveOffsetCallBack = (offset: number, isScrolling: boolean) => void\n\nexport const observeElementOffset = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    const { horizontal, isRtl } = instance.options\n    offset = horizontal\n      ? element['scrollLeft'] * ((isRtl && -1) || 1)\n      : element['scrollTop']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n  endHandler()\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const observeWindowOffset = (\n  instance: Virtualizer<Window, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    offset = element[instance.options.horizontal ? 'scrollX' : 'scrollY']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n  endHandler()\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const measureElement = <TItemElement extends Element>(\n  element: TItemElement,\n  entry: ResizeObserverEntry | undefined,\n  instance: Virtualizer<any, TItemElement>,\n) => {\n  if (entry?.borderBoxSize) {\n    const box = entry.borderBoxSize[0]\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? 'inlineSize' : 'blockSize'],\n      )\n      return size\n    }\n  }\n  return Math.round(\n    element.getBoundingClientRect()[\n      instance.options.horizontal ? 'width' : 'height'\n    ],\n  )\n}\n\nexport const windowScroll = <T extends Window>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport const elementScroll = <T extends Element>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport interface VirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  // Required from the user\n  count: number\n  getScrollElement: () => TScrollElement | null\n  estimateSize: (index: number) => number\n\n  // Required from the framework adapter (but can be overridden)\n  scrollToFn: (\n    offset: number,\n    options: { adjustments?: number; behavior?: ScrollBehavior },\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => void\n  observeElementRect: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (rect: Rect) => void,\n  ) => void | (() => void)\n  observeElementOffset: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: ObserveOffsetCallBack,\n  ) => void | (() => void)\n  // Optional\n  debug?: boolean\n  initialRect?: Rect\n  onChange?: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    sync: boolean,\n  ) => void\n  measureElement?: (\n    element: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => number\n  overscan?: number\n  horizontal?: boolean\n  paddingStart?: number\n  paddingEnd?: number\n  scrollPaddingStart?: number\n  scrollPaddingEnd?: number\n  initialOffset?: number | (() => number)\n  getItemKey?: (index: number) => Key\n  rangeExtractor?: (range: Range) => Array<number>\n  scrollMargin?: number\n  gap?: number\n  indexAttribute?: string\n  initialMeasurementsCache?: Array<VirtualItem>\n  lanes?: number\n  isScrollingResetDelay?: number\n  useScrollendEvent?: boolean\n  enabled?: boolean\n  isRtl?: boolean\n  useAnimationFrameWithResizeObserver?: boolean\n}\n\nexport class Virtualizer<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  private unsubs: Array<void | (() => void)> = []\n  options!: Required<VirtualizerOptions<TScrollElement, TItemElement>>\n  scrollElement: TScrollElement | null = null\n  targetWindow: (Window & typeof globalThis) | null = null\n  isScrolling = false\n  private scrollToIndexTimeoutId: number | null = null\n  measurementsCache: Array<VirtualItem> = []\n  private itemSizeCache = new Map<Key, number>()\n  private pendingMeasuredCacheIndexes: Array<number> = []\n  scrollRect: Rect | null = null\n  scrollOffset: number | null = null\n  scrollDirection: ScrollDirection | null = null\n  private scrollAdjustments = 0\n  shouldAdjustScrollPositionOnItemSizeChange:\n    | undefined\n    | ((\n        item: VirtualItem,\n        delta: number,\n        instance: Virtualizer<TScrollElement, TItemElement>,\n      ) => boolean)\n  elementsCache = new Map<Key, TItemElement>()\n  private observer = (() => {\n    let _ro: ResizeObserver | null = null\n\n    const get = () => {\n      if (_ro) {\n        return _ro\n      }\n\n      if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n        return null\n      }\n\n      return (_ro = new this.targetWindow.ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const run = () => {\n            this._measureElement(entry.target as TItemElement, entry)\n          }\n          this.options.useAnimationFrameWithResizeObserver\n            ? requestAnimationFrame(run)\n            : run()\n        })\n      }))\n    }\n\n    return {\n      disconnect: () => {\n        get()?.disconnect()\n        _ro = null\n      },\n      observe: (target: Element) =>\n        get()?.observe(target, { box: 'border-box' }),\n      unobserve: (target: Element) => get()?.unobserve(target),\n    }\n  })()\n  range: { startIndex: number; endIndex: number } | null = null\n\n  constructor(opts: VirtualizerOptions<TScrollElement, TItemElement>) {\n    this.setOptions(opts)\n  }\n\n  setOptions = (opts: VirtualizerOptions<TScrollElement, TItemElement>) => {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: () => {},\n      measureElement,\n      initialRect: { width: 0, height: 0 },\n      scrollMargin: 0,\n      gap: 0,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1,\n      isScrollingResetDelay: 150,\n      enabled: true,\n      isRtl: false,\n      useScrollendEvent: false,\n      useAnimationFrameWithResizeObserver: false,\n      ...opts,\n    }\n  }\n\n  private notify = (sync: boolean) => {\n    this.options.onChange?.(this, sync)\n  }\n\n  private maybeNotify = memo(\n    () => {\n      this.calculateRange()\n\n      return [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ]\n    },\n    (isScrolling) => {\n      this.notify(isScrolling)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n      debug: () => this.options.debug,\n      initialDeps: [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ] as [boolean, number | null, number | null],\n    },\n  )\n\n  private cleanup = () => {\n    this.unsubs.filter(Boolean).forEach((d) => d!())\n    this.unsubs = []\n    this.observer.disconnect()\n    this.scrollElement = null\n    this.targetWindow = null\n  }\n\n  _didMount = () => {\n    return () => {\n      this.cleanup()\n    }\n  }\n\n  _willUpdate = () => {\n    const scrollElement = this.options.enabled\n      ? this.options.getScrollElement()\n      : null\n\n    if (this.scrollElement !== scrollElement) {\n      this.cleanup()\n\n      if (!scrollElement) {\n        this.maybeNotify()\n        return\n      }\n\n      this.scrollElement = scrollElement\n\n      if (this.scrollElement && 'ownerDocument' in this.scrollElement) {\n        this.targetWindow = this.scrollElement.ownerDocument.defaultView\n      } else {\n        this.targetWindow = this.scrollElement?.window ?? null\n      }\n\n      this.elementsCache.forEach((cached) => {\n        this.observer.observe(cached)\n      })\n\n      this._scrollToOffset(this.getScrollOffset(), {\n        adjustments: undefined,\n        behavior: undefined,\n      })\n\n      this.unsubs.push(\n        this.options.observeElementRect(this, (rect) => {\n          this.scrollRect = rect\n          this.maybeNotify()\n        }),\n      )\n\n      this.unsubs.push(\n        this.options.observeElementOffset(this, (offset, isScrolling) => {\n          this.scrollAdjustments = 0\n          this.scrollDirection = isScrolling\n            ? this.getScrollOffset() < offset\n              ? 'forward'\n              : 'backward'\n            : null\n          this.scrollOffset = offset\n          this.isScrolling = isScrolling\n\n          this.maybeNotify()\n        }),\n      )\n    }\n  }\n\n  private getSize = () => {\n    if (!this.options.enabled) {\n      this.scrollRect = null\n      return 0\n    }\n\n    this.scrollRect = this.scrollRect ?? this.options.initialRect\n\n    return this.scrollRect[this.options.horizontal ? 'width' : 'height']\n  }\n\n  private getScrollOffset = () => {\n    if (!this.options.enabled) {\n      this.scrollOffset = null\n      return 0\n    }\n\n    this.scrollOffset =\n      this.scrollOffset ??\n      (typeof this.options.initialOffset === 'function'\n        ? this.options.initialOffset()\n        : this.options.initialOffset)\n\n    return this.scrollOffset\n  }\n\n  private getFurthestMeasurement = (\n    measurements: Array<VirtualItem>,\n    index: number,\n  ) => {\n    const furthestMeasurementsFound = new Map<number, true>()\n    const furthestMeasurements = new Map<number, VirtualItem>()\n    for (let m = index - 1; m >= 0; m--) {\n      const measurement = measurements[m]!\n\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue\n      }\n\n      const previousFurthestMeasurement = furthestMeasurements.get(\n        measurement.lane,\n      )\n      if (\n        previousFurthestMeasurement == null ||\n        measurement.end > previousFurthestMeasurement.end\n      ) {\n        furthestMeasurements.set(measurement.lane, measurement)\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true)\n      }\n\n      if (furthestMeasurementsFound.size === this.options.lanes) {\n        break\n      }\n    }\n\n    return furthestMeasurements.size === this.options.lanes\n      ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n          if (a.end === b.end) {\n            return a.index - b.index\n          }\n\n          return a.end - b.end\n        })[0]\n      : undefined\n  }\n\n  private getMeasurementOptions = memo(\n    () => [\n      this.options.count,\n      this.options.paddingStart,\n      this.options.scrollMargin,\n      this.options.getItemKey,\n      this.options.enabled,\n    ],\n    (count, paddingStart, scrollMargin, getItemKey, enabled) => {\n      this.pendingMeasuredCacheIndexes = []\n      return {\n        count,\n        paddingStart,\n        scrollMargin,\n        getItemKey,\n        enabled,\n      }\n    },\n    {\n      key: false,\n    },\n  )\n\n  private getMeasurements = memo(\n    () => [this.getMeasurementOptions(), this.itemSizeCache],\n    (\n      { count, paddingStart, scrollMargin, getItemKey, enabled },\n      itemSizeCache,\n    ) => {\n      if (!enabled) {\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        return []\n      }\n\n      if (this.measurementsCache.length === 0) {\n        this.measurementsCache = this.options.initialMeasurementsCache\n        this.measurementsCache.forEach((item) => {\n          this.itemSizeCache.set(item.key, item.size)\n        })\n      }\n\n      const min =\n        this.pendingMeasuredCacheIndexes.length > 0\n          ? Math.min(...this.pendingMeasuredCacheIndexes)\n          : 0\n      this.pendingMeasuredCacheIndexes = []\n\n      const measurements = this.measurementsCache.slice(0, min)\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i)\n\n        const furthestMeasurement =\n          this.options.lanes === 1\n            ? measurements[i - 1]\n            : this.getFurthestMeasurement(measurements, i)\n\n        const start = furthestMeasurement\n          ? furthestMeasurement.end + this.options.gap\n          : paddingStart + scrollMargin\n\n        const measuredSize = itemSizeCache.get(key)\n        const size =\n          typeof measuredSize === 'number'\n            ? measuredSize\n            : this.options.estimateSize(i)\n\n        const end = start + size\n\n        const lane = furthestMeasurement\n          ? furthestMeasurement.lane\n          : i % this.options.lanes\n\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key,\n          lane,\n        }\n      }\n\n      this.measurementsCache = measurements\n\n      return measurements\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n      debug: () => this.options.debug,\n    },\n  )\n\n  calculateRange = memo(\n    () => [\n      this.getMeasurements(),\n      this.getSize(),\n      this.getScrollOffset(),\n      this.options.lanes,\n    ],\n    (measurements, outerSize, scrollOffset, lanes) => {\n      return (this.range =\n        measurements.length > 0 && outerSize > 0\n          ? calculateRange({\n              measurements,\n              outerSize,\n              scrollOffset,\n              lanes,\n            })\n          : null)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualIndexes = memo(\n    () => {\n      let startIndex: number | null = null\n      let endIndex: number | null = null\n      const range = this.calculateRange()\n      if (range) {\n        startIndex = range.startIndex\n        endIndex = range.endIndex\n      }\n      this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex])\n      return [\n        this.options.rangeExtractor,\n        this.options.overscan,\n        this.options.count,\n        startIndex,\n        endIndex,\n      ]\n    },\n    (rangeExtractor, overscan, count, startIndex, endIndex) => {\n      return startIndex === null || endIndex === null\n        ? []\n        : rangeExtractor({\n            startIndex,\n            endIndex,\n            overscan,\n            count,\n          })\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  indexFromElement = (node: TItemElement) => {\n    const attributeName = this.options.indexAttribute\n    const indexStr = node.getAttribute(attributeName)\n\n    if (!indexStr) {\n      console.warn(\n        `Missing attribute name '${attributeName}={index}' on measured element.`,\n      )\n      return -1\n    }\n\n    return parseInt(indexStr, 10)\n  }\n\n  private _measureElement = (\n    node: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n  ) => {\n    const index = this.indexFromElement(node)\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const key = item.key\n    const prevNode = this.elementsCache.get(key)\n\n    if (prevNode !== node) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n      }\n      this.observer.observe(node)\n      this.elementsCache.set(key, node)\n    }\n\n    if (node.isConnected) {\n      this.resizeItem(index, this.options.measureElement(node, entry, this))\n    }\n  }\n\n  resizeItem = (index: number, size: number) => {\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const itemSize = this.itemSizeCache.get(item.key) ?? item.size\n    const delta = size - itemSize\n\n    if (delta !== 0) {\n      if (\n        this.shouldAdjustScrollPositionOnItemSizeChange !== undefined\n          ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this)\n          : item.start < this.getScrollOffset() + this.scrollAdjustments\n      ) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('correction', delta)\n        }\n\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: (this.scrollAdjustments += delta),\n          behavior: undefined,\n        })\n      }\n\n      this.pendingMeasuredCacheIndexes.push(item.index)\n      this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size))\n\n      this.notify(false)\n    }\n  }\n\n  measureElement = (node: TItemElement | null | undefined) => {\n    if (!node) {\n      this.elementsCache.forEach((cached, key) => {\n        if (!cached.isConnected) {\n          this.observer.unobserve(cached)\n          this.elementsCache.delete(key)\n        }\n      })\n      return\n    }\n\n    this._measureElement(node, undefined)\n  }\n\n  getVirtualItems = memo(\n    () => [this.getVirtualIndexes(), this.getMeasurements()],\n    (indexes, measurements) => {\n      const virtualItems: Array<VirtualItem> = []\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k]!\n        const measurement = measurements[i]!\n\n        virtualItems.push(measurement)\n      }\n\n      return virtualItems\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualItems',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualItemForOffset = (offset: number) => {\n    const measurements = this.getMeasurements()\n    if (measurements.length === 0) {\n      return undefined\n    }\n    return notUndefined(\n      measurements[\n        findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index: number) => notUndefined(measurements[index]).start,\n          offset,\n        )\n      ],\n    )\n  }\n\n  getOffsetForAlignment = (\n    toOffset: number,\n    align: ScrollAlignment,\n    itemSize = 0,\n  ) => {\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      align = toOffset >= scrollOffset + size ? 'end' : 'start'\n    }\n\n    if (align === 'center') {\n      // When aligning to a particular item (e.g. with scrollToIndex),\n      // adjust offset by the size of the item to center on the item\n      toOffset += (itemSize - size) / 2\n    } else if (align === 'end') {\n      toOffset -= size\n    }\n\n    const scrollSizeProp = this.options.horizontal\n      ? 'scrollWidth'\n      : 'scrollHeight'\n    const scrollSize = this.scrollElement\n      ? 'document' in this.scrollElement\n        ? this.scrollElement.document.documentElement[scrollSizeProp]\n        : this.scrollElement[scrollSizeProp]\n      : 0\n\n    const maxOffset = scrollSize - size\n\n    return Math.max(Math.min(maxOffset, toOffset), 0)\n  }\n\n  getOffsetForIndex = (index: number, align: ScrollAlignment = 'auto') => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return undefined\n    }\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n        align = 'end'\n      } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n        align = 'start'\n      } else {\n        return [scrollOffset, align] as const\n      }\n    }\n\n    const toOffset =\n      align === 'end'\n        ? item.end + this.options.scrollPaddingEnd\n        : item.start - this.options.scrollPaddingStart\n\n    return [\n      this.getOffsetForAlignment(toOffset, align, item.size),\n      align,\n    ] as const\n  }\n\n  private isDynamicMode = () => this.elementsCache.size > 0\n\n  private cancelScrollToIndex = () => {\n    if (this.scrollToIndexTimeoutId !== null && this.targetWindow) {\n      this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId)\n      this.scrollToIndexTimeoutId = null\n    }\n  }\n\n  scrollToOffset = (\n    toOffset: number,\n    { align = 'start', behavior }: ScrollToOffsetOptions = {},\n  ) => {\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  scrollToIndex = (\n    index: number,\n    { align: initialAlign = 'auto', behavior }: ScrollToIndexOptions = {},\n  ) => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    const offsetAndAlign = this.getOffsetForIndex(index, initialAlign)\n    if (!offsetAndAlign) return\n\n    const [offset, align] = offsetAndAlign\n\n    this._scrollToOffset(offset, { adjustments: undefined, behavior })\n\n    if (behavior !== 'smooth' && this.isDynamicMode() && this.targetWindow) {\n      this.scrollToIndexTimeoutId = this.targetWindow.setTimeout(() => {\n        this.scrollToIndexTimeoutId = null\n\n        const elementInDOM = this.elementsCache.has(\n          this.options.getItemKey(index),\n        )\n\n        if (elementInDOM) {\n          const [latestOffset] = notUndefined(\n            this.getOffsetForIndex(index, align),\n          )\n\n          if (!approxEqual(latestOffset, this.getScrollOffset())) {\n            this.scrollToIndex(index, { align, behavior })\n          }\n        } else {\n          this.scrollToIndex(index, { align, behavior })\n        }\n      })\n    }\n  }\n\n  scrollBy = (delta: number, { behavior }: ScrollToOffsetOptions = {}) => {\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getScrollOffset() + delta, {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  getTotalSize = () => {\n    const measurements = this.getMeasurements()\n\n    let end: number\n    // If there are no measurements, set the end to paddingStart\n    // If there is only one lane, use the last measurement's end\n    // Otherwise find the maximum end value among all measurements\n    if (measurements.length === 0) {\n      end = this.options.paddingStart\n    } else if (this.options.lanes === 1) {\n      end = measurements[measurements.length - 1]?.end ?? 0\n    } else {\n      const endByLane = Array<number | null>(this.options.lanes).fill(null)\n      let endIndex = measurements.length - 1\n      while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n        const item = measurements[endIndex]!\n        if (endByLane[item.lane] === null) {\n          endByLane[item.lane] = item.end\n        }\n\n        endIndex--\n      }\n\n      end = Math.max(...endByLane.filter((val): val is number => val !== null))\n    }\n\n    return Math.max(\n      end - this.options.scrollMargin + this.options.paddingEnd,\n      0,\n    )\n  }\n\n  private _scrollToOffset = (\n    offset: number,\n    {\n      adjustments,\n      behavior,\n    }: {\n      adjustments: number | undefined\n      behavior: ScrollBehavior | undefined\n    },\n  ) => {\n    this.options.scrollToFn(offset, { behavior, adjustments }, this)\n  }\n\n  measure = () => {\n    this.itemSizeCache = new Map()\n    this.notify(false)\n  }\n}\n\nconst findNearestBinarySearch = (\n  low: number,\n  high: number,\n  getCurrentValue: (i: number) => number,\n  value: number,\n) => {\n  while (low <= high) {\n    const middle = ((low + high) / 2) | 0\n    const currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes,\n}: {\n  measurements: Array<VirtualItem>\n  outerSize: number\n  scrollOffset: number\n  lanes: number\n}) {\n  const lastIndex = measurements.length - 1\n  const getOffset = (index: number) => measurements[index]!.start\n\n  // handle case when item count is less than or equal to lanes\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex,\n    }\n  }\n\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset,\n  )\n  let endIndex = startIndex\n\n  if (lanes === 1) {\n    while (\n      endIndex < lastIndex &&\n      measurements[endIndex]!.end < scrollOffset + outerSize\n    ) {\n      endIndex++\n    }\n  } else if (lanes > 1) {\n    // Expand forward until we include the visible items from all lanes\n    // which are closer to the end of the virtualizer window\n    const endPerLane = Array(lanes).fill(0)\n    while (\n      endIndex < lastIndex &&\n      endPerLane.some((pos) => pos < scrollOffset + outerSize)\n    ) {\n      const item = measurements[endIndex]!\n      endPerLane[item.lane] = item.end\n      endIndex++\n    }\n\n    // Expand backward until we include all lanes' visible items\n    // closer to the top\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize)\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex]!\n      startPerLane[item.lane] = item.start\n      startIndex--\n    }\n\n    // Align startIndex to the beginning of its lane\n    startIndex = Math.max(0, startIndex - (startIndex % lanes))\n    // Align endIndex to the end of its lane\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - (endIndex % lanes)))\n  }\n\n  return { startIndex, endIndex }\n}\n", "import * as React from 'react'\nimport { flushSync } from 'react-dom'\nimport {\n  Virtualizer,\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll,\n} from '@tanstack/virtual-core'\nimport type { PartialKeys, VirtualizerOptions } from '@tanstack/virtual-core'\n\nexport * from '@tanstack/virtual-core'\n\nconst useIsomorphicLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>(\n  options: VirtualizerOptions<TScrollElement, TItemElement>,\n): Virtualizer<TScrollElement, TItemElement> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance, sync) => {\n      if (sync) {\n        flushSync(rerender)\n      } else {\n        rerender()\n      }\n      options.onChange?.(instance, sync)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    VirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    VirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof document !== 'undefined' ? window : null),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => (typeof document !== 'undefined' ? window.scrollY : 0),\n    ...options,\n  })\n}\n", "\"use client\";import{useFocusRing as Ce}from\"@react-aria/focus\";import{useHover as ve}from\"@react-aria/interactions\";import{useVirtualizer as Me}from\"@tanstack/react-virtual\";import D,{Fragment as Pe,createContext as Ee,useCallback as re,useContext as Oe,useMemo as X,useRef as de,useState as Te}from\"react\";import{flushSync as te}from\"react-dom\";import{useActivePress as Le}from'../../hooks/use-active-press.js';import{useByComparator as Ve}from'../../hooks/use-by-comparator.js';import{useControllable as we}from'../../hooks/use-controllable.js';import{useDefaultValue as Be}from'../../hooks/use-default-value.js';import{useDisposables as Ne}from'../../hooks/use-disposables.js';import{useElementSize as he}from'../../hooks/use-element-size.js';import{useEvent as E}from'../../hooks/use-event.js';import{useId as be}from'../../hooks/use-id.js';import{useInertOthers as ke}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as Q}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ue}from'../../hooks/use-latest-value.js';import{useOnDisappear as He}from'../../hooks/use-on-disappear.js';import{useOutsideClick as Ge}from'../../hooks/use-outside-click.js';import{useOwnerDocument as xe}from'../../hooks/use-owner.js';import{useRefocusableInput as Ae}from'../../hooks/use-refocusable-input.js';import{useResolveButtonType as ze}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as Ke}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as me}from'../../hooks/use-sync-refs.js';import{useTrackedPointer as We}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Xe,useTransition as $e}from'../../hooks/use-transition.js';import{useTreeWalker as Je}from'../../hooks/use-tree-walker.js';import{useWatch as Ie}from'../../hooks/use-watch.js';import{useDisabled as je}from'../../internal/disabled.js';import{FloatingProvider as qe,useFloatingPanel as Ye,useFloatingPanelProps as Qe,useFloatingReference as Ze,useResolvedAnchor as eo}from'../../internal/floating.js';import{FormFields as oo}from'../../internal/form-fields.js';import{Frozen as to,useFrozenData as Re}from'../../internal/frozen.js';import{useProvidedId as no}from'../../internal/id.js';import{OpenClosedProvider as ao,State as ce,useOpenClosed as ro}from'../../internal/open-closed.js';import{useSlice as R}from'../../react-glue.js';import{history as _e}from'../../utils/active-element-history.js';import{isDisabledReactIssue7711 as lo}from'../../utils/bugs.js';import{Focus as M}from'../../utils/calculate-active-index.js';import{disposables as io}from'../../utils/disposables.js';import{match as fe}from'../../utils/match.js';import{isMobile as so}from'../../utils/platform.js';import{RenderFeatures as De,forwardRefWithAs as le,mergeProps as ge,useRender as ie}from'../../utils/render.js';import{useDescribedBy as uo}from'../description/description.js';import{Keys as L}from'../keyboard.js';import{Label as po,useLabelledBy as ye,useLabels as bo}from'../label/label.js';import{MouseButton as Fe}from'../mouse.js';import{Portal as mo}from'../portal/portal.js';import{ActionTypes as co,ActivationTrigger as Z,ComboboxState as r,ValueMode as G}from'./combobox-machine.js';import{ComboboxContext as fo,useComboboxMachine as To,useComboboxMachineContext as se}from'./combobox-machine-glue.js';let ue=Ee(null);ue.displayName=\"ComboboxDataContext\";function ne(y){let O=Oe(ue);if(O===null){let e=new Error(`<${y} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,ne),e}return O}let Se=Ee(null);function xo(y){let O=se(\"VirtualProvider\"),e=ne(\"VirtualProvider\"),{options:o}=e.virtual,V=R(O,a=>a.optionsElement),[A,C]=X(()=>{let a=V;if(!a)return[0,0];let g=window.getComputedStyle(a);return[parseFloat(g.paddingBlockStart||g.paddingTop),parseFloat(g.paddingBlockEnd||g.paddingBottom)]},[V]),b=Me({enabled:o.length!==0,scrollPaddingStart:A,scrollPaddingEnd:C,count:o.length,estimateSize(){return 40},getScrollElement(){return O.state.optionsElement},overscan:12}),[h,l]=Te(0);Q(()=>{l(a=>a+1)},[o]);let c=b.getVirtualItems(),n=R(O,a=>a.activationTrigger===Z.Pointer),x=R(O,O.selectors.activeOptionIndex);return c.length===0?null:D.createElement(Se.Provider,{value:b},D.createElement(\"div\",{style:{position:\"relative\",width:\"100%\",height:`${b.getTotalSize()}px`},ref:a=>{a&&(n||x!==null&&o.length>x&&b.scrollToIndex(x))}},c.map(a=>{var g;return D.createElement(Pe,{key:a.key},D.cloneElement((g=y.children)==null?void 0:g.call(y,{...y.slot,option:o[a.index]}),{key:`${h}-${a.key}`,\"data-index\":a.index,\"aria-setsize\":o.length,\"aria-posinset\":a.index+1,style:{position:\"absolute\",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:\"none\"}}))})))}let go=Pe;function yo(y,O){let e=je(),{value:o,defaultValue:V,onChange:A,form:C,name:b,by:h,invalid:l=!1,disabled:c=e||!1,onClose:n,__demoMode:x=!1,multiple:a=!1,immediate:g=!1,virtual:f=null,nullable:B,...w}=y,F=Be(V),[m=a?[]:void 0,P]=we(o,A,F),d=To({virtual:f,__demoMode:x}),_=de({static:!1,hold:!1}),I=Ve(h),N=E(p=>f?h===null?f.options.indexOf(p):f.options.findIndex(T=>I(T,p)):d.state.options.findIndex(T=>I(T.dataRef.current.value,p))),z=re(p=>fe(i.mode,{[G.Multi]:()=>m.some(T=>I(T,p)),[G.Single]:()=>I(m,p)}),[m]),K=R(d,p=>p.virtual),k=E(()=>n==null?void 0:n()),i=X(()=>({__demoMode:x,immediate:g,optionsPropsRef:_,value:m,defaultValue:F,disabled:c,invalid:l,mode:a?G.Multi:G.Single,virtual:f?K:null,onChange:P,isSelected:z,calculateIndex:N,compare:I,onClose:k}),[m,F,c,l,a,P,z,x,d,f,K,k]);Q(()=>{var p;f&&d.send({type:co.UpdateVirtualConfiguration,options:f.options,disabled:(p=f.disabled)!=null?p:null})},[f,f==null?void 0:f.options,f==null?void 0:f.disabled]),Q(()=>{d.state.dataRef.current=i},[i]);let[S,$,U,s]=R(d,p=>[p.comboboxState,p.buttonElement,p.inputElement,p.optionsElement]),W=S===r.Open;Ge(W,[$,U,s],()=>d.actions.closeCombobox());let ae=R(d,d.selectors.activeOptionIndex),J=R(d,d.selectors.activeOption),q=X(()=>({open:S===r.Open,disabled:c,invalid:l,activeIndex:ae,activeOption:J,value:m}),[i,c,m,l,J,S]),[j,pe]=bo(),Y=O===null?{}:{ref:O},ee=re(()=>{if(F!==void 0)return P==null?void 0:P(F)},[P,F]),t=ie();return D.createElement(pe,{value:j,props:{htmlFor:U==null?void 0:U.id},slot:{open:S===r.Open,disabled:c}},D.createElement(qe,null,D.createElement(ue.Provider,{value:i},D.createElement(fo.Provider,{value:d},D.createElement(ao,{value:fe(S,{[r.Open]:ce.Open,[r.Closed]:ce.Closed})},b!=null&&D.createElement(oo,{disabled:c,data:m!=null?{[b]:m}:{},form:C,onReset:ee}),t({ourProps:Y,theirProps:w,slot:q,defaultTag:go,name:\"Combobox\"}))))))}let Co=\"input\";function vo(y,O){var Y,ee;let e=se(\"Combobox.Input\"),o=ne(\"Combobox.Input\"),V=be(),A=no(),{id:C=A||`headlessui-combobox-input-${V}`,onChange:b,displayValue:h,disabled:l=o.disabled||!1,autoFocus:c=!1,type:n=\"text\",...x}=y,[a]=R(e,t=>[t.inputElement]),g=de(null),f=me(g,O,Ze(),e.actions.setInputElement),B=xe(a),[w,F]=R(e,t=>[t.comboboxState,t.isTyping]),m=Ne(),P=E(()=>{e.actions.onChange(null),e.state.optionsElement&&(e.state.optionsElement.scrollTop=0),e.actions.goToOption({focus:M.Nothing})}),d=X(()=>{var t;return typeof h==\"function\"&&o.value!==void 0?(t=h(o.value))!=null?t:\"\":typeof o.value==\"string\"?o.value:\"\"},[o.value,h]);Ie(([t,p],[T,H])=>{if(e.state.isTyping)return;let v=g.current;v&&((H===r.Open&&p===r.Closed||t!==T)&&(v.value=t),requestAnimationFrame(()=>{if(e.state.isTyping||!v||(B==null?void 0:B.activeElement)!==v)return;let{selectionStart:u,selectionEnd:oe}=v;Math.abs((oe!=null?oe:0)-(u!=null?u:0))===0&&u===0&&v.setSelectionRange(v.value.length,v.value.length)}))},[d,w,B,F]),Ie(([t],[p])=>{if(t===r.Open&&p===r.Closed){if(e.state.isTyping)return;let T=g.current;if(!T)return;let H=T.value,{selectionStart:v,selectionEnd:u,selectionDirection:oe}=T;T.value=\"\",T.value=H,oe!==null?T.setSelectionRange(v,u,oe):T.setSelectionRange(v,u)}},[w]);let _=de(!1),I=E(()=>{_.current=!0}),N=E(()=>{m.nextFrame(()=>{_.current=!1})}),z=E(t=>{switch(e.actions.setIsTyping(!0),t.key){case L.Enter:if(e.state.comboboxState!==r.Open||_.current)return;if(t.preventDefault(),t.stopPropagation(),e.selectors.activeOptionIndex(e.state)===null){e.actions.closeCombobox();return}e.actions.selectActiveOption(),o.mode===G.Single&&e.actions.closeCombobox();break;case L.ArrowDown:return t.preventDefault(),t.stopPropagation(),fe(e.state.comboboxState,{[r.Open]:()=>e.actions.goToOption({focus:M.Next}),[r.Closed]:()=>e.actions.openCombobox()});case L.ArrowUp:return t.preventDefault(),t.stopPropagation(),fe(e.state.comboboxState,{[r.Open]:()=>e.actions.goToOption({focus:M.Previous}),[r.Closed]:()=>{te(()=>e.actions.openCombobox()),o.value||e.actions.goToOption({focus:M.Last})}});case L.Home:if(t.shiftKey)break;return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:M.First});case L.PageUp:return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:M.First});case L.End:if(t.shiftKey)break;return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:M.Last});case L.PageDown:return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:M.Last});case L.Escape:return e.state.comboboxState!==r.Open?void 0:(t.preventDefault(),e.state.optionsElement&&!o.optionsPropsRef.current.static&&t.stopPropagation(),o.mode===G.Single&&o.value===null&&P(),e.actions.closeCombobox());case L.Tab:if(e.state.comboboxState!==r.Open)return;o.mode===G.Single&&e.state.activationTrigger!==Z.Focus&&e.actions.selectActiveOption(),e.actions.closeCombobox();break}}),K=E(t=>{b==null||b(t),o.mode===G.Single&&t.target.value===\"\"&&P(),e.actions.openCombobox()}),k=E(t=>{var T,H,v;let p=(T=t.relatedTarget)!=null?T:_e.find(u=>u!==t.currentTarget);if(!((H=e.state.optionsElement)!=null&&H.contains(p))&&!((v=e.state.buttonElement)!=null&&v.contains(p))&&e.state.comboboxState===r.Open)return t.preventDefault(),o.mode===G.Single&&o.value===null&&P(),e.actions.closeCombobox()}),i=E(t=>{var T,H,v;let p=(T=t.relatedTarget)!=null?T:_e.find(u=>u!==t.currentTarget);(H=e.state.buttonElement)!=null&&H.contains(p)||(v=e.state.optionsElement)!=null&&v.contains(p)||o.disabled||o.immediate&&e.state.comboboxState!==r.Open&&m.microTask(()=>{te(()=>e.actions.openCombobox()),e.actions.setActivationTrigger(Z.Focus)})}),S=ye(),$=uo(),{isFocused:U,focusProps:s}=Ce({autoFocus:c}),{isHovered:W,hoverProps:ae}=ve({isDisabled:l}),J=R(e,t=>t.optionsElement),q=X(()=>({open:w===r.Open,disabled:l,invalid:o.invalid,hover:W,focus:U,autofocus:c}),[o,W,U,c,l,o.invalid]),j=ge({ref:f,id:C,role:\"combobox\",type:n,\"aria-controls\":J==null?void 0:J.id,\"aria-expanded\":w===r.Open,\"aria-activedescendant\":R(e,e.selectors.activeDescendantId),\"aria-labelledby\":S,\"aria-describedby\":$,\"aria-autocomplete\":\"list\",defaultValue:(ee=(Y=y.defaultValue)!=null?Y:o.defaultValue!==void 0?h==null?void 0:h(o.defaultValue):null)!=null?ee:o.defaultValue,disabled:l||void 0,autoFocus:c,onCompositionStart:I,onCompositionEnd:N,onKeyDown:z,onChange:K,onFocus:i,onBlur:k},s,ae);return ie()({ourProps:j,theirProps:x,slot:q,defaultTag:Co,name:\"Combobox.Input\"})}let Po=\"button\";function Eo(y,O){let e=se(\"Combobox.Button\"),o=ne(\"Combobox.Button\"),[V,A]=Te(null),C=me(O,A,e.actions.setButtonElement),b=be(),{id:h=`headlessui-combobox-button-${b}`,disabled:l=o.disabled||!1,autoFocus:c=!1,...n}=y,x=R(e,i=>i.inputElement),a=Ae(x),g=E(i=>{switch(i.key){case L.Space:case L.Enter:i.preventDefault(),i.stopPropagation(),e.state.comboboxState===r.Closed&&te(()=>e.actions.openCombobox()),a();return;case L.ArrowDown:i.preventDefault(),i.stopPropagation(),e.state.comboboxState===r.Closed&&(te(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:M.First})),a();return;case L.ArrowUp:i.preventDefault(),i.stopPropagation(),e.state.comboboxState===r.Closed&&(te(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:M.Last})),a();return;case L.Escape:if(e.state.comboboxState!==r.Open)return;i.preventDefault(),e.state.optionsElement&&!o.optionsPropsRef.current.static&&i.stopPropagation(),te(()=>e.actions.closeCombobox()),a();return;default:return}}),f=E(i=>{i.preventDefault(),!lo(i.currentTarget)&&(i.button===Fe.Left&&(e.state.comboboxState===r.Open?e.actions.closeCombobox():e.actions.openCombobox()),a())}),B=ye([h]),{isFocusVisible:w,focusProps:F}=Ce({autoFocus:c}),{isHovered:m,hoverProps:P}=ve({isDisabled:l}),{pressed:d,pressProps:_}=Le({disabled:l}),[I,N]=R(e,i=>[i.comboboxState,i.optionsElement]),z=X(()=>({open:I===r.Open,active:d||I===r.Open,disabled:l,invalid:o.invalid,value:o.value,hover:m,focus:w}),[o,m,w,d,l,I]),K=ge({ref:C,id:h,type:ze(y,V),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":N==null?void 0:N.id,\"aria-expanded\":I===r.Open,\"aria-labelledby\":B,disabled:l||void 0,autoFocus:c,onMouseDown:f,onKeyDown:g},F,P,_);return ie()({ourProps:K,theirProps:n,slot:z,defaultTag:Po,name:\"Combobox.Button\"})}let Oo=\"div\",ho=De.RenderStrategy|De.Static;function Ao(y,O){var T,H,v;let e=be(),{id:o=`headlessui-combobox-options-${e}`,hold:V=!1,anchor:A,portal:C=!1,modal:b=!0,transition:h=!1,...l}=y,c=se(\"Combobox.Options\"),n=ne(\"Combobox.Options\"),x=eo(A);x&&(C=!0);let[a,g]=Ye(x),[f,B]=Te(null),w=Qe(),F=me(O,x?a:null,c.actions.setOptionsElement,B),[m,P,d,_,I]=R(c,u=>[u.comboboxState,u.inputElement,u.buttonElement,u.optionsElement,u.activationTrigger]),N=xe(P||d),z=xe(_),K=ro(),[k,i]=$e(h,f,K!==null?(K&ce.Open)===ce.Open:m===r.Open);He(k,P,c.actions.closeCombobox);let S=n.__demoMode?!1:b&&m===r.Open;Ke(S,z);let $=n.__demoMode?!1:b&&m===r.Open;ke($,{allowed:re(()=>[P,d,_],[P,d,_])}),Q(()=>{var u;n.optionsPropsRef.current.static=(u=y.static)!=null?u:!1},[n.optionsPropsRef,y.static]),Q(()=>{n.optionsPropsRef.current.hold=V},[n.optionsPropsRef,V]),Je(m===r.Open,{container:_,accept(u){return u.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:u.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute(\"role\",\"none\")}});let U=ye([d==null?void 0:d.id]),s=X(()=>({open:m===r.Open,option:void 0}),[m]),W=E(()=>{c.actions.setActivationTrigger(Z.Pointer)}),ae=E(u=>{u.preventDefault(),c.actions.setActivationTrigger(Z.Pointer)}),J=ge(x?w():{},{\"aria-labelledby\":U,role:\"listbox\",\"aria-multiselectable\":n.mode===G.Multi?!0:void 0,id:o,ref:F,style:{...l.style,...g,\"--input-width\":he(P,!0).width,\"--button-width\":he(d,!0).width},onWheel:I===Z.Pointer?void 0:W,onMouseDown:ae,...Xe(i)}),q=k&&m===r.Closed,j=Re(q,(T=n.virtual)==null?void 0:T.options),pe=Re(q,n.value),Y=E(u=>n.compare(pe,u)),ee=X(()=>{if(!n.virtual)return n;if(j===void 0)throw new Error(\"Missing `options` in virtual mode\");return j!==n.virtual.options?{...n,virtual:{...n.virtual,options:j}}:n},[n,j,(H=n.virtual)==null?void 0:H.options]);n.virtual&&Object.assign(l,{children:D.createElement(ue.Provider,{value:ee},D.createElement(xo,{slot:s},l.children))});let t=ie(),p=X(()=>n.mode===G.Multi?n:{...n,isSelected:Y},[n,Y]);return D.createElement(mo,{enabled:C?y.static||k:!1,ownerDocument:N},D.createElement(ue.Provider,{value:p},t({ourProps:J,theirProps:{...l,children:D.createElement(to,{freeze:q},typeof l.children==\"function\"?(v=l.children)==null?void 0:v.call(l,s):l.children)},slot:s,defaultTag:Oo,features:ho,visible:k,name:\"Combobox.Options\"})))}let Io=\"div\";function Ro(y,O){var S,$,U;let e=ne(\"Combobox.Option\"),o=se(\"Combobox.Option\"),V=be(),{id:A=`headlessui-combobox-option-${V}`,value:C,disabled:b=(U=($=(S=e.virtual)==null?void 0:S.disabled)==null?void 0:$.call(S,C))!=null?U:!1,order:h=null,...l}=y,[c]=R(o,s=>[s.inputElement]),n=Ae(c),x=R(o,re(s=>o.selectors.isActive(s,C,A),[C,A])),a=e.isSelected(C),g=de(null),f=Ue({disabled:b,value:C,domRef:g,order:h}),B=Oe(Se),w=me(O,g,B?B.measureElement:null),F=E(()=>{o.actions.setIsTyping(!1),o.actions.onChange(C)});Q(()=>o.actions.registerOption(A,f),[f,A]);let m=R(o,re(s=>o.selectors.shouldScrollIntoView(s,C,A),[C,A]));Q(()=>{if(m)return io().requestAnimationFrame(()=>{var s,W;(W=(s=g.current)==null?void 0:s.scrollIntoView)==null||W.call(s,{block:\"nearest\"})})},[m,g]);let P=E(s=>{s.preventDefault(),s.button===Fe.Left&&(b||(F(),so()||requestAnimationFrame(()=>n()),e.mode===G.Single&&o.actions.closeCombobox()))}),d=E(()=>{if(b)return o.actions.goToOption({focus:M.Nothing});let s=e.calculateIndex(C);o.actions.goToOption({focus:M.Specific,idx:s})}),_=We(),I=E(s=>_.update(s)),N=E(s=>{if(!_.wasMoved(s)||b||x)return;let W=e.calculateIndex(C);o.actions.goToOption({focus:M.Specific,idx:W},Z.Pointer)}),z=E(s=>{_.wasMoved(s)&&(b||x&&(e.optionsPropsRef.current.hold||o.actions.goToOption({focus:M.Nothing})))}),K=X(()=>({active:x,focus:x,selected:a,disabled:b}),[x,a,b]),k={id:A,ref:w,role:\"option\",tabIndex:b===!0?void 0:-1,\"aria-disabled\":b===!0?!0:void 0,\"aria-selected\":a,disabled:void 0,onMouseDown:P,onFocus:d,onPointerEnter:I,onMouseEnter:I,onPointerMove:N,onMouseMove:N,onPointerLeave:z,onMouseLeave:z};return ie()({ourProps:k,theirProps:l,slot:K,defaultTag:Io,name:\"Combobox.Option\"})}let _o=le(yo),Do=le(Eo),Fo=le(vo),So=po,Mo=le(Ao),Lo=le(Ro),Dt=Object.assign(_o,{Input:Fo,Button:Do,Label:So,Options:Mo,Option:Lo});export{Dt as Combobox,Do as ComboboxButton,Fo as ComboboxInput,So as ComboboxLabel,Lo as ComboboxOption,Mo as ComboboxOptions};\n", "import{useCallback as n}from\"react\";function l(e,r){return e!==null&&r!==null&&typeof e==\"object\"&&typeof r==\"object\"&&\"id\"in e&&\"id\"in r?e.id===r.id:e===r}function u(e=l){return n((r,t)=>{if(typeof e==\"string\"){let o=e;return(r==null?void 0:r[o])===(t==null?void 0:t[o])}return e(r,t)},[e])}export{u as useByComparator};\n", "import{useMemo as o,useReducer as h}from\"react\";import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';function f(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function d(e,t=!1){let[r,u]=h(()=>({}),{}),i=o(()=>f(e),[e,r]);return s(()=>{if(!e)return;let n=new ResizeObserver(u);return n.observe(e),()=>{n.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}export{d as useElementSize};\n", "import{useId as n}from\"react\";import{DefaultMap as f}from'../utils/default-map.js';import{createStore as u}from'../utils/store.js';import{useIsoMorphicEffect as c}from'./use-iso-morphic-effect.js';import{useStore as l}from'./use-store.js';let p=new f(()=>u(()=>[],{ADD(r){return this.includes(r)?this:[...this,r]},REMOVE(r){let e=this.indexOf(r);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function x(r,e){let t=p.get(e),i=n(),h=l(t);if(c(()=>{if(r)return t.dispatch(\"ADD\",i),()=>t.dispatch(\"REMOVE\",i)},[t,r]),!r)return!1;let s=h.indexOf(i),o=h.length;return s===-1&&(s=o,o+=1),s===o-1}export{x as useIsTopLayer};\n", "class a extends Map{constructor(t){super();this.factory=t}get(t){let e=super.get(t);return e===void 0&&(e=this.factory(t),this.set(t,e)),e}}export{a as DefaultMap};\n", "function a(o,r){let t=o(),n=new Set;return{getSnapshot(){return t},subscribe(e){return n.add(e),()=>n.delete(e)},dispatch(e,...s){let i=r[e].call(t,...s);i&&(t=i,n.forEach(c=>c()))}}}export{a as createStore};\n", "import{useSyncExternalStore as e}from\"react\";function o(t){return e(t.subscribe,t.getSnapshot,t.getSnapshot)}export{o as useStore};\n", "import{disposables as M}from'../utils/disposables.js';import{getOwnerDocument as b}from'../utils/owner.js';import{useIsTopLayer as L}from'./use-is-top-layer.js';import{useIsoMorphicEffect as T}from'./use-iso-morphic-effect.js';let f=new Map,u=new Map;function h(t){var e;let r=(e=u.get(t))!=null?e:0;return u.set(t,r+1),r!==0?()=>m(t):(f.set(t,{\"aria-hidden\":t.getAttribute(\"aria-hidden\"),inert:t.inert}),t.setAttribute(\"aria-hidden\",\"true\"),t.inert=!0,()=>m(t))}function m(t){var i;let r=(i=u.get(t))!=null?i:1;if(r===1?u.delete(t):u.set(t,r-1),r!==1)return;let e=f.get(t);e&&(e[\"aria-hidden\"]===null?t.removeAttribute(\"aria-hidden\"):t.setAttribute(\"aria-hidden\",e[\"aria-hidden\"]),t.inert=e.inert,f.delete(t))}function y(t,{allowed:r,disallowed:e}={}){let i=L(t,\"inert-others\");T(()=>{var d,c;if(!i)return;let a=M();for(let n of(d=e==null?void 0:e())!=null?d:[])n&&a.add(h(n));let s=(c=r==null?void 0:r())!=null?c:[];for(let n of s){if(!n)continue;let l=b(n);if(!l)continue;let o=n.parentElement;for(;o&&o!==l.body;){for(let p of o.children)s.some(E=>p.contains(E))||a.add(h(p));o=o.parentElement}}return a.dispose},[i,r,e])}export{y as useInertOthers};\n", "import{useEffect as o}from\"react\";import{disposables as u}from'../utils/disposables.js';import{useLatestValue as c}from'./use-latest-value.js';function m(s,n,l){let i=c(t=>{let e=t.getBoundingClientRect();e.x===0&&e.y===0&&e.width===0&&e.height===0&&l()});o(()=>{if(!s)return;let t=n===null?null:n instanceof HTMLElement?n:n.current;if(!t)return;let e=u();if(typeof ResizeObserver!=\"undefined\"){let r=new ResizeObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}if(typeof IntersectionObserver!=\"undefined\"){let r=new IntersectionObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}return()=>e.dispose()},[n,i,s])}export{m as useOnDisappear};\n", "import{useCallback as T,useRef as d}from\"react\";import{FocusableMode as y,isFocusableElement as M}from'../utils/focus-management.js';import{isMobile as g}from'../utils/platform.js';import{useDocumentEvent as c}from'./use-document-event.js';import{useIsTopLayer as L}from'./use-is-top-layer.js';import{useLatestValue as b}from'./use-latest-value.js';import{useWindowEvent as P}from'./use-window-event.js';const E=30;function R(p,f,C){let u=L(p,\"outside-click\"),m=b(C),s=T(function(e,n){if(e.defaultPrevented)return;let r=n(e);if(r===null||!r.getRootNode().contains(r)||!r.isConnected)return;let h=function l(o){return typeof o==\"function\"?l(o()):Array.isArray(o)||o instanceof Set?o:[o]}(f);for(let l of h)if(l!==null&&(l.contains(r)||e.composed&&e.composedPath().includes(l)))return;return!M(r,y.Loose)&&r.tabIndex!==-1&&e.preventDefault(),m.current(e,r)},[m,f]),i=d(null);c(u,\"pointerdown\",t=>{var e,n;i.current=((n=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:n[0])||t.target},!0),c(u,\"mousedown\",t=>{var e,n;i.current=((n=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:n[0])||t.target},!0),c(u,\"click\",t=>{g()||i.current&&(s(t,()=>i.current),i.current=null)},!0);let a=d({x:0,y:0});c(u,\"touchstart\",t=>{a.current.x=t.touches[0].clientX,a.current.y=t.touches[0].clientY},!0),c(u,\"touchend\",t=>{let e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};if(!(Math.abs(e.x-a.current.x)>=E||Math.abs(e.y-a.current.y)>=E))return s(t,()=>t.target instanceof HTMLElement?t.target:null)},!0),P(u,\"blur\",t=>s(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{R as useOutsideClick};\n", "import{disposables as N}from'./disposables.js';import{match as L}from'./match.js';import{getOwnerDocument as E}from'./owner.js';let f=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\"),p=[\"[data-autofocus]\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var F=(n=>(n[n.First=1]=\"First\",n[n.Previous=2]=\"Previous\",n[n.Next=4]=\"Next\",n[n.Last=8]=\"Last\",n[n.WrapAround=16]=\"WrapAround\",n[n.NoScroll=32]=\"NoScroll\",n[n.AutoFocus=64]=\"AutoFocus\",n))(F||{}),T=(o=>(o[o.Error=0]=\"Error\",o[o.Overflow=1]=\"Overflow\",o[o.Success=2]=\"Success\",o[o.Underflow=3]=\"Underflow\",o))(T||{}),y=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(y||{});function b(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(f)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function S(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(h||{});function A(e,r=0){var t;return e===((t=E(e))==null?void 0:t.body)?!1:L(r,{[0](){return e.matches(f)},[1](){let u=e;for(;u!==null;){if(u.matches(f))return!0;u=u.parentElement}return!1}})}function G(e){let r=E(e);N().nextFrame(()=>{r&&!A(r.activeElement,0)&&I(e)})}var H=(t=>(t[t.Keyboard=0]=\"Keyboard\",t[t.Mouse=1]=\"Mouse\",t))(H||{});typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"keydown\",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0),document.addEventListener(\"click\",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0));function I(e){e==null||e.focus({preventScroll:!0})}let w=[\"textarea\",\"input\"].join(\",\");function O(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,w))!=null?t:!1}function _(e,r=t=>t){return e.slice().sort((t,u)=>{let o=r(t),c=r(u);if(o===null||c===null)return 0;let l=o.compareDocumentPosition(c);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j(e,r){return P(b(),r,{relativeTo:e})}function P(e,r,{sorted:t=!0,relativeTo:u=null,skipElements:o=[]}={}){let c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?t?_(e):e:r&64?S(e):b(e);o.length>0&&l.length>1&&(l=l.filter(s=>!o.some(a=>a!=null&&\"current\"in a?(a==null?void 0:a.current)===s:a===s))),u=u!=null?u:c.activeElement;let n=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),x=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,l.indexOf(u))-1;if(r&4)return Math.max(0,l.indexOf(u))+1;if(r&8)return l.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),M=r&32?{preventScroll:!0}:{},m=0,d=l.length,i;do{if(m>=d||m+d<=0)return 0;let s=x+m;if(r&16)s=(s+d)%d;else{if(s<0)return 3;if(s>=d)return 1}i=l[s],i==null||i.focus(M),m+=n}while(i!==c.activeElement);return r&6&&O(i)&&i.select(),2}export{F as Focus,T as FocusResult,h as FocusableMode,I as focusElement,j as focusFrom,P as focusIn,f as focusableSelector,S as getAutoFocusableElements,b as getFocusableElements,A as isFocusableElement,G as restoreFocusIfNecessary,_ as sortByDomNode};\n", "function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return/Android/gi.test(window.navigator.userAgent)}function n(){return t()||i()}export{i as isAndroid,t as isIOS,n as isMobile};\n", "import{useEffect as c}from\"react\";import{useLatestValue as a}from'./use-latest-value.js';function i(t,e,o,n){let u=a(o);c(()=>{if(!t)return;function r(m){u.current(m)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[t,e,n])}export{i as useDocumentEvent};\n", "import{useEffect as a}from\"react\";import{useLatestValue as f}from'./use-latest-value.js';function s(t,e,o,n){let i=f(o);a(()=>{if(!t)return;function r(d){i.current(d)}return window.addEventListener(e,r,n),()=>window.removeEventListener(e,r,n)},[t,e,n])}export{s as useWindowEvent};\n", "import{useMemo as t}from\"react\";import{getOwnerDocument as o}from'../utils/owner.js';function n(...e){return t(()=>o(...e),[...e])}export{n as useOwnerDocument};\n", "import{useRef as r}from\"react\";import{useEvent as u}from'./use-event.js';import{useEventListener as o}from'./use-event-listener.js';function i(e){let n=r({value:\"\",selectionStart:null,selectionEnd:null});return o(e,\"blur\",l=>{let t=l.target;t instanceof HTMLInputElement&&(n.current={value:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})}),u(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==n.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:l,selectionEnd:t}=n.current;l!==null&&t!==null&&e.setSelectionRange(l,t)}n.current={value:\"\",selectionStart:null,selectionEnd:null}}})}export{i as useRefocusableInput};\n", "import{useEffect as d}from\"react\";import{useLatestValue as s}from'./use-latest-value.js';function E(n,e,a,t){let i=s(a);d(()=>{n=n!=null?n:window;function r(o){i.current(o)}return n.addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}export{E as useEventListener};\n", "import{useMemo as a}from\"react\";function e(t,u){return a(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:\"button\";if(typeof r==\"string\"&&r.toLowerCase()===\"button\"||(u==null?void 0:u.tagName)===\"BUTTON\"&&!u.hasAttribute(\"type\"))return\"button\"},[t.type,t.as,u])}export{e as useResolveButtonType};\n", "function d(){let r;return{before({doc:e}){var l;let o=e.documentElement,t=(l=e.defaultView)!=null?l:window;r=Math.max(0,t.innerWidth-o.clientWidth)},after({doc:e,d:o}){let t=e.documentElement,l=Math.max(0,t.clientWidth-t.offsetWidth),n=Math.max(0,r-l);o.style(t,\"paddingRight\",`${n}px`)}}}export{d as adjustScrollbarPadding};\n", "import{disposables as m}from'../../utils/disposables.js';import{isIOS as u}from'../../utils/platform.js';function d(){return u()?{before({doc:r,d:n,meta:c}){function o(a){return c.containers.flatMap(l=>l()).some(l=>l.contains(a))}n.microTask(()=>{var s;if(window.getComputedStyle(r.documentElement).scrollBehavior!==\"auto\"){let t=m();t.style(r.documentElement,\"scrollBehavior\",\"auto\"),n.add(()=>n.microTask(()=>t.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;n.addEventListener(r,\"click\",t=>{if(t.target instanceof HTMLElement)try{let e=t.target.closest(\"a\");if(!e)return;let{hash:f}=new URL(e.href),i=r.querySelector(f);i&&!o(i)&&(l=i)}catch{}},!0),n.addEventListener(r,\"touchstart\",t=>{if(t.target instanceof HTMLElement)if(o(t.target)){let e=t.target;for(;e.parentElement&&o(e.parentElement);)e=e.parentElement;n.style(e,\"overscrollBehavior\",\"contain\")}else n.style(t.target,\"touchAction\",\"none\")}),n.addEventListener(r,\"touchmove\",t=>{if(t.target instanceof HTMLElement){if(t.target.tagName===\"INPUT\")return;if(o(t.target)){let e=t.target;for(;e.parentElement&&e.dataset.headlessuiPortal!==\"\"&&!(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth);)e=e.parentElement;e.dataset.headlessuiPortal===\"\"&&t.preventDefault()}else t.preventDefault()}},{passive:!1}),n.add(()=>{var e;let t=(e=window.scrollY)!=null?e:window.pageYOffset;a!==t&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:\"nearest\"}),l=null)})})}}:{}}export{d as handleIOSLocking};\n", "function r(){return{before({doc:e,d:o}){o.style(e.documentElement,\"overflow\",\"hidden\")}}}export{r as preventScroll};\n", "import{disposables as s}from'../../utils/disposables.js';import{createStore as i}from'../../utils/store.js';import{adjustScrollbarPadding as l}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as d}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function m(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let a=i(()=>new Map,{PUSH(e,n){var o;let t=(o=this.get(e))!=null?o:{doc:e,count:0,d:s(),meta:new Set};return t.count++,t.meta.add(n),this.set(e,t),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let o={doc:e,d:n,meta:m(t)},c=[d(),l(),p()];c.forEach(({before:r})=>r==null?void 0:r(o)),c.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});a.subscribe(()=>{let e=a.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)===\"hidden\",c=t.count!==0;(c&&!o||!c&&o)&&a.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&a.dispatch(\"TEARDOWN\",t)}});export{a as overflows};\n", "import{useStore as s}from'../../hooks/use-store.js';import{useIsoMorphicEffect as u}from'../use-iso-morphic-effect.js';import{overflows as t}from'./overflow-store.js';function a(r,e,n=()=>({containers:[]})){let f=s(t),o=e?f.get(e):void 0,i=o?o.count>0:!1;return u(()=>{if(!(!e||!r))return t.dispatch(\"PUSH\",e,n),()=>t.dispatch(\"POP\",e,n)},[r,e]),i}export{a as useDocumentOverflowLockedEffect};\n", "import{useDocumentOverflowLockedEffect as l}from'./document-overflow/use-document-overflow.js';import{useIsTopLayer as m}from'./use-is-top-layer.js';function f(e,c,n=()=>[document.body]){let r=m(e,\"scroll-lock\");l(r,c,t=>{var o;return{containers:[...(o=t.containers)!=null?o:[],n]}})}export{f as useScrollLock};\n", "import{useRef as o}from\"react\";function t(e){return[e.screenX,e.screenY]}function u(){let e=o([-1,-1]);return{wasMoved(r){let n=t(r);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(r){e.current=t(r)}}}export{u as useTrackedPointer};\n", "var T,b;import{useRef as c,useState as S}from\"react\";import{disposables as m}from'../utils/disposables.js';import{useDisposables as g}from'./use-disposables.js';import{useFlags as y}from'./use-flags.js';import{useIsoMorphicEffect as A}from'./use-iso-morphic-effect.js';typeof process!=\"undefined\"&&typeof globalThis!=\"undefined\"&&typeof Element!=\"undefined\"&&((T=process==null?void 0:process.env)==null?void 0:T[\"NODE_ENV\"])===\"test\"&&typeof((b=Element==null?void 0:Element.prototype)==null?void 0:b.getAnimations)==\"undefined\"&&(Element.prototype.getAnimations=function(){return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\",\"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\",\"\",\"Example usage:\",\"```js\",\"import { mockAnimationsApi } from 'jsdom-testing-mocks'\",\"mockAnimationsApi()\",\"```\"].join(`\n`)),[]});var L=(r=>(r[r.None=0]=\"None\",r[r.Closed=1]=\"Closed\",r[r.Enter=2]=\"Enter\",r[r.Leave=4]=\"Leave\",r))(L||{});function R(t){let n={};for(let e in t)t[e]===!0&&(n[`data-${e}`]=\"\");return n}function x(t,n,e,i){let[r,o]=S(e),{hasFlag:s,addFlag:a,removeFlag:l}=y(t&&r?3:0),u=c(!1),f=c(!1),E=g();return A(()=>{var d;if(t){if(e&&o(!0),!n){e&&a(3);return}return(d=i==null?void 0:i.start)==null||d.call(i,e),C(n,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(e?(a(3),l(4)):(a(4),l(2)))},run(){f.current?e?(l(3),a(4)):(l(4),a(3)):e?l(1):a(1)},done(){var p;f.current&&typeof n.getAnimations==\"function\"&&n.getAnimations().length>0||(u.current=!1,l(7),e||o(!1),(p=i==null?void 0:i.end)==null||p.call(i,e))}})}},[t,e,n,E]),t?[r,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(t,{prepare:n,run:e,done:i,inFlight:r}){let o=m();return j(t,{prepare:n,inFlight:r}),o.nextFrame(()=>{e(),o.requestAnimationFrame(()=>{o.add(M(t,i))})}),o.dispose}function M(t,n){var o,s;let e=m();if(!t)return e.dispose;let i=!1;e.add(()=>{i=!0});let r=(s=(o=t.getAnimations)==null?void 0:o.call(t).filter(a=>a instanceof CSSTransition))!=null?s:[];return r.length===0?(n(),e.dispose):(Promise.allSettled(r.map(a=>a.finished)).then(()=>{i||n()}),e.dispose)}function j(t,{inFlight:n,prepare:e}){if(n!=null&&n.current){e();return}let i=t.style.transition;t.style.transition=\"none\",e(),t.offsetHeight,t.style.transition=i}export{R as transitionDataAttributes,x as useTransition};\n", "import{useCallback as r,useState as b}from\"react\";function c(u=0){let[t,l]=b(u),g=r(e=>l(e),[t]),s=r(e=>l(a=>a|e),[t]),m=r(e=>(t&e)===e,[t]),n=r(e=>l(a=>a&~e),[l]),F=r(e=>l(a=>a^e),[l]);return{flags:t,setFlag:g,addFlag:s,hasFlag:m,removeFlag:n,toggleFlag:F}}export{c as useFlags};\n", "import{useEffect as T,useRef as E}from\"react\";import{getOwnerDocument as d}from'../utils/owner.js';import{useIsoMorphicEffect as N}from'./use-iso-morphic-effect.js';function F(c,{container:e,accept:t,walk:r}){let o=E(t),l=E(r);T(()=>{o.current=t,l.current=r},[t,r]),N(()=>{if(!e||!c)return;let n=d(e);if(!n)return;let f=o.current,p=l.current,i=Object.assign(m=>f(m),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);for(;u.nextNode();)p(u.currentNode)},[e,c,o,l])}export{F as useTreeWalker};\n", "import{useEffect as f,useRef as s}from\"react\";import{useEvent as i}from'./use-event.js';function m(u,t){let e=s([]),r=i(u);f(()=>{let o=[...e.current];for(let[a,l]of t.entries())if(e.current[a]!==l){let n=r(t,o);return e.current=t,n}},[r,...t])}export{m as useWatch};\n", "import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor, evaluate, max, min, round } from '@floating-ui/utils';\nimport { getComputedStyle, isElement, getNodeName, isHTMLElement, getWindow, isLastTraversableNode, getParentNode, isWebKit } from '@floating-ui/utils/dom';\nimport { tabbable, isTabbable } from 'tabbable';\nimport * as ReactDOM from 'react-dom';\nimport { getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, refs);\n}\n\n// https://github.com/mui/material-ui/issues/41190#issuecomment-2040873379\nconst SafeReact = {\n  ...React\n};\n\nconst useInsertionEffect = SafeReact.useInsertionEffect;\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabled(list, index, disabledIndices));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    rtl,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === (rtl ? ARROW_LEFT : ARROW_RIGHT)) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === (rtl ? ARROW_RIGHT : ARROW_LEFT)) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          decrement: true,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === (rtl ? ARROW_RIGHT : ARROW_LEFT) ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  const sizeItem = sizes[index];\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      if (!sizeItem) {\n        return firstCellIndex;\n      }\n      return firstCellIndex + sizeItem.width - 1;\n    case 'bl':\n      if (!sizeItem) {\n        return firstCellIndex;\n      }\n      return firstCellIndex + (sizeItem.height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\nfunction isDisabled(list, index, disabledIndices) {\n  if (disabledIndices) {\n    return disabledIndices.includes(index);\n  }\n  const element = list[index];\n  return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(props) {\n  const {\n    children,\n    elementsRef,\n    labelsRef\n  } = props;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    label\n  } = props;\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that arent part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(props, forwardedRef) {\n  const {\n    render,\n    orientation = 'both',\n    loop = true,\n    rtl = false,\n    cols = 1,\n    disabledIndices,\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...domProps\n  } = props;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const horizontalEndKey = rtl ? ARROW_LEFT : ARROW_RIGHT;\n    const horizontalStartKey = rtl ? ARROW_RIGHT : ARROW_LEFT;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !isDisabled(elementsRef.current, index, disabledIndices));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !isDisabled(elementsRef.current, index, disabledIndices) ? cellIndex : foundIndex, -1);\n      const maybeNextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        rtl,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...(disabledIndices || elementsRef.current.map((_, index) => isDisabled(elementsRef.current, index) ? index : undefined)), undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex > maxIndex ? minIndex : activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === horizontalEndKey ? 'tr' : 'tl')\n      })];\n      if (maybeNextIndex != null) {\n        nextIndex = maybeNextIndex;\n      }\n    }\n    const toEndKeys = {\n      horizontal: [horizontalEndKey],\n      vertical: [ARROW_DOWN],\n      both: [horizontalEndKey, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [horizontalStartKey],\n      vertical: [ARROW_UP],\n      both: [horizontalStartKey, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      var _elementsRef$current$;\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n      (_elementsRef$current$ = elementsRef.current[nextIndex]) == null || _elementsRef$current$.focus();\n    }\n  }\n  const computedProps = {\n    ...domProps,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      domProps.onKeyDown == null || domProps.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(props, forwardedRef) {\n  const {\n    render,\n    ...domProps\n  } = props;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...domProps,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      domProps.onFocus == null || domProps.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => // Ensure the id is unique with multiple independent versions of Floating UI\n// on <React 18\n\"floating-ui-\" + Math.random().toString(36).slice(2, 6) + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  React.useEffect(() => {\n    serverHandoffComplete = true;\n  }, []);\n  return id;\n}\nconst useReactId = SafeReact.useId;\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\nfunction warn() {\n  var _devMessageSet;\n  for (var _len = arguments.length, messages = new Array(_len), _key = 0; _key < _len; _key++) {\n    messages[_key] = arguments[_key];\n  }\n  const message = \"Floating UI: \" + messages.join(' ');\n  if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(message))) {\n    var _devMessageSet2;\n    (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(message);\n    console.warn(message);\n  }\n}\nfunction error() {\n  var _devMessageSet3;\n  for (var _len2 = arguments.length, messages = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    messages[_key2] = arguments[_key2];\n  }\n  const message = \"Floating UI: \" + messages.join(' ');\n  if (!((_devMessageSet3 = devMessageSet) != null && _devMessageSet3.has(message))) {\n    var _devMessageSet4;\n    (_devMessageSet4 = devMessageSet) == null || _devMessageSet4.add(message);\n    console.error(message);\n  }\n}\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(props, ref) {\n  const {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow,\n        shift\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      warn('The `ref` prop is required for `FloatingArrow`.');\n    }\n  }\n  const clipPathId = useId();\n  const [isRTL, setIsRTL] = React.useState(false);\n\n  // https://github.com/floating-ui/floating-ui/issues/2932\n  index(() => {\n    if (!floating) return;\n    const isRTL = getComputedStyle(floating).direction === 'rtl';\n    if (isRTL) {\n      setIsRTL(true);\n    }\n  }, [floating]);\n  if (!floating) {\n    return null;\n  }\n  const [side, alignment] = placement.split('-');\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  let computedStaticOffset = staticOffset;\n  if (isVerticalSide && shift != null && shift.x || !isVerticalSide && shift != null && shift.y) {\n    computedStaticOffset = null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  const computedStrokeWidth = strokeWidth * 2;\n  const halfStrokeWidth = computedStrokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const isCustomShape = !!d;\n  const yOffsetProp = computedStaticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = computedStaticOffset && alignment === 'end' ? 'right' : 'left';\n  if (computedStaticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? computedStaticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? computedStaticOffset || arrow.y : '';\n  const dValue = d || 'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + computedStrokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + computedStrokeWidth / 2 + \"px)\",\n      transform: [rotation, transform].filter(t => !!t).join(' '),\n      ...restStyle\n    }\n  }), computedStrokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: computedStrokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: computedStrokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + computedStrokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(props) {\n  const {\n    children,\n    id\n  } = props;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(props) {\n  const {\n    children\n  } = props;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const openRef = useLatestRef(open);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef(-1);\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef(-1);\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const restTimeoutPendingRef = React.useRef(false);\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) return;\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n        restTimeoutPendingRef.current = false;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled) return;\n    if (!handleCloseRef.current) return;\n    if (!open) return;\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(elements.floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [elements.floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = window.setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = useEffectEvent(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  });\n  const clearPointerEvents = useEffectEvent(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(elements.floating).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  });\n  const isClickLikeOpenEvent = useEffectEvent(() => {\n    return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n  });\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) return;\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && !getDelay(delayRef.current, 'open')) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = window.setTimeout(() => {\n          if (!openRef.current) {\n            onOpenChange(true, event, 'hover');\n          }\n        }, openDelay);\n      } else if (!open) {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) return;\n      unbindMouseMoveRef.current();\n      const doc = getDocument(elements.floating);\n      clearTimeout(restTimeoutRef.current);\n      restTimeoutPendingRef.current = false;\n      if (handleCloseRef.current && dataRef.current.floatingContext) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...dataRef.current.floatingContext,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            if (!isClickLikeOpenEvent()) {\n              closeWithDelay(event, true, 'safe-polygon');\n            }\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(elements.floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) return;\n      if (!dataRef.current.floatingContext) return;\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...dataRef.current.floatingContext,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          if (!isClickLikeOpenEvent()) {\n            closeWithDelay(event);\n          }\n        }\n      })(event);\n    }\n    if (isElement(elements.domReference)) {\n      var _elements$floating;\n      const ref = elements.domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      (_elements$floating = elements.floating) == null || _elements$floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        var _elements$floating2;\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        (_elements$floating2 = elements.floating) == null || _elements$floating2.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [elements, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, openRef, tree, delayRef, handleCloseRef, dataRef, isClickLikeOpenEvent]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) return;\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      performedPointerEventsMutationRef.current = true;\n      const floatingEl = elements.floating;\n      if (isElement(elements.domReference) && floatingEl) {\n        var _tree$nodesRef$curren;\n        const body = getDocument(elements.floating).body;\n        body.setAttribute(safePolygonIdentifier, '');\n        const ref = elements.domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        body.style.pointerEvents = 'none';\n        ref.style.pointerEvents = 'auto';\n        floatingEl.style.pointerEvents = 'auto';\n        return () => {\n          body.style.pointerEvents = '';\n          ref.style.pointerEvents = '';\n          floatingEl.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, elements, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      restTimeoutPendingRef.current = false;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, elements.domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  const reference = React.useMemo(() => {\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      onPointerDown: setPointerRef,\n      onPointerEnter: setPointerRef,\n      onMouseMove(event) {\n        const {\n          nativeEvent\n        } = event;\n        function handleMouseMove() {\n          if (!blockMouseMoveRef.current && !openRef.current) {\n            onOpenChange(true, nativeEvent, 'hover');\n          }\n        }\n        if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current)) {\n          return;\n        }\n        if (open || restMs === 0) {\n          return;\n        }\n\n        // Ignore insignificant movements to account for tremors.\n        if (restTimeoutPendingRef.current && event.movementX ** 2 + event.movementY ** 2 < 2) {\n          return;\n        }\n        clearTimeout(restTimeoutRef.current);\n        if (pointerTypeRef.current === 'touch') {\n          handleMouseMove();\n        } else {\n          restTimeoutPendingRef.current = true;\n          restTimeoutRef.current = window.setTimeout(handleMouseMove, restMs);\n        }\n      }\n    };\n  }, [mouseOnly, onOpenChange, open, openRef, restMs]);\n  const floating = React.useMemo(() => ({\n    onMouseEnter() {\n      clearTimeout(timeoutRef.current);\n    },\n    onMouseLeave(event) {\n      if (!isClickLikeOpenEvent()) {\n        closeWithDelay(event.nativeEvent, false);\n      }\n    }\n  }), [closeWithDelay, isClickLikeOpenEvent]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}\n\nconst NOOP = () => {};\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: NOOP,\n  setState: NOOP,\n  isInstantPhase: false\n});\n\n/**\n * @deprecated\n * Use the return value of `useDelayGroup()` instead.\n */\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nfunction FloatingDelayGroup(props) {\n  const {\n    children,\n    delay,\n    timeoutMs = 0\n  } = props;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else if (!state.isInstantPhase) {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      if (state.isInstantPhase) {\n        setState({\n          isInstantPhase: false\n        });\n      }\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId, state.isInstantPhase]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n}\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nfunction useDelayGroup(context, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    floatingId\n  } = context;\n  const {\n    id: optionId,\n    enabled = true\n  } = options;\n  const id = optionId != null ? optionId : floatingId;\n  const groupContext = useDelayGroupContext();\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = groupContext;\n  index(() => {\n    if (!enabled) return;\n    if (!currentId) return;\n    setState({\n      delay: {\n        open: 1,\n        close: getDelay(initialDelay, 'close')\n      }\n    });\n    if (currentId !== id) {\n      onOpenChange(false);\n    }\n  }, [enabled, id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!enabled) return;\n    if (!currentId) return;\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [enabled, open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (!enabled) return;\n    if (setCurrentId === NOOP || !open) return;\n    setCurrentId(id);\n  }, [enabled, open, setCurrentId, id]);\n  return groupContext;\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount$1 = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    [].forEach.call(parent.children, node => {\n      if (getNodeName(node) === 'script') return;\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount$1++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount$1--;\n    if (!lockCount$1) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    id,\n    root\n  } = props;\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const [portalNode, setPortalNode] = React.useState(null);\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    // Wait for the uniqueId to be generated before creating the portal node in\n    // React <18 (using `useFloatingId` instead of the native `useId`).\n    // https://github.com/floating-ui/floating-ui/issues/2778\n    if (!uniqueId) return;\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    // Wait for the root to exist before creating the portal node. The root must\n    // be stored in state, not a ref, for this to work reactively.\n    if (root === null) return;\n    if (!uniqueId) return;\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element  by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(props) {\n  const {\n    children,\n    id,\n    root,\n    preserveTabOrder = true\n  } = props;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const modal = focusManagerState == null ? void 0 : focusManagerState.modal;\n  const open = focusManagerState == null ? void 0 : focusManagerState.open;\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, modal]);\n  React.useEffect(() => {\n    if (!portalNode) return;\n    if (open) return;\n    enableFocusInside(portalNode);\n  }, [open, portalNode]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/ReactDOM.createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent, 'focus-out'));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst FOCUSABLE_ATTRIBUTE = 'data-floating-ui-focusable';\nfunction getFloatingFocusElement(floatingElement) {\n  if (!floatingElement) {\n    return null;\n  }\n  // Try to find the element that has `{...getFloatingProps()}` spread on it.\n  // This indicates the floating element is acting as a positioning wrapper, and\n  // so focus should be managed on the child element with the event handlers and\n  // aria props.\n  return floatingElement.hasAttribute(FOCUSABLE_ATTRIBUTE) ? floatingElement : floatingElement.querySelector(\"[\" + FOCUSABLE_ATTRIBUTE + \"]\") || floatingElement;\n}\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  let tabbableEl = element;\n  if (!tabbableEl || getNodeName(tabbableEl) === 'body') return;\n  if (!isTabbable(tabbableEl, getTabbableOptions())) {\n    const tabbableChild = tabbable(tabbableEl, getTabbableOptions())[0];\n    if (tabbableChild) {\n      tabbableEl = tabbableChild;\n    }\n  }\n  previouslyFocusedElements.push(tabbableEl);\n  if (previouslyFocusedElements.length > LIST_LIMIT) {\n    previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    restoreFocus = false,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    floatingId,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const tabbableIndexRef = React.useRef(-1);\n  const isInsidePortal = portalContext != null;\n  const floatingFocusElement = getFloatingFocusElement(floating);\n  const getTabbableContent = useEffectEvent(function (container) {\n    if (container === void 0) {\n      container = floatingFocusElement;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  });\n  const getTabbableElements = useEffectEvent(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floatingFocusElement && type === 'floating') {\n        return floatingFocusElement;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  });\n  React.useEffect(() => {\n    if (disabled) return;\n    if (!modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floatingFocusElement, activeElement(getDocument(floatingFocusElement))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floatingFocusElement && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floatingFocusElement);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floatingFocusElement, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled) return;\n    if (!floating) return;\n    function handleFocusIn(event) {\n      const target = getTarget(event);\n      const tabbableContent = getTabbableContent();\n      const tabbableIndex = tabbableContent.indexOf(target);\n      if (tabbableIndex !== -1) {\n        tabbableIndexRef.current = tabbableIndex;\n      }\n    }\n    floating.addEventListener('focusin', handleFocusIn);\n    return () => {\n      floating.removeEventListener('focusin', handleFocusIn);\n    };\n  }, [disabled, floating, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled) return;\n    if (!closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Restore focus to the previous tabbable element index to prevent\n        // focus from being lost outside the floating tree.\n        if (restoreFocus && movedToUnrelatedNode && activeElement(getDocument(floatingFocusElement)) === getDocument(floatingFocusElement).body) {\n          // Let `FloatingPortal` effect knows that focus is still inside the\n          // floating tree.\n          if (isHTMLElement(floatingFocusElement)) {\n            floatingFocusElement.focus();\n          }\n          const prevTabbableIndex = tabbableIndexRef.current;\n          const tabbableContent = getTabbableContent();\n          const nodeToFocus = tabbableContent[prevTabbableIndex] || tabbableContent[tabbableContent.length - 1] || floatingFocusElement;\n          if (isHTMLElement(nodeToFocus)) {\n            nodeToFocus.focus();\n          }\n        }\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if ((isUntrappedTypeableCombobox ? true : !modal) && relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event, 'focus-out');\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, floatingFocusElement, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut, restoreFocus, getTabbableContent, isUntrappedTypeableCombobox]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !isHTMLElement(floatingFocusElement)) return;\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floatingFocusElement);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floatingFocusElement;\n      const focusAlreadyInsideFloatingEl = contains(floatingFocusElement, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floatingFocusElement\n        });\n      }\n    });\n  }, [disabled, open, floatingFocusElement, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floatingFocusElement) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    let openEvent = contextData.openEvent;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        open,\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (open) {\n        openEvent = event;\n      }\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    const fallbackEl = doc.createElement('span');\n    fallbackEl.setAttribute('tabindex', '-1');\n    fallbackEl.setAttribute('aria-hidden', 'true');\n    Object.assign(fallbackEl.style, HIDDEN_STYLES);\n    if (isInsidePortal && domReference) {\n      domReference.insertAdjacentElement('afterend', fallbackEl);\n    }\n    function getReturnElement() {\n      if (typeof returnFocusRef.current === 'boolean') {\n        return getPreviouslyFocusedElement() || fallbackEl;\n      }\n      return returnFocusRef.current.current || fallbackEl;\n    }\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || openEvent && ['click', 'mousedown'].includes(openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getReturnElement();\n      queueMicrotask(() => {\n        if (\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n        // If the focus moved somewhere else after mount, avoid returning focus\n        // since it likely entered a different element which should be\n        // respected: https://github.com/floating-ui/floating-ui/issues/2607\n        returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n          returnElement.focus({\n            preventScroll: preventReturnFocusScroll\n          });\n        }\n        fallbackEl.remove();\n      });\n    };\n  }, [disabled, floating, floatingFocusElement, returnFocusRef, dataRef, refs, events, tree, nodeId, isInsidePortal, domReference]);\n  React.useEffect(() => {\n    // The `returnFocus` cleanup behavior is inside a microtask; ensure we\n    // wait for it to complete before resetting the flag.\n    queueMicrotask(() => {\n      preventReturnFocusRef.current = false;\n    });\n  }, [disabled]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled) return;\n    if (!portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled) return;\n    if (!floatingFocusElement) return;\n    if (typeof MutationObserver !== 'function') return;\n    if (ignoreInitialFocus) return;\n    const handleMutation = () => {\n      const tabIndex = floatingFocusElement.getAttribute('tabindex');\n      const tabbableContent = getTabbableContent();\n      const activeEl = activeElement(getDocument(floating));\n      const tabbableIndex = tabbableContent.indexOf(activeEl);\n      if (tabbableIndex !== -1) {\n        tabbableIndexRef.current = tabbableIndex;\n      }\n      if (orderRef.current.includes('floating') || activeEl !== refs.domReference.current && tabbableContent.length === 0) {\n        if (tabIndex !== '0') {\n          floatingFocusElement.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floatingFocusElement.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floatingFocusElement, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, floatingFocusElement, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (modal ? !isUntrappedTypeableCombobox : true) && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nlet lockCount = 0;\nfunction enableScrollLock() {\n  const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n  const bodyStyle = document.body.style;\n  // RTL <body> scrollbar\n  const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n  const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n  const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n  const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.scrollX;\n  const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.scrollY;\n  bodyStyle.overflow = 'hidden';\n  if (scrollbarWidth) {\n    bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n  }\n\n  // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n  // technique has fewer side effects.\n  if (isIOS) {\n    var _window$visualViewpor, _window$visualViewpor2;\n    // iOS 12 does not support `visualViewport`.\n    const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n    const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n    Object.assign(bodyStyle, {\n      position: 'fixed',\n      top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n      left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n      right: '0'\n    });\n  }\n  return () => {\n    Object.assign(bodyStyle, {\n      overflow: '',\n      [paddingProp]: ''\n    });\n    if (isIOS) {\n      Object.assign(bodyStyle, {\n        position: '',\n        top: '',\n        left: '',\n        right: ''\n      });\n      window.scrollTo(scrollX, scrollY);\n    }\n  };\n}\nlet cleanup = () => {};\n\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(props, ref) {\n  const {\n    lockScroll = false,\n    ...rest\n  } = props;\n  index(() => {\n    if (!lockScroll) return;\n    lockCount++;\n    if (lockCount === 1) {\n      cleanup = enableScrollLock();\n    }\n    return () => {\n      lockCount--;\n      if (lockCount === 0) {\n        cleanup();\n      }\n    };\n  }, [lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true,\n    stickIfOpen = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  const reference = React.useMemo(() => ({\n    onPointerDown(event) {\n      pointerTypeRef.current = event.pointerType;\n    },\n    onMouseDown(event) {\n      const pointerType = pointerTypeRef.current;\n\n      // Ignore all buttons except for the \"main\" button.\n      // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n      if (event.button !== 0) return;\n      if (eventOption === 'click') return;\n      if (isMouseLikePointerType(pointerType, true) && ignoreMouse) return;\n      if (open && toggle && (dataRef.current.openEvent && stickIfOpen ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n        onOpenChange(false, event.nativeEvent, 'click');\n      } else {\n        // Prevent stealing focus from the floating element\n        event.preventDefault();\n        onOpenChange(true, event.nativeEvent, 'click');\n      }\n    },\n    onClick(event) {\n      const pointerType = pointerTypeRef.current;\n      if (eventOption === 'mousedown' && pointerTypeRef.current) {\n        pointerTypeRef.current = undefined;\n        return;\n      }\n      if (isMouseLikePointerType(pointerType, true) && ignoreMouse) return;\n      if (open && toggle && (dataRef.current.openEvent && stickIfOpen ? dataRef.current.openEvent.type === 'click' : true)) {\n        onOpenChange(false, event.nativeEvent, 'click');\n      } else {\n        onOpenChange(true, event.nativeEvent, 'click');\n      }\n    },\n    onKeyDown(event) {\n      pointerTypeRef.current = undefined;\n      if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n        return;\n      }\n      if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n        // Prevent scrolling\n        event.preventDefault();\n        didKeyDownRef.current = true;\n      }\n      if (event.key === 'Enter') {\n        if (open && toggle) {\n          onOpenChange(false, event.nativeEvent, 'click');\n        } else {\n          onOpenChange(true, event.nativeEvent, 'click');\n        }\n      }\n    },\n    onKeyUp(event) {\n      if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n        return;\n      }\n      if (event.key === ' ' && didKeyDownRef.current) {\n        didKeyDownRef.current = false;\n        if (open && toggle) {\n          onOpenChange(false, event.nativeEvent, 'click');\n        } else {\n          onOpenChange(true, event.nativeEvent, 'click');\n        }\n      }\n    }\n  }), [dataRef, domReference, eventOption, ignoreMouse, keyboardHandlers, onOpenChange, open, stickIfOpen, toggle]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}\n\nfunction createVirtualElement(domElement, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domElement || undefined,\n    getBoundingClientRect() {\n      var _data$dataRef$current;\n      const domRect = (domElement == null ? void 0 : domElement.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    dataRef,\n    elements: {\n      floating,\n      domReference\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(floating);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(floating, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(domReference);\n  }, [openCheck, enabled, x, y, floating, dataRef, refs, domReference, setReference]);\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  const reference = React.useMemo(() => {\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      onPointerDown: setPointerTypeRef,\n      onPointerEnter: setPointerTypeRef,\n      onMouseMove: handleReferenceEnterOrMove,\n      onMouseEnter: handleReferenceEnterOrMove\n    };\n  }, [handleReferenceEnterOrMove]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested  by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    elements,\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const isComposingRef = React.useRef(false);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    var _dataRef$current$floa;\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n\n    // Wait until IME is settled. Pressing `Escape` while composing should\n    // close the compose menu, but not the floating element.\n    if (isComposingRef.current) {\n      return;\n    }\n    const nodeId = (_dataRef$current$floa = dataRef.current.floatingContext) == null ? void 0 : _dataRef$current$floa.nodeId;\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    var _dataRef$current$floa2;\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(elements.floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, elements.floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const nodeId = (_dataRef$current$floa2 = dataRef.current.floatingContext) == null ? void 0 : _dataRef$current$floa2.nodeId;\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, elements.floating) || isEventTargetWithin(event, elements.domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    let compositionTimeout = -1;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    function handleCompositionStart() {\n      window.clearTimeout(compositionTimeout);\n      isComposingRef.current = true;\n    }\n    function handleCompositionEnd() {\n      // Safari fires `compositionend` before `keydown`, so we need to wait\n      // until the next tick to set `isComposing` to `false`.\n      // https://bugs.webkit.org/show_bug.cgi?id=165004\n      compositionTimeout = window.setTimeout(() => {\n        isComposingRef.current = false;\n      },\n      // 0ms or 1ms don't work in Safari. 5ms appears to consistently work.\n      // Only apply to WebKit for the test to remain 0ms.\n      isWebKit() ? 5 : 0);\n    }\n    const doc = getDocument(elements.floating);\n    if (escapeKey) {\n      doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      doc.addEventListener('compositionstart', handleCompositionStart);\n      doc.addEventListener('compositionend', handleCompositionEnd);\n    }\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(elements.domReference)) {\n        ancestors = getOverflowAncestors(elements.domReference);\n      }\n      if (isElement(elements.floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(elements.floating));\n      }\n      if (!isElement(elements.reference) && elements.reference && elements.reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(elements.reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      if (escapeKey) {\n        doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n        doc.removeEventListener('compositionstart', handleCompositionStart);\n        doc.removeEventListener('compositionend', handleCompositionEnd);\n      }\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n      window.clearTimeout(compositionTimeout);\n    };\n  }, [dataRef, elements, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  const reference = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    [bubbleHandlerKeys[referencePressEvent]]: event => {\n      if (referencePress) {\n        onOpenChange(false, event.nativeEvent, 'reference-press');\n      }\n    }\n  }), [closeOnEscapeKeyDown, onOpenChange, referencePress, referencePressEvent]);\n  const floating = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    onMouseDown() {\n      endedOrStartedInsideRef.current = true;\n    },\n    onMouseUp() {\n      endedOrStartedInsideRef.current = true;\n    },\n    [captureHandlerKeys[outsidePressEvent]]: () => {\n      insideReactTreeRef.current = true;\n    }\n  }), [closeOnEscapeKeyDown, outsidePressEvent]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}\n\nfunction useFloatingRootContext(options) {\n  const {\n    open = false,\n    onOpenChange: onOpenChangeProp,\n    elements: elementsProp\n  } = options;\n  const floatingId = useId();\n  const dataRef = React.useRef({});\n  const [events] = React.useState(() => createPubSub());\n  const nested = useFloatingParentNodeId() != null;\n  if (process.env.NODE_ENV !== \"production\") {\n    const optionDomReference = elementsProp.reference;\n    if (optionDomReference && !isElement(optionDomReference)) {\n      error('Cannot pass a virtual element to the `elements.reference` option,', 'as it must be a real DOM element. Use `refs.setPositionReference()`', 'instead.');\n    }\n  }\n  const [positionReference, setPositionReference] = React.useState(elementsProp.reference);\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    dataRef.current.openEvent = open ? event : undefined;\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    onOpenChangeProp == null || onOpenChangeProp(open, event, reason);\n  });\n  const refs = React.useMemo(() => ({\n    setPositionReference\n  }), []);\n  const elements = React.useMemo(() => ({\n    reference: positionReference || elementsProp.reference || null,\n    floating: elementsProp.floating || null,\n    domReference: elementsProp.reference\n  }), [positionReference, elementsProp.reference, elementsProp.floating]);\n  return React.useMemo(() => ({\n    dataRef,\n    open,\n    onOpenChange,\n    elements,\n    events,\n    floatingId,\n    refs\n  }), [open, onOpenChange, elements, events, floatingId, refs]);\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    nodeId\n  } = options;\n  const internalRootContext = useFloatingRootContext({\n    ...options,\n    elements: {\n      reference: null,\n      floating: null,\n      ...options.elements\n    }\n  });\n  const rootContext = options.rootContext || internalRootContext;\n  const computedElements = rootContext.elements;\n  const [_domReference, setDomReference] = React.useState(null);\n  const [positionReference, _setPositionReference] = React.useState(null);\n  const optionDomReference = computedElements == null ? void 0 : computedElements.domReference;\n  const domReference = optionDomReference || _domReference;\n  const domReferenceRef = React.useRef(null);\n  const tree = useFloatingTree();\n  index(() => {\n    if (domReference) {\n      domReferenceRef.current = domReference;\n    }\n  }, [domReference]);\n  const position = useFloating$1({\n    ...options,\n    elements: {\n      ...computedElements,\n      ...(positionReference && {\n        reference: positionReference\n      })\n    }\n  });\n  const setPositionReference = React.useCallback(node => {\n    const computedPositionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    // Store the positionReference in state if the DOM reference is specified externally via the\n    // `elements.reference` option. This ensures that it won't be overridden on future renders.\n    _setPositionReference(computedPositionReference);\n    position.refs.setReference(computedPositionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    ...rootContext,\n    refs,\n    elements,\n    nodeId\n  }), [position, refs, elements, nodeId, rootContext]);\n  index(() => {\n    rootContext.dataRef.current.floatingContext = context;\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    dataRef,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) return;\n    const win = getWindow(elements.domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(elements.domReference) && elements.domReference === activeElement(getDocument(elements.domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [elements.domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) return;\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  const reference = React.useMemo(() => ({\n    onPointerDown(event) {\n      if (isVirtualPointerEvent(event.nativeEvent)) return;\n      keyboardModalityRef.current = false;\n    },\n    onMouseLeave() {\n      blockFocusRef.current = false;\n    },\n    onFocus(event) {\n      if (blockFocusRef.current) return;\n      const target = getTarget(event.nativeEvent);\n      if (visibleOnly && isElement(target)) {\n        try {\n          // Mac Safari unreliably matches `:focus-visible` on the reference\n          // if focus was outside the page initially - use the fallback\n          // instead.\n          if (isSafari() && isMac()) throw Error();\n          if (!target.matches(':focus-visible')) return;\n        } catch (e) {\n          // Old browsers will throw an error when using `:focus-visible`.\n          if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n            return;\n          }\n        }\n      }\n      onOpenChange(true, event.nativeEvent, 'focus');\n    },\n    onBlur(event) {\n      blockFocusRef.current = false;\n      const relatedTarget = event.relatedTarget;\n      const nativeEvent = event.nativeEvent;\n\n      // Hit the non-modal focus management portal guard. Focus will be\n      // moved into the floating element immediately after.\n      const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n      // Wait for the window blur listener to fire.\n      timeoutRef.current = window.setTimeout(() => {\n        var _dataRef$current$floa;\n        const activeEl = activeElement(elements.domReference ? elements.domReference.ownerDocument : document);\n\n        // Focus left the page, keep it open.\n        if (!relatedTarget && activeEl === elements.domReference) return;\n\n        // When focusing the reference element (e.g. regular click), then\n        // clicking into the floating element, prevent it from hiding.\n        // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n        // We can not rely on relatedTarget to point to the correct element\n        // as it will only point to the shadow host of the newly focused element\n        // and not the element that actually has received focus if it is located\n        // inside a shadow root.\n        if (contains((_dataRef$current$floa = dataRef.current.floatingContext) == null ? void 0 : _dataRef$current$floa.refs.floating.current, activeEl) || contains(elements.domReference, activeEl) || movedToFocusGuard) {\n          return;\n        }\n        onOpenChange(false, nativeEvent, 'focus');\n      });\n    }\n  }), [dataRef, elements.domReference, onOpenChange, visibleOnly]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1,\n      [FOCUSABLE_ATTRIBUTE]: ''\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  const referenceDeps = propsList.map(key => key == null ? void 0 : key.reference);\n  const floatingDeps = propsList.map(key => key == null ? void 0 : key.floating);\n  const itemDeps = propsList.map(key => key == null ? void 0 : key.item);\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  referenceDeps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  floatingDeps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  itemDeps);\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    elements\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        warn('`useListNavigation` looping must be enabled to allow escaping.');\n      }\n      if (!virtual) {\n        warn('`useListNavigation` must be virtual to allow escaping.');\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      warn('In grid list navigation mode (`cols` > 1), the `orientation` should', 'be either \"horizontal\" or \"both\".');\n    }\n  }\n  const floatingFocusElement = getFloatingFocusElement(elements.floating);\n  const floatingFocusElementRef = useLatestRef(floatingFocusElement);\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const typeableComboboxReference = isTypeableCombobox(elements.domReference);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!elements.floating);\n  const previousOpenRef = React.useRef(open);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const selectedIndexRef = useLatestRef(selectedIndex);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    function runFocus(item) {\n      if (virtual) {\n        setActiveId(item.id);\n        tree == null || tree.events.emit('virtualfocus', item);\n        if (virtualItemRef) {\n          virtualItemRef.current = item;\n        }\n      } else {\n        enqueueFocus(item, {\n          preventScroll: true,\n          // Mac Safari does not move the virtual cursor unless the focus call\n          // is sync. However, for the very first focus call, we need to wait\n          // for the position to be ready in order to prevent unwanted\n          // scrolling. This means the virtual cursor will not move to the first\n          // item when first opening the floating element, but will on\n          // subsequent calls. `preventScroll` is supported in modern Safari,\n          // so we can use that instead.\n          // iOS Safari must be async or the first item will not be focused.\n          sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n        });\n      }\n    }\n    const initialItem = listRef.current[indexRef.current];\n    if (initialItem) {\n      runFocus(initialItem);\n    }\n    requestAnimationFrame(() => {\n      const waitedItem = listRef.current[indexRef.current] || initialItem;\n      if (!waitedItem) return;\n      if (!initialItem) {\n        runFocus(waitedItem);\n      }\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        waitedItem.scrollIntoView == null || waitedItem.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) return;\n    if (open && elements.floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, elements.floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) return;\n    if (open && elements.floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndexRef.current != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if ((!previousOpenRef.current || !previousMountedRef.current) && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, elements.floating, activeIndex, selectedIndexRef, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || elements.floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(elements.floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, elements.floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled) return;\n    if (!tree) return;\n    if (!virtual) return;\n    if (parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!elements.floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  index(() => {\n    previousOpenRef.current = open;\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(floatingFocusElementRef.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, floatingFocusElementRef, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  const commonOnKeyDown = useEffectEvent(event => {\n    isPointerModalityRef.current = false;\n    forceSyncFocus.current = true;\n\n    // When composing a character, Chrome fires ArrowDown twice. Firefox/Safari\n    // don't appear to suffer from this. `event.isComposing` is avoided due to\n    // Safari not supporting it properly (although it's not needed in the first\n    // place for Safari, just avoiding any possible issues).\n    if (event.which === 229) {\n      return;\n    }\n\n    // If the floating element is animating out, ignore navigation. Otherwise,\n    // the `activeIndex` gets set to 0 despite not being open so the next time\n    // the user ArrowDowns, the first item won't be focused.\n    if (!latestOpenRef.current && event.currentTarget === floatingFocusElementRef.current) {\n      return;\n    }\n    if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n      stopEvent(event);\n      onOpenChange(false, event.nativeEvent, 'list-navigation');\n      if (isHTMLElement(elements.domReference)) {\n        if (virtual) {\n          tree == null || tree.events.emit('virtualfocus', elements.domReference);\n        } else {\n          elements.domReference.focus();\n        }\n      }\n      return;\n    }\n    const currentIndex = indexRef.current;\n    const minIndex = getMinIndex(listRef, disabledIndices);\n    const maxIndex = getMaxIndex(listRef, disabledIndices);\n    if (!typeableComboboxReference) {\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n    }\n\n    // Grid navigation.\n    if (cols > 1) {\n      const sizes = itemSizes || Array.from({\n        length: listRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !isDisabled(listRef.current, index, disabledIndices));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !isDisabled(listRef.current, index, disabledIndices) ? cellIndex : foundIndex, -1);\n      const index = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        rtl,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...(disabledIndices || listRef.current.map((_, index) => isDisabled(listRef.current, index) ? index : undefined)), undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(indexRef.current > maxIndex ? minIndex : indexRef.current, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction\n        // we're moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === (rtl ? ARROW_LEFT : ARROW_RIGHT) ? 'tr' : 'tl'),\n        stopEvent: true\n      })];\n      if (index != null) {\n        indexRef.current = index;\n        onNavigate(indexRef.current);\n      }\n      if (orientation === 'both') {\n        return;\n      }\n    }\n    if (isMainOrientationKey(event.key, orientation)) {\n      stopEvent(event);\n\n      // Reset the index if no item is focused.\n      if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n        indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n        onNavigate(indexRef.current);\n        return;\n      }\n      if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n        if (loop) {\n          indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n            startingIndex: currentIndex,\n            disabledIndices\n          });\n        } else {\n          indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n            startingIndex: currentIndex,\n            disabledIndices\n          }));\n        }\n      } else {\n        if (loop) {\n          indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n            startingIndex: currentIndex,\n            decrement: true,\n            disabledIndices\n          });\n        } else {\n          indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n            startingIndex: currentIndex,\n            decrement: true,\n            disabledIndices\n          }));\n        }\n      }\n      if (isIndexOutOfBounds(listRef, indexRef.current)) {\n        onNavigate(null);\n      } else {\n        onNavigate(indexRef.current);\n      }\n    }\n  });\n  const ariaActiveDescendantProp = React.useMemo(() => {\n    return virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n  }, [virtual, open, hasActiveIndex, virtualId, activeId]);\n  const floating = React.useMemo(() => {\n    return {\n      'aria-orientation': orientation === 'both' ? undefined : orientation,\n      ...(!isTypeableCombobox(elements.domReference) && ariaActiveDescendantProp),\n      onKeyDown: commonOnKeyDown,\n      onPointerMove() {\n        isPointerModalityRef.current = true;\n      }\n    };\n  }, [ariaActiveDescendantProp, commonOnKeyDown, elements.domReference, orientation]);\n  const reference = React.useMemo(() => {\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    return {\n      ...ariaActiveDescendantProp,\n      onKeyDown(event) {\n        isPointerModalityRef.current = false;\n        const isArrowKey = event.key.startsWith('Arrow');\n        const isHomeOrEndKey = ['Home', 'End'].includes(event.key);\n        const isMoveKey = isArrowKey || isHomeOrEndKey;\n        const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n        const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n        const isMainKey = isMainOrientationKey(event.key, orientation);\n        const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n        if (virtual && open) {\n          const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n          const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n          if (isMoveKey && deepestNode && virtualItemRef) {\n            const eventObject = new KeyboardEvent('keydown', {\n              key: event.key,\n              bubbles: true\n            });\n            if (isCrossOpenKey || isCrossCloseKey) {\n              var _deepestNode$context, _deepestNode$context2;\n              const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n              const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? listRef.current.find(item => (item == null ? void 0 : item.id) === activeId) : null;\n              if (dispatchItem) {\n                stopEvent(event);\n                dispatchItem.dispatchEvent(eventObject);\n                setVirtualId(undefined);\n              }\n            }\n            if ((isMainKey || isHomeOrEndKey) && deepestNode.context) {\n              if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                var _deepestNode$context$;\n                stopEvent(event);\n                (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                return;\n              }\n            }\n          }\n          return commonOnKeyDown(event);\n        }\n\n        // If a floating element should not open on arrow key down, avoid\n        // setting `activeIndex` while it's closed.\n        if (!open && !openOnArrowKeyDown && isArrowKey) {\n          return;\n        }\n        if (isNavigationKey) {\n          keyRef.current = nested && isMainKey ? null : event.key;\n        }\n        if (nested) {\n          if (isCrossOpenKey) {\n            stopEvent(event);\n            if (open) {\n              indexRef.current = getMinIndex(listRef, disabledIndicesRef.current);\n              onNavigate(indexRef.current);\n            } else {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            }\n          }\n          return;\n        }\n        if (isMainKey) {\n          if (selectedIndex != null) {\n            indexRef.current = selectedIndex;\n          }\n          stopEvent(event);\n          if (!open && openOnArrowKeyDown) {\n            onOpenChange(true, event.nativeEvent, 'list-navigation');\n          } else {\n            commonOnKeyDown(event);\n          }\n          if (open) {\n            onNavigate(indexRef.current);\n          }\n        }\n      },\n      onFocus() {\n        if (open && !virtual) {\n          onNavigate(null);\n        }\n      },\n      onPointerDown: checkVirtualPointer,\n      onMouseDown: checkVirtualMouse,\n      onClick: checkVirtualMouse\n    };\n  }, [activeId, ariaActiveDescendantProp, commonOnKeyDown, disabledIndicesRef, focusItemOnOpen, listRef, nested, onNavigate, onOpenChange, open, openOnArrowKeyDown, orientation, rtl, selectedIndex, tree, virtual, virtualItemRef]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  const reference = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n      };\n    }\n    return {\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n      'aria-controls': open ? floatingId : undefined,\n      ...(ariaRole === 'listbox' && {\n        role: 'combobox'\n      }),\n      ...(ariaRole === 'menu' && {\n        id: referenceId\n      }),\n      ...(ariaRole === 'menu' && isNested && {\n        role: 'menuitem'\n      }),\n      ...(role === 'select' && {\n        'aria-autocomplete': 'none'\n      }),\n      ...(role === 'combobox' && {\n        'aria-autocomplete': 'list'\n      })\n    };\n  }, [ariaRole, floatingId, isNested, open, referenceId, role]);\n  const floating = React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return floatingProps;\n    }\n    return {\n      ...floatingProps,\n      ...(ariaRole === 'menu' && {\n        'aria-labelledby': referenceId\n      })\n    };\n  }, [ariaRole, floatingId, referenceId, role]);\n  const item = React.useCallback(_ref => {\n    let {\n      active,\n      selected\n    } = _ref;\n    const commonProps = {\n      role: 'option',\n      ...(active && {\n        id: floatingId + \"-option\"\n      })\n    };\n\n    // For `menu`, we are unable to tell if the item is a `menuitemradio`\n    // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n    // avoid defaulting to `menuitem` as it may overwrite custom role props.\n    switch (role) {\n      case 'select':\n        return {\n          ...commonProps,\n          'aria-selected': active && selected\n        };\n      case 'combobox':\n        {\n          return {\n            ...commonProps,\n            ...(active && {\n              'aria-selected': true\n            })\n          };\n        }\n    }\n    return {};\n  }, [floatingId, role]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open && isMounted) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, isMounted, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n  if (!isMounted && status === 'close') {\n    setStatus('unmounted');\n  }\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  const setTypingChange = useEffectEvent(value => {\n    if (value) {\n      if (!dataRef.current.typing) {\n        dataRef.current.typing = value;\n        onTypingChange(value);\n      }\n    } else {\n      if (dataRef.current.typing) {\n        dataRef.current.typing = value;\n        onTypingChange(value);\n      }\n    }\n  });\n  const onKeyDown = useEffectEvent(event => {\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    const listContent = listRef.current;\n    if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n      if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n        setTypingChange(false);\n      } else if (event.key === ' ') {\n        stopEvent(event);\n      }\n    }\n    if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n    // Character key.\n    event.key.length !== 1 ||\n    // Modifier key.\n    event.ctrlKey || event.metaKey || event.altKey) {\n      return;\n    }\n    if (open && event.key !== ' ') {\n      stopEvent(event);\n      setTypingChange(true);\n    }\n\n    // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n    // allow it in this case, too.\n    const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n      var _text$, _text$2;\n      return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n    });\n\n    // Allows the user to cycle through items that start with the same letter\n    // in rapid succession.\n    if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n    }\n    stringRef.current += event.key;\n    clearTimeout(timeoutIdRef.current);\n    timeoutIdRef.current = setTimeout(() => {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n      setTypingChange(false);\n    }, resetMs);\n    const prevIndex = prevIndexRef.current;\n    const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n    if (index !== -1) {\n      onMatch(index);\n      matchIndexRef.current = index;\n    } else if (event.key !== ' ') {\n      stringRef.current = '';\n      setTypingChange(false);\n    }\n  });\n  const reference = React.useMemo(() => ({\n    onKeyDown\n  }), [onKeyDown]);\n  const floating = React.useMemo(() => {\n    return {\n      onKeyDown,\n      onKeyUp(event) {\n        if (event.key === ' ') {\n          setTypingChange(false);\n        }\n      }\n    };\n  }, [onKeyDown, setTypingChange]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside of it is\n * anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = evaluate(props, state);\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    const scrollEl = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n\n    // Valid combinations:\n    // 1. Floating element is the scrollRef and has a border (default)\n    // 2. Floating element is not the scrollRef, floating element has a border\n    // 3. Floating element is not the scrollRef, scrollRef has a border\n    // Floating > {...getFloatingProps()} wrapper > scrollRef > items is not\n    // allowed as VoiceOver doesn't work.\n    const clientTop = floating.clientTop || scrollEl.clientTop;\n    const floatingIsBordered = floating.clientTop !== 0;\n    const scrollElIsBordered = scrollEl.clientTop !== 0;\n    const floatingIsScrollEl = floating === scrollEl;\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        warn('`placement` side must be \"bottom\" when using the `inner`', 'middleware.');\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, scrollEl.scrollHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const isScrollable = scrollEl.scrollHeight > scrollEl.clientHeight;\n    const rounder = isScrollable ? v => v : round;\n    const maxHeight = rounder(max(0, scrollEl.scrollHeight + (floatingIsBordered && floatingIsScrollEl || scrollElIsBordered ? clientTop * 2 : 0) - diffY - max(0, overflow.bottom)));\n    scrollEl.style.maxHeight = maxHeight + \"px\";\n    scrollEl.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      const shouldFallback = scrollEl.offsetHeight < item.offsetHeight * min(minItemsVisible, listRef.current.length) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold;\n      ReactDOM.flushSync(() => onFallbackChange(shouldFallback));\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, scrollEl.offsetHeight + clientTop + floating.clientTop), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) return;\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        ReactDOM.flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  const floating = React.useMemo(() => ({\n    onKeyDown() {\n      controlledScrollingRef.current = true;\n    },\n    onWheel() {\n      controlledScrollingRef.current = false;\n    },\n    onPointerMove() {\n      controlledScrollingRef.current = false;\n    },\n    onScroll() {\n      const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n      if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n        return;\n      }\n      if (prevScrollTopRef.current !== null) {\n        const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n        if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n          ReactDOM.flushSync(() => onChange(d => d + scrollDiff));\n        }\n      }\n\n      // [Firefox] Wait for the height change to have been applied.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n      });\n    }\n  }), [elements.floating, onChange, overflowRef, scrollRef]);\n  return React.useMemo(() => enabled ? {\n    floating\n  } : {}, [enabled, floating]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingRootContext, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n", "function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n  return [':popover-open', ':modal'].some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return ['transform', 'translate', 'scale', 'rotate', 'perspective'].some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n", "import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333 for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          var _overflowsData$;\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          const hasInitialMainAxisOverflow = ((_overflowsData$ = overflowsData[0]) == null ? void 0 : _overflowsData$.overflows[0]) > 0;\n          if (!ignoreCrossAxisOverflow || hasInitialMainAxisOverflow) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 :\n  // RTL <body> scrollbar.\n  getWindowScrollBarX(documentElement, htmlRect));\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "import { computePosition, arrow as arrow$2, offset as offset$1, shift as shift$1, limitShift as limitShift$1, flip as flip$1, size as size$1, autoPlacement as autoPlacement$1, hide as hide$1, inline as inline$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n", "import{autoUpdate as Z,flip as ee,inner as te,offset as ne,shift as le,size as re,useFloating as oe,useInnerOffset as ie,useInteractions as se}from\"@floating-ui/react\";import*as j from\"react\";import{createContext as _,useCallback as ae,useContext as R,useMemo as M,useRef as ue,useState as A}from\"react\";import{useDisposables as fe}from'../hooks/use-disposables.js';import{useEvent as z}from'../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../hooks/use-iso-morphic-effect.js';let y=_({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y.displayName=\"FloatingContext\";let H=_(null);H.displayName=\"PlacementContext\";function xe(e){return M(()=>e?typeof e==\"string\"?{to:e}:e:null,[e])}function ye(){return R(y).setReference}function Fe(){return R(y).getReferenceProps}function be(){let{getFloatingProps:e,slot:t}=R(y);return ae((...n)=>Object.assign({},e(...n),{\"data-anchor\":t.anchor}),[e,t])}function Re(e=null){e===!1&&(e=null),typeof e==\"string\"&&(e={to:e});let t=R(H),n=M(()=>e,[JSON.stringify(e,(r,o)=>{var u;return(u=o==null?void 0:o.outerHTML)!=null?u:o})]);C(()=>{t==null||t(n!=null?n:null)},[t,n]);let l=R(y);return M(()=>[l.setFloating,e?l.styles:{}],[l.setFloating,e,l.styles])}let q=4;function Me({children:e,enabled:t=!0}){let[n,l]=A(null),[r,o]=A(0),u=ue(null),[f,s]=A(null);pe(f);let i=t&&n!==null&&f!==null,{to:F=\"bottom\",gap:E=0,offset:v=0,padding:c=0,inner:P}=ce(n,f),[a,p=\"center\"]=F.split(\" \");C(()=>{i&&o(0)},[i]);let{refs:b,floatingStyles:w,context:g}=oe({open:i,placement:a===\"selection\"?p===\"center\"?\"bottom\":`bottom-${p}`:p===\"center\"?`${a}`:`${a}-${p}`,strategy:\"absolute\",transform:!1,middleware:[ne({mainAxis:a===\"selection\"?0:E,crossAxis:v}),le({padding:c}),a!==\"selection\"&&ee({padding:c}),a===\"selection\"&&P?te({...P,padding:c,overflowRef:u,offset:r,minItemsVisible:q,referenceOverflowThreshold:c,onFallbackChange(h){var O,W;if(!h)return;let d=g.elements.floating;if(!d)return;let T=parseFloat(getComputedStyle(d).scrollPaddingBottom)||0,$=Math.min(q,d.childElementCount),L=0,N=0;for(let m of(W=(O=g.elements.floating)==null?void 0:O.childNodes)!=null?W:[])if(m instanceof HTMLElement){let x=m.offsetTop,k=x+m.clientHeight+T,S=d.scrollTop,U=S+d.clientHeight;if(x>=S&&k<=U)$--;else{N=Math.max(0,Math.min(k,U)-Math.max(x,S)),L=m.clientHeight;break}}$>=1&&o(m=>{let x=L*$-N+T;return m>=x?m:x})}}):null,re({padding:c,apply({availableWidth:h,availableHeight:d,elements:T}){Object.assign(T.floating.style,{overflow:\"auto\",maxWidth:`${h}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${d}px)`})}})].filter(Boolean),whileElementsMounted:Z}),[I=a,B=p]=g.placement.split(\"-\");a===\"selection\"&&(I=\"selection\");let G=M(()=>({anchor:[I,B].filter(Boolean).join(\" \")}),[I,B]),K=ie(g,{overflowRef:u,onChange:o}),{getReferenceProps:Q,getFloatingProps:X}=se([K]),Y=z(h=>{s(h),b.setFloating(h)});return j.createElement(H.Provider,{value:l},j.createElement(y.Provider,{value:{setFloating:Y,setReference:b.setReference,styles:w,getReferenceProps:Q,getFloatingProps:X,slot:G}},e))}function pe(e){C(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,l=parseFloat(n);if(isNaN(l))return;let r=parseInt(n);isNaN(r)||l!==r&&(e.style.maxHeight=`${Math.ceil(l)}px`)});return t.observe(e,{attributes:!0,attributeFilter:[\"style\"]}),()=>{t.disconnect()}},[e])}function ce(e,t){var o,u,f;let n=V((o=e==null?void 0:e.gap)!=null?o:\"var(--anchor-gap, 0)\",t),l=V((u=e==null?void 0:e.offset)!=null?u:\"var(--anchor-offset, 0)\",t),r=V((f=e==null?void 0:e.padding)!=null?f:\"var(--anchor-padding, 0)\",t);return{...e,gap:n,offset:l,padding:r}}function V(e,t,n=void 0){let l=fe(),r=z((s,i)=>{if(s==null)return[n,null];if(typeof s==\"number\")return[s,null];if(typeof s==\"string\"){if(!i)return[n,null];let F=J(s,i);return[F,E=>{let v=D(s);{let c=v.map(P=>window.getComputedStyle(i).getPropertyValue(P));l.requestAnimationFrame(function P(){l.nextFrame(P);let a=!1;for(let[b,w]of v.entries()){let g=window.getComputedStyle(i).getPropertyValue(w);if(c[b]!==g){c[b]=g,a=!0;break}}if(!a)return;let p=J(s,i);F!==p&&(E(p),F=p)})}return l.dispose}]}return[n,null]}),o=M(()=>r(e,t)[0],[e,t]),[u=o,f]=A();return C(()=>{let[s,i]=r(e,t);if(f(s),!!i)return i(f)},[e,t]),u}function D(e){let t=/var\\((.*)\\)/.exec(e);if(t){let n=t[1].indexOf(\",\");if(n===-1)return[t[1]];let l=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[l,...D(r)]:[l]}return[]}function J(e,t){let n=document.createElement(\"div\");t.appendChild(n),n.style.setProperty(\"margin-top\",\"0px\",\"important\"),n.style.setProperty(\"margin-top\",e,\"important\");let l=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),l}export{Me as FloatingProvider,Re as useFloatingPanel,be as useFloatingPanelProps,ye as useFloatingReference,Fe as useFloatingReferenceProps,xe as useResolvedAnchor};\n", "import r,{useState as u}from\"react\";function f({children:o,freeze:e}){let n=l(e,o);return r.createElement(r.Fragment,null,n)}function l(o,e){let[n,t]=u(e);return!o&&n!==e&&t(e),o?n:e}export{f as Frozen,l as useFrozenData};\n", "import r,{createContext as l,useContext as d}from\"react\";let n=l(null);n.displayName=\"OpenClosedContext\";var i=(e=>(e[e.Open=1]=\"Open\",e[e.Closed=2]=\"Closed\",e[e.Closing=4]=\"Closing\",e[e.Opening=8]=\"Opening\",e))(i||{});function u(){return d(n)}function c({value:o,children:t}){return r.createElement(n.Provider,{value:o},t)}function s({children:o}){return r.createElement(n.Provider,{value:null},o)}export{c as OpenClosedProvider,s as ResetOpenClosedProvider,i as State,u as useOpenClosed};\n", "import{useSyncExternalStoreWithSelector as a}from\"use-sync-external-store/with-selector\";import{useEvent as t}from'./hooks/use-event.js';import{shallowEqual as o}from'./machine.js';function S(e,n,r=o){return a(t(i=>e.subscribe(s,i)),t(()=>e.state),t(()=>e.state),t(n),r)}function s(e){return e}export{S as useSlice};\n", "var f=(t,e,r)=>{if(!e.has(t))throw TypeError(\"Cannot \"+r)};var a=(t,e,r)=>(f(t,e,\"read from private field\"),r?r.call(t):e.get(t)),l=(t,e,r)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,r)},c=(t,e,r,n)=>(f(t,e,\"write to private field\"),n?n.call(t,r):e.set(t,r),r);var i,s,o;import{DefaultMap as d}from'./utils/default-map.js';import{disposables as y}from'./utils/disposables.js';class m{constructor(e){l(this,i,{});l(this,s,new d(()=>new Set));l(this,o,new Set);c(this,i,e)}get state(){return a(this,i)}subscribe(e,r){let n={selector:e,callback:r,current:e(a(this,i))};return a(this,o).add(n),()=>{a(this,o).delete(n)}}on(e,r){return a(this,s).get(e).add(r),()=>{a(this,s).get(e).delete(r)}}send(e){c(this,i,this.reduce(a(this,i),e));for(let r of a(this,o)){let n=r.selector(a(this,i));h(r.current,n)||(r.current=n,r.callback(n))}for(let r of a(this,s).get(e.type))r(a(this,i),e)}}i=new WeakMap,s=new WeakMap,o=new WeakMap;function h(t,e){return Object.is(t,e)?!0:typeof t!=\"object\"||t===null||typeof e!=\"object\"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:u(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:u(t.entries(),e.entries()):S(t)&&S(e)?u(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function u(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function S(t){if(Object.prototype.toString.call(t)!==\"[object Object]\")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function g(t){let[e,r]=t(),n=y();return(...b)=>{e(...b),n.dispose(),n.microTask(r)}}export{m as Machine,g as batch,h as shallowEqual};\n", "function t(n){function e(){document.readyState!==\"loading\"&&(n(),document.removeEventListener(\"DOMContentLoaded\",e))}typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"DOMContentLoaded\",e),e())}export{t as onDocumentReady};\n", "import{onDocumentReady as d}from'./document-ready.js';import{focusableSelector as u}from'./focus-management.js';let r=[];d(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||r[0]===t.target)return;let n=t.target;n=n.closest(u),r.unshift(n!=null?n:t.target),r=r.filter(o=>o!=null&&o.isConnected),r.splice(10)}window.addEventListener(\"click\",e,{capture:!0}),window.addEventListener(\"mousedown\",e,{capture:!0}),window.addEventListener(\"focus\",e,{capture:!0}),document.body.addEventListener(\"click\",e,{capture:!0}),document.body.addEventListener(\"mousedown\",e,{capture:!0}),document.body.addEventListener(\"focus\",e,{capture:!0})});export{r as history};\n", "function u(l){throw new Error(\"Unexpected object: \"+l)}var c=(i=>(i[i.First=0]=\"First\",i[i.Previous=1]=\"Previous\",i[i.Next=2]=\"Next\",i[i.Last=3]=\"Last\",i[i.Specific=4]=\"Specific\",i[i.Nothing=5]=\"Nothing\",i))(c||{});function f(l,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),s=r!=null?r:-1;switch(l.focus){case 0:{for(let e=0;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 1:{s===-1&&(s=t.length);for(let e=s-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 2:{for(let e=s+1;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 3:{for(let e=t.length-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 4:{for(let e=0;e<t.length;++e)if(n.resolveId(t[e],e,t)===l.id)return e;return r}case 5:return null;default:u(l)}}export{c as Focus,f as calculateActiveIndex};\n", "var g=(f=>(f[f.Left=0]=\"Left\",f[f.Right=2]=\"Right\",f))(g||{});export{g as MouseButton};\n", "\"use client\";import T,{Fragment as E,createContext as A,useContext as d,useEffect as G,useMemo as x,useRef as L,useState as c}from\"react\";import{createPortal as O}from\"react-dom\";import{useEvent as _}from'../../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../../hooks/use-iso-morphic-effect.js';import{useOnUnmount as F}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as U}from'../../hooks/use-owner.js';import{useServerHandoffComplete as N}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as S,useSyncRefs as m}from'../../hooks/use-sync-refs.js';import{usePortalRoot as W}from'../../internal/portal-force-root.js';import{env as v}from'../../utils/env.js';import{forwardRefWithAs as y,useRender as R}from'../../utils/render.js';function j(e){let l=W(),o=d(H),[r,u]=c(()=>{var i;if(!l&&o!==null)return(i=o.current)!=null?i:null;if(v.isServer)return null;let t=e==null?void 0:e.getElementById(\"headlessui-portal-root\");if(t)return t;if(e===null)return null;let a=e.createElement(\"div\");return a.setAttribute(\"id\",\"headlessui-portal-root\"),e.body.appendChild(a)});return G(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),G(()=>{l||o!==null&&u(o.current)},[o,u,l]),r}let M=E,I=y(function(l,o){let{ownerDocument:r=null,...u}=l,t=L(null),a=m(S(s=>{t.current=s}),o),i=U(t),f=r!=null?r:i,p=j(f),[n]=c(()=>{var s;return v.isServer?null:(s=f==null?void 0:f.createElement(\"div\"))!=null?s:null}),P=d(g),b=N();C(()=>{!p||!n||p.contains(n)||(n.setAttribute(\"data-headlessui-portal\",\"\"),p.appendChild(n))},[p,n]),C(()=>{if(n&&P)return P.register(n)},[P,n]),F(()=>{var s;!p||!n||(n instanceof Node&&p.contains(n)&&p.removeChild(n),p.childNodes.length<=0&&((s=p.parentElement)==null||s.removeChild(p)))});let h=R();return b?!p||!n?null:O(h({ourProps:{ref:a},theirProps:u,slot:{},defaultTag:M,name:\"Portal\"}),n):null});function J(e,l){let o=m(l),{enabled:r=!0,ownerDocument:u,...t}=e,a=R();return r?T.createElement(I,{...t,ownerDocument:u,ref:o}):a({ourProps:{ref:o},theirProps:t,slot:{},defaultTag:M,name:\"Portal\"})}let X=E,H=A(null);function k(e,l){let{target:o,...r}=e,t={ref:m(l)},a=R();return T.createElement(H.Provider,{value:o},a({ourProps:t,theirProps:r,defaultTag:X,name:\"Popover.Group\"}))}let g=A(null);function le(){let e=d(g),l=L([]),o=_(t=>(l.current.push(t),e&&e.register(t),()=>r(t))),r=_(t=>{let a=l.current.indexOf(t);a!==-1&&l.current.splice(a,1),e&&e.unregister(t)}),u=x(()=>({register:o,unregister:r,portals:l}),[o,r,l]);return[l,x(()=>function({children:a}){return T.createElement(g.Provider,{value:u},a)},[u])]}let B=y(J),D=y(k),oe=Object.assign(B,{Group:D});export{oe as Portal,D as PortalGroup,le as useNestedPortals};\n", "import{useEffect as u,useRef as n}from\"react\";import{microTask as o}from'../utils/micro-task.js';import{useEvent as f}from'./use-event.js';function c(t){let r=f(t),e=n(!1);u(()=>(e.current=!1,()=>{e.current=!0,o(()=>{e.current&&r()})}),[r])}export{c as useOnUnmount};\n", "import*as t from\"react\";import{env as f}from'../utils/env.js';function s(){let r=typeof document==\"undefined\";return\"useSyncExternalStore\"in t?(o=>o.useSyncExternalStore)(t)(()=>()=>{},()=>!1,()=>!r):!1}function l(){let r=s(),[e,n]=t.useState(f.isHandoffComplete);return e&&f.isHandoffComplete===!1&&n(!1),t.useEffect(()=>{e!==!0&&n(!0)},[e]),t.useEffect(()=>f.handoff(),[]),r?!1:e}export{l as useServerHandoffComplete};\n", "import t,{createContext as r,useContext as c}from\"react\";let e=r(!1);function a(){return c(e)}function l(o){return t.createElement(e.Provider,{value:o.force},o.children)}export{l as ForcePortalRoot,a as usePortalRoot};\n", "var I=Object.defineProperty;var S=(t,i,e)=>i in t?I(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var c=(t,i,e)=>(S(t,typeof i!=\"symbol\"?i+\"\":i,e),e);import{Machine as R}from'../../machine.js';import{Focus as f,calculateActiveIndex as x}from'../../utils/calculate-active-index.js';import{sortByDomNode as h}from'../../utils/focus-management.js';import{match as g}from'../../utils/match.js';var A=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(A||{}),E=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(E||{}),C=(n=>(n[n.Pointer=0]=\"Pointer\",n[n.Focus=1]=\"Focus\",n[n.Other=2]=\"Other\",n))(C||{}),M=(l=>(l[l.OpenCombobox=0]=\"OpenCombobox\",l[l.CloseCombobox=1]=\"CloseCombobox\",l[l.GoToOption=2]=\"GoToOption\",l[l.SetTyping=3]=\"SetTyping\",l[l.RegisterOption=4]=\"RegisterOption\",l[l.UnregisterOption=5]=\"UnregisterOption\",l[l.DefaultToFirstOption=6]=\"DefaultToFirstOption\",l[l.SetActivationTrigger=7]=\"SetActivationTrigger\",l[l.UpdateVirtualConfiguration=8]=\"UpdateVirtualConfiguration\",l[l.SetInputElement=9]=\"SetInputElement\",l[l.SetButtonElement=10]=\"SetButtonElement\",l[l.SetOptionsElement=11]=\"SetOptionsElement\",l))(M||{});function v(t,i=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=i(t.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((u,a)=>u.dataRef.current.order-a.dataRef.current.order):h(n,u=>u.dataRef.current.domRef.current),r=e?o.indexOf(e):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let F={[1](t){var i;return(i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},[0](t){var i,e;if((i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},[3](t,i){return t.isTyping===i.isTyping?t:{...t,isTyping:i.isTyping}},[2](t,i){var r,u,a,p;if((r=t.dataRef.current)!=null&&r.disabled||t.optionsElement&&!((u=t.dataRef.current)!=null&&u.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:d,disabled:s}=t.virtual,T=i.focus===f.Specific?i.idx:x(i,{resolveItems:()=>d,resolveActiveIndex:()=>{var b,m;return(m=(b=t.activeOptionIndex)!=null?b:d.findIndex(y=>!s(y)))!=null?m:null},resolveDisabled:s,resolveId(){throw new Error(\"Function not implemented.\")}}),l=(a=i.trigger)!=null?a:2;return t.activeOptionIndex===T&&t.activationTrigger===l?t:{...t,activeOptionIndex:T,activationTrigger:l,isTyping:!1,__demoMode:!1}}let e=v(t);if(e.activeOptionIndex===null){let d=e.options.findIndex(s=>!s.dataRef.current.disabled);d!==-1&&(e.activeOptionIndex=d)}let n=i.focus===f.Specific?i.idx:x(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),o=(p=i.trigger)!=null?p:2;return t.activeOptionIndex===n&&t.activationTrigger===o?t:{...t,...e,isTyping:!1,activeOptionIndex:n,activationTrigger:o,__demoMode:!1}},[4]:(t,i)=>{var r,u,a,p;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,i.payload]};let e=i.payload,n=v(t,d=>(d.push(e),d));t.activeOptionIndex===null&&(a=(u=t.dataRef.current).isSelected)!=null&&a.call(u,i.payload.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(e));let o={...t,...n,activationTrigger:2};return(p=t.dataRef.current)!=null&&p.__demoMode&&t.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[5]:(t,i)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(o=>o.id!==i.id)};let e=v(t,o=>{let r=o.findIndex(u=>u.id===i.id);return r!==-1&&o.splice(r,1),o});return{...t,...e,activationTrigger:2}},[6]:(t,i)=>t.defaultToFirstOption===i.value?t:{...t,defaultToFirstOption:i.value},[7]:(t,i)=>t.activationTrigger===i.trigger?t:{...t,activationTrigger:i.trigger},[8]:(t,i)=>{var n,o;if(t.virtual===null)return{...t,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}};if(t.virtual.options===i.options&&t.virtual.disabled===i.disabled)return t;let e=t.activeOptionIndex;if(t.activeOptionIndex!==null){let r=i.options.indexOf(t.virtual.options[t.activeOptionIndex]);r!==-1?e=r:e=null}return{...t,activeOptionIndex:e,virtual:{options:i.options,disabled:(o=i.disabled)!=null?o:()=>!1}}},[9]:(t,i)=>t.inputElement===i.element?t:{...t,inputElement:i.element},[10]:(t,i)=>t.buttonElement===i.element?t:{...t,buttonElement:i.element},[11]:(t,i)=>t.optionsElement===i.element?t:{...t,optionsElement:i.element}};class O extends R{constructor(){super(...arguments);c(this,\"actions\",{onChange:e=>{let{onChange:n,compare:o,mode:r,value:u}=this.state.dataRef.current;return g(r,{[0]:()=>n==null?void 0:n(e),[1]:()=>{let a=u.slice(),p=a.findIndex(d=>o(d,e));return p===-1?a.push(e):a.splice(p,1),n==null?void 0:n(a)}})},registerOption:(e,n)=>(this.send({type:4,payload:{id:e,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,n)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:n})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(e=this.state.dataRef.current).onClose)==null||n.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:n}=this.state.options[e];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:f.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}});c(this,\"selectors\",{activeDescendantId:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);if(n!==null)return e.virtual?(r=e.options.find(u=>!u.dataRef.current.disabled&&e.dataRef.current.compare(u.dataRef.current.value,e.virtual.options[n])))==null?void 0:r.id:(o=e.options[n])==null?void 0:o.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:o,disabled:r}=e.virtual,u=o.findIndex(a=>{var p;return!((p=r==null?void 0:r(a))!=null&&p)});if(u!==-1)return u}let n=e.options.findIndex(o=>!o.dataRef.current.disabled);if(n!==-1)return n}return e.activeOptionIndex},activeOption:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);return n===null?null:e.virtual?e.virtual.options[n!=null?n:0]:(r=(o=e.options[n])==null?void 0:o.dataRef.current.value)!=null?r:null},isActive:(e,n,o)=>{var u;let r=this.selectors.activeOptionIndex(e);return r===null?!1:e.virtual?r===e.dataRef.current.calculateIndex(n):((u=e.options[r])==null?void 0:u.id)===o},shouldScrollIntoView:(e,n,o)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,n,o))})}static new({virtual:e=null,__demoMode:n=!1}={}){var o;return new O({dataRef:{current:{}},comboboxState:n?0:1,isTyping:!1,options:[],virtual:e?{options:e.options,disabled:(o=e.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:n})}reduce(e,n){return g(n.type,F,e,n)}}export{M as ActionTypes,C as ActivationTrigger,O as ComboboxMachine,A as ComboboxState,E as ValueMode};\n", "import{createContext as t,useContext as r,useMemo as a}from\"react\";import{ComboboxMachine as c}from'./combobox-machine.js';const b=t(null);function u(e){let o=r(b);if(o===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,i),n}return o}function i({virtual:e=null,__demoMode:o=!1}={}){return a(()=>c.new({virtual:e,__demoMode:o}),[])}export{b as ComboboxContext,i as useComboboxMachine,u as useComboboxMachineContext};\n", "\"use client\";import{useFocusRing as m}from\"@react-aria/focus\";import{useHover as A}from\"@react-aria/interactions\";import{Fragment as D,useMemo as f}from\"react\";import{useActivePress as v}from'../../hooks/use-active-press.js';import{forwardRefWithAs as I,mergeProps as y,useRender as P}from'../../utils/render.js';let E=D;function d(o,n){let{...s}=o,e=!1,{isFocusVisible:t,focusProps:p}=m(),{isHovered:r,hoverProps:i}=A({isDisabled:e}),{pressed:a,pressProps:T}=v({disabled:e}),l=y({ref:n},p,i,T),c=f(()=>({hover:r,focus:t,active:a}),[r,t,a]);return P()({ourProps:l,theirProps:s,slot:c,defaultTag:E,name:\"DataInteractive\"})}let x=I(d);export{x as DataInteractive};\n", "\"use client\";import n,{Fragment as N,createContext as ae,createRef as ie,useContext as pe,useEffect as se,useMemo as E,useReducer as de,useRef as W}from\"react\";import{useEscape as ue}from'../../hooks/use-escape.js';import{useEvent as A}from'../../hooks/use-event.js';import{useId as M}from'../../hooks/use-id.js';import{useInertOthers as Te}from'../../hooks/use-inert-others.js';import{useIsTouchDevice as fe}from'../../hooks/use-is-touch-device.js';import{useOnDisappear as ge}from'../../hooks/use-on-disappear.js';import{useOutsideClick as ce}from'../../hooks/use-outside-click.js';import{useOwnerDocument as me}from'../../hooks/use-owner.js';import{MainTreeProvider as $,useMainTreeNode as De,useRootContainers as Pe}from'../../hooks/use-root-containers.js';import{useScrollLock as ye}from'../../hooks/use-scroll-lock.js';import{useServerHandoffComplete as Ee}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as G}from'../../hooks/use-sync-refs.js';import{CloseProvider as Ae}from'../../internal/close-provider.js';import{ResetOpenClosedProvider as _e,State as x,useOpenClosed as j}from'../../internal/open-closed.js';import{ForcePortalRoot as Y}from'../../internal/portal-force-root.js';import{match as Ce}from'../../utils/match.js';import{RenderFeatures as J,forwardRefWithAs as _,useRender as L}from'../../utils/render.js';import{Description as K,useDescriptions as Re}from'../description/description.js';import{FocusTrap as Fe,FocusTrapFeatures as C}from'../focus-trap/focus-trap.js';import{Portal as be,PortalGroup as ve,useNestedPortals as xe}from'../portal/portal.js';import{Transition as Le,TransitionChild as X}from'../transition/transition.js';var Oe=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))(Oe||{}),he=(t=>(t[t.SetTitleId=0]=\"SetTitleId\",t))(he||{});let Se={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},k=ae(null);k.displayName=\"DialogContext\";function O(e){let t=pe(k);if(t===null){let o=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,O),o}return t}function Ie(e,t){return Ce(t.type,Se,e,t)}let V=_(function(t,o){let a=M(),{id:l=`headlessui-dialog-${a}`,open:i,onClose:p,initialFocus:d,role:s=\"dialog\",autoFocus:f=!0,__demoMode:u=!1,unmount:P=!1,...h}=t,R=W(!1);s=function(){return s===\"dialog\"||s===\"alertdialog\"?s:(R.current||(R.current=!0,console.warn(`Invalid role [${s}] passed to <Dialog />. Only \\`dialog\\` and and \\`alertdialog\\` are supported. Using \\`dialog\\` instead.`)),\"dialog\")}();let c=j();i===void 0&&c!==null&&(i=(c&x.Open)===x.Open);let T=W(null),S=G(T,o),F=me(T),g=i?0:1,[b,q]=de(Ie,{titleId:null,descriptionId:null,panelRef:ie()}),m=A(()=>p(!1)),w=A(r=>q({type:0,id:r})),D=Ee()?g===0:!1,[z,Q]=xe(),Z={get current(){var r;return(r=b.panelRef.current)!=null?r:T.current}},v=De(),{resolveContainers:I}=Pe({mainTreeNode:v,portals:z,defaultContainers:[Z]}),B=c!==null?(c&x.Closing)===x.Closing:!1;Te(u||B?!1:D,{allowed:A(()=>{var r,H;return[(H=(r=T.current)==null?void 0:r.closest(\"[data-headlessui-portal]\"))!=null?H:null]}),disallowed:A(()=>{var r;return[(r=v==null?void 0:v.closest(\"body > *:not(#headlessui-portal-root)\"))!=null?r:null]})}),ce(D,I,r=>{r.preventDefault(),m()}),ue(D,F==null?void 0:F.defaultView,r=>{r.preventDefault(),r.stopPropagation(),document.activeElement&&\"blur\"in document.activeElement&&typeof document.activeElement.blur==\"function\"&&document.activeElement.blur(),m()}),ye(u||B?!1:D,F,I),ge(D,T,m);let[ee,te]=Re(),oe=E(()=>[{dialogState:g,close:m,setTitleId:w,unmount:P},b],[g,b,m,w,P]),U=E(()=>({open:g===0}),[g]),ne={ref:S,id:l,role:s,tabIndex:-1,\"aria-modal\":u?void 0:g===0?!0:void 0,\"aria-labelledby\":b.titleId,\"aria-describedby\":ee,unmount:P},re=!fe(),y=C.None;D&&!u&&(y|=C.RestoreFocus,y|=C.TabLock,f&&(y|=C.AutoFocus),re&&(y|=C.InitialFocus));let le=L();return n.createElement(_e,null,n.createElement(Y,{force:!0},n.createElement(be,null,n.createElement(k.Provider,{value:oe},n.createElement(ve,{target:T},n.createElement(Y,{force:!1},n.createElement(te,{slot:U},n.createElement(Q,null,n.createElement(Fe,{initialFocus:d,initialFocusFallback:T,containers:I,features:y},n.createElement(Ae,{value:m},le({ourProps:ne,theirProps:h,slot:U,defaultTag:Me,features:Ge,visible:g===0,name:\"Dialog\"})))))))))))}),Me=\"div\",Ge=J.RenderStrategy|J.Static;function ke(e,t){let{transition:o=!1,open:a,...l}=e,i=j(),p=e.hasOwnProperty(\"open\")||i!==null,d=e.hasOwnProperty(\"onClose\");if(!p&&!d)throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");if(!p)throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");if(!d)throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");if(!i&&typeof e.open!=\"boolean\")throw new Error(`You provided an \\`open\\` prop to the \\`Dialog\\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!=\"function\")throw new Error(`You provided an \\`onClose\\` prop to the \\`Dialog\\`, but the value is not a function. Received: ${e.onClose}`);return(a!==void 0||o)&&!l.static?n.createElement($,null,n.createElement(Le,{show:a,transition:o,unmount:l.unmount},n.createElement(V,{ref:t,...l}))):n.createElement($,null,n.createElement(V,{ref:t,open:a,...l}))}let we=\"div\";function Be(e,t){let o=M(),{id:a=`headlessui-dialog-panel-${o}`,transition:l=!1,...i}=e,[{dialogState:p,unmount:d},s]=O(\"Dialog.Panel\"),f=G(t,s.panelRef),u=E(()=>({open:p===0}),[p]),P=A(S=>{S.stopPropagation()}),h={ref:f,id:a,onClick:P},R=l?X:N,c=l?{unmount:d}:{},T=L();return n.createElement(R,{...c},T({ourProps:h,theirProps:i,slot:u,defaultTag:we,name:\"Dialog.Panel\"}))}let Ue=\"div\";function He(e,t){let{transition:o=!1,...a}=e,[{dialogState:l,unmount:i}]=O(\"Dialog.Backdrop\"),p=E(()=>({open:l===0}),[l]),d={ref:t,\"aria-hidden\":!0},s=o?X:N,f=o?{unmount:i}:{},u=L();return n.createElement(s,{...f},u({ourProps:d,theirProps:a,slot:p,defaultTag:Ue,name:\"Dialog.Backdrop\"}))}let Ne=\"h2\";function We(e,t){let o=M(),{id:a=`headlessui-dialog-title-${o}`,...l}=e,[{dialogState:i,setTitleId:p}]=O(\"Dialog.Title\"),d=G(t);se(()=>(p(a),()=>p(null)),[a,p]);let s=E(()=>({open:i===0}),[i]),f={ref:d,id:a};return L()({ourProps:f,theirProps:l,slot:s,defaultTag:Ne,name:\"Dialog.Title\"})}let $e=_(ke),je=_(Be),Dt=_(He),Ye=_(We),Pt=K,yt=Object.assign($e,{Panel:je,Title:Ye,Description:K});export{yt as Dialog,Dt as DialogBackdrop,Pt as DialogDescription,je as DialogPanel,Ye as DialogTitle};\n", "import{Keys as u}from'../components/keyboard.js';import{useEventListener as i}from'./use-event-listener.js';import{useIsTopLayer as f}from'./use-is-top-layer.js';function a(o,r=typeof document!=\"undefined\"?document.defaultView:null,t){let n=f(o,\"escape\");i(r,\"keydown\",e=>{n&&(e.defaultPrevented||e.key===u.Escape&&t(e))})}export{a as useEscape};\n", "import{useState as i}from\"react\";import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';function f(){var t;let[e]=i(()=>typeof window!=\"undefined\"&&typeof window.matchMedia==\"function\"?window.matchMedia(\"(pointer: coarse)\"):null),[o,c]=i((t=e==null?void 0:e.matches)!=null?t:!1);return s(()=>{if(!e)return;function n(r){c(r.matches)}return e.addEventListener(\"change\",n),()=>e.removeEventListener(\"change\",n)},[e]),o}export{f as useIsTouchDevice};\n", "import f,{createContext as M,useContext as d,useState as H}from\"react\";import{Hidden as E,HiddenFeatures as T}from'../internal/hidden.js';import{getOwnerDocument as L}from'../utils/owner.js';import{useEvent as s}from'./use-event.js';import{useOwnerDocument as h}from'./use-owner.js';function R({defaultContainers:l=[],portals:n,mainTreeNode:o}={}){let r=h(o),u=s(()=>{var i,c;let t=[];for(let e of l)e!==null&&(e instanceof HTMLElement?t.push(e):\"current\"in e&&e.current instanceof HTMLElement&&t.push(e.current));if(n!=null&&n.current)for(let e of n.current)t.push(e);for(let e of(i=r==null?void 0:r.querySelectorAll(\"html > *, body > *\"))!=null?i:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!==\"headlessui-portal-root\"&&(o&&(e.contains(o)||e.contains((c=o==null?void 0:o.getRootNode())==null?void 0:c.host))||t.some(m=>e.contains(m))||t.push(e));return t});return{resolveContainers:u,contains:s(t=>u().some(i=>i.contains(t)))}}let a=M(null);function O({children:l,node:n}){let[o,r]=H(null),u=b(n!=null?n:o);return f.createElement(a.Provider,{value:u},l,u===null&&f.createElement(E,{features:T.Hidden,ref:t=>{var i,c;if(t){for(let e of(c=(i=L(t))==null?void 0:i.querySelectorAll(\"html > *, body > *\"))!=null?c:[])if(e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e!=null&&e.contains(t)){r(e);break}}}}))}function b(l=null){var n;return(n=d(a))!=null?n:l}export{O as MainTreeProvider,b as useMainTreeNode,R as useRootContainers};\n", "\"use client\";import L,{useRef as M}from\"react\";import{useDisposables as W}from'../../hooks/use-disposables.js';import{useEvent as A}from'../../hooks/use-event.js';import{useEventListener as K}from'../../hooks/use-event-listener.js';import{useIsMounted as P}from'../../hooks/use-is-mounted.js';import{useIsTopLayer as O}from'../../hooks/use-is-top-layer.js';import{useOnUnmount as V}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as q}from'../../hooks/use-owner.js';import{useServerHandoffComplete as J}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as X}from'../../hooks/use-sync-refs.js';import{Direction as H,useTabDirection as z}from'../../hooks/use-tab-direction.js';import{useWatch as y}from'../../hooks/use-watch.js';import{Hidden as C,HiddenFeatures as _}from'../../internal/hidden.js';import{history as b}from'../../utils/active-element-history.js';import{Focus as T,FocusResult as S,focusElement as p,focusIn as E}from'../../utils/focus-management.js';import{match as h}from'../../utils/match.js';import{microTask as j}from'../../utils/micro-task.js';import{forwardRefWithAs as Q,useRender as Y}from'../../utils/render.js';function U(o){if(!o)return new Set;if(typeof o==\"function\")return new Set(o());let e=new Set;for(let t of o.current)t.current instanceof HTMLElement&&e.add(t.current);return e}let Z=\"div\";var x=(n=>(n[n.None=0]=\"None\",n[n.InitialFocus=1]=\"InitialFocus\",n[n.TabLock=2]=\"TabLock\",n[n.FocusLock=4]=\"FocusLock\",n[n.RestoreFocus=8]=\"RestoreFocus\",n[n.AutoFocus=16]=\"AutoFocus\",n))(x||{});function $(o,e){let t=M(null),r=X(t,e),{initialFocus:s,initialFocusFallback:a,containers:n,features:u=15,...f}=o;J()||(u=0);let l=q(t);ee(u,{ownerDocument:l});let i=te(u,{ownerDocument:l,container:t,initialFocus:s,initialFocusFallback:a});re(u,{ownerDocument:l,container:t,containers:n,previousActiveElement:i});let R=z(),g=A(c=>{let m=t.current;if(!m)return;(G=>G())(()=>{h(R.current,{[H.Forwards]:()=>{E(m,T.First,{skipElements:[c.relatedTarget,a]})},[H.Backwards]:()=>{E(m,T.Last,{skipElements:[c.relatedTarget,a]})}})})}),v=O(!!(u&2),\"focus-trap#tab-lock\"),N=W(),F=M(!1),k={ref:r,onKeyDown(c){c.key==\"Tab\"&&(F.current=!0,N.requestAnimationFrame(()=>{F.current=!1}))},onBlur(c){if(!(u&4))return;let m=U(n);t.current instanceof HTMLElement&&m.add(t.current);let d=c.relatedTarget;d instanceof HTMLElement&&d.dataset.headlessuiFocusGuard!==\"true\"&&(I(m,d)||(F.current?E(t.current,h(R.current,{[H.Forwards]:()=>T.Next,[H.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:c.target}):c.target instanceof HTMLElement&&p(c.target)))}},B=Y();return L.createElement(L.Fragment,null,v&&L.createElement(C,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:g,features:_.Focusable}),B({ourProps:k,theirProps:f,defaultTag:Z,name:\"FocusTrap\"}),v&&L.createElement(C,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:g,features:_.Focusable}))}let D=Q($),ye=Object.assign(D,{features:x});function w(o=!0){let e=M(b.slice());return y(([t],[r])=>{r===!0&&t===!1&&j(()=>{e.current.splice(0)}),r===!1&&t===!0&&(e.current=b.slice())},[o,b,e]),A(()=>{var t;return(t=e.current.find(r=>r!=null&&r.isConnected))!=null?t:null})}function ee(o,{ownerDocument:e}){let t=!!(o&8),r=w(t);y(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&p(r())},[t]),V(()=>{t&&p(r())})}function te(o,{ownerDocument:e,container:t,initialFocus:r,initialFocusFallback:s}){let a=M(null),n=O(!!(o&1),\"focus-trap#initial-focus\"),u=P();return y(()=>{if(o===0)return;if(!n){s!=null&&s.current&&p(s.current);return}let f=t.current;f&&j(()=>{if(!u.current)return;let l=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(f.contains(l)){a.current=l;return}if(r!=null&&r.current)p(r.current);else{if(o&16){if(E(f,T.First|T.AutoFocus)!==S.Error)return}else if(E(f,T.First)!==S.Error)return;if(s!=null&&s.current&&(p(s.current),(e==null?void 0:e.activeElement)===s.current))return;console.warn(\"There are no focusable elements inside the <FocusTrap />\")}a.current=e==null?void 0:e.activeElement})},[s,n,o]),a}function re(o,{ownerDocument:e,container:t,containers:r,previousActiveElement:s}){let a=P(),n=!!(o&4);K(e==null?void 0:e.defaultView,\"focus\",u=>{if(!n||!a.current)return;let f=U(r);t.current instanceof HTMLElement&&f.add(t.current);let l=s.current;if(!l)return;let i=u.target;i&&i instanceof HTMLElement?I(f,i)?(s.current=i,p(i)):(u.preventDefault(),u.stopPropagation(),p(l)):p(s.current)},!0)}function I(o,e){for(let t of o)if(t.contains(e))return!0;return!1}export{ye as FocusTrap,x as FocusTrapFeatures};\n", "import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n", "import{useRef as o}from\"react\";import{useWindowEvent as t}from'./use-window-event.js';var a=(r=>(r[r.Forwards=0]=\"Forwards\",r[r.Backwards=1]=\"Backwards\",r))(a||{});function u(){let e=o(0);return t(!0,\"keydown\",r=>{r.key===\"Tab\"&&(e.current=r.shiftKey?1:0)},!0),e}export{a as Direction,u as useTabDirection};\n", "\"use client\";import c,{Fragment as O,createContext as ne,useContext as q,useEffect as ge,useMemo as ie,useRef as b,useState as V}from\"react\";import{useDisposables as ve}from'../../hooks/use-disposables.js';import{useEvent as E}from'../../hooks/use-event.js';import{useIsMounted as be}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as D}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ee}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as re}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as oe}from'../../hooks/use-sync-refs.js';import{transitionDataAttributes as Se,useTransition as Re}from'../../hooks/use-transition.js';import{OpenClosedProvider as ye,State as x,useOpenClosed as se}from'../../internal/open-closed.js';import{classNames as Pe}from'../../utils/class-names.js';import{match as le}from'../../utils/match.js';import{RenderFeatures as xe,RenderStrategy as P,compact as Ne,forwardRefWithAs as J,useRender as ae}from'../../utils/render.js';function ue(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:de)!==O||c.Children.count(e.children)===1}let w=ne(null);w.displayName=\"TransitionContext\";var _e=(n=>(n.Visible=\"visible\",n.Hidden=\"hidden\",n))(_e||{});function De(){let e=q(w);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}function He(){let e=q(M);if(e===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return e}let M=ne(null);M.displayName=\"NestingContext\";function U(e){return\"children\"in e?U(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t===\"visible\").length>0}function Te(e,t){let n=Ee(e),l=b([]),S=be(),R=ve(),d=E((o,i=P.Hidden)=>{let a=l.current.findIndex(({el:s})=>s===o);a!==-1&&(le(i,{[P.Unmount](){l.current.splice(a,1)},[P.Hidden](){l.current[a].state=\"hidden\"}}),R.microTask(()=>{var s;!U(l)&&S.current&&((s=n.current)==null||s.call(n))}))}),y=E(o=>{let i=l.current.find(({el:a})=>a===o);return i?i.state!==\"visible\"&&(i.state=\"visible\"):l.current.push({el:o,state:\"visible\"}),()=>d(o,P.Unmount)}),C=b([]),p=b(Promise.resolve()),h=b({enter:[],leave:[]}),g=E((o,i,a)=>{C.current.splice(0),t&&(t.chains.current[i]=t.chains.current[i].filter(([s])=>s!==o)),t==null||t.chains.current[i].push([o,new Promise(s=>{C.current.push(s)})]),t==null||t.chains.current[i].push([o,new Promise(s=>{Promise.all(h.current[i].map(([r,f])=>f)).then(()=>s())})]),i===\"enter\"?p.current=p.current.then(()=>t==null?void 0:t.wait.current).then(()=>a(i)):a(i)}),v=E((o,i,a)=>{Promise.all(h.current[i].splice(0).map(([s,r])=>r)).then(()=>{var s;(s=C.current.shift())==null||s()}).then(()=>a(i))});return ie(()=>({children:l,register:y,unregister:d,onStart:g,onStop:v,wait:p,chains:h}),[y,d,l,g,v,h,p])}let de=O,fe=xe.RenderStrategy;function Ae(e,t){var ee,te;let{transition:n=!0,beforeEnter:l,afterEnter:S,beforeLeave:R,afterLeave:d,enter:y,enterFrom:C,enterTo:p,entered:h,leave:g,leaveFrom:v,leaveTo:o,...i}=e,[a,s]=V(null),r=b(null),f=ue(e),j=oe(...f?[r,t,s]:t===null?[]:[t]),H=(ee=i.unmount)==null||ee?P.Unmount:P.Hidden,{show:u,appear:z,initial:K}=De(),[m,G]=V(u?\"visible\":\"hidden\"),Q=He(),{register:A,unregister:I}=Q;D(()=>A(r),[A,r]),D(()=>{if(H===P.Hidden&&r.current){if(u&&m!==\"visible\"){G(\"visible\");return}return le(m,{[\"hidden\"]:()=>I(r),[\"visible\"]:()=>A(r)})}},[m,r,A,I,u,H]);let B=re();D(()=>{if(f&&B&&m===\"visible\"&&r.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[r,m,B,f]);let ce=K&&!z,Y=z&&u&&K,W=b(!1),L=Te(()=>{W.current||(G(\"hidden\"),I(r))},Q),Z=E(k=>{W.current=!0;let F=k?\"enter\":\"leave\";L.onStart(r,F,_=>{_===\"enter\"?l==null||l():_===\"leave\"&&(R==null||R())})}),$=E(k=>{let F=k?\"enter\":\"leave\";W.current=!1,L.onStop(r,F,_=>{_===\"enter\"?S==null||S():_===\"leave\"&&(d==null||d())}),F===\"leave\"&&!U(L)&&(G(\"hidden\"),I(r))});ge(()=>{f&&n||(Z(u),$(u))},[u,f,n]);let pe=(()=>!(!n||!f||!B||ce))(),[,T]=Re(pe,a,u,{start:Z,end:$}),Ce=Ne({ref:j,className:((te=Pe(i.className,Y&&y,Y&&C,T.enter&&y,T.enter&&T.closed&&C,T.enter&&!T.closed&&p,T.leave&&g,T.leave&&!T.closed&&v,T.leave&&T.closed&&o,!T.transition&&u&&h))==null?void 0:te.trim())||void 0,...Se(T)}),N=0;m===\"visible\"&&(N|=x.Open),m===\"hidden\"&&(N|=x.Closed),u&&m===\"hidden\"&&(N|=x.Opening),!u&&m===\"visible\"&&(N|=x.Closing);let he=ae();return c.createElement(M.Provider,{value:L},c.createElement(ye,{value:N},he({ourProps:Ce,theirProps:i,defaultTag:de,features:fe,visible:m===\"visible\",name:\"Transition.Child\"})))}function Ie(e,t){let{show:n,appear:l=!1,unmount:S=!0,...R}=e,d=b(null),y=ue(e),C=oe(...y?[d,t]:t===null?[]:[t]);re();let p=se();if(n===void 0&&p!==null&&(n=(p&x.Open)===x.Open),n===void 0)throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[h,g]=V(n?\"visible\":\"hidden\"),v=Te(()=>{n||g(\"hidden\")}),[o,i]=V(!0),a=b([n]);D(()=>{o!==!1&&a.current[a.current.length-1]!==n&&(a.current.push(n),i(!1))},[a,n]);let s=ie(()=>({show:n,appear:l,initial:o}),[n,l,o]);D(()=>{n?g(\"visible\"):!U(v)&&d.current!==null&&g(\"hidden\")},[n,v]);let r={unmount:S},f=E(()=>{var u;o&&i(!1),(u=e.beforeEnter)==null||u.call(e)}),j=E(()=>{var u;o&&i(!1),(u=e.beforeLeave)==null||u.call(e)}),H=ae();return c.createElement(M.Provider,{value:v},c.createElement(w.Provider,{value:s},H({ourProps:{...r,as:O,children:c.createElement(me,{ref:C,...r,...R,beforeEnter:f,beforeLeave:j})},theirProps:{},defaultTag:O,features:fe,visible:h===\"visible\",name:\"Transition\"})))}function Le(e,t){let n=q(w)!==null,l=se()!==null;return c.createElement(c.Fragment,null,!n&&l?c.createElement(X,{ref:t,...e}):c.createElement(me,{ref:t,...e}))}let X=J(Ie),me=J(Ae),Fe=J(Le),ze=Object.assign(X,{Child:Fe,Root:X});export{ze as Transition,Fe as TransitionChild};\n", "\"use client\";import{useFocusRing as q}from\"@react-aria/focus\";import{useHover as z}from\"@react-aria/interactions\";import y,{Fragment as w,createContext as I,useContext as x,useEffect as G,useMemo as C,useReducer as Q,useRef as K,useState as Y}from\"react\";import{useActivePress as Z}from'../../hooks/use-active-press.js';import{useEvent as P}from'../../hooks/use-event.js';import{useId as W}from'../../hooks/use-id.js';import{useResolveButtonType as ee}from'../../hooks/use-resolve-button-type.js';import{optionalRef as te,useSyncRefs as L}from'../../hooks/use-sync-refs.js';import{transitionDataAttributes as ne,useTransition as oe}from'../../hooks/use-transition.js';import{CloseProvider as le}from'../../internal/close-provider.js';import{OpenClosedProvider as re,ResetOpenClosedProvider as se,State as R,useOpenClosed as ue}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as ie}from'../../utils/bugs.js';import{match as B}from'../../utils/match.js';import{getOwnerDocument as ae}from'../../utils/owner.js';import{RenderFeatures as j,forwardRefWithAs as v,mergeProps as $,useRender as O}from'../../utils/render.js';import{startTransition as pe}from'../../utils/start-transition.js';import{Keys as A}from'../keyboard.js';var ce=(l=>(l[l.Open=0]=\"Open\",l[l.Closed=1]=\"Closed\",l))(ce||{}),de=(n=>(n[n.ToggleDisclosure=0]=\"ToggleDisclosure\",n[n.CloseDisclosure=1]=\"CloseDisclosure\",n[n.SetButtonId=2]=\"SetButtonId\",n[n.SetPanelId=3]=\"SetPanelId\",n[n.SetButtonElement=4]=\"SetButtonElement\",n[n.SetPanelElement=5]=\"SetPanelElement\",n))(de||{});let Te={[0]:e=>({...e,disclosureState:B(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[2](e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},[3](e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},[4](e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},[5](e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},_=I(null);_.displayName=\"DisclosureContext\";function M(e){let t=x(_);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,M),l}return t}let F=I(null);F.displayName=\"DisclosureAPIContext\";function J(e){let t=x(F);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,J),l}return t}let H=I(null);H.displayName=\"DisclosurePanelContext\";function fe(){return x(H)}function me(e,t){return B(t.type,Te,e,t)}let De=w;function ye(e,t){let{defaultOpen:l=!1,...p}=e,i=K(null),c=L(t,te(a=>{i.current=a},e.as===void 0||e.as===w)),n=Q(me,{disclosureState:l?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:o,buttonId:r},m]=n,s=P(a=>{m({type:1});let d=ae(i);if(!d||!r)return;let T=(()=>a?a instanceof HTMLElement?a:a.current instanceof HTMLElement?a.current:d.getElementById(r):d.getElementById(r))();T==null||T.focus()}),E=C(()=>({close:s}),[s]),f=C(()=>({open:o===0,close:s}),[o,s]),D={ref:c},S=O();return y.createElement(_.Provider,{value:n},y.createElement(F.Provider,{value:E},y.createElement(le,{value:s},y.createElement(re,{value:B(o,{[0]:R.Open,[1]:R.Closed})},S({ourProps:D,theirProps:p,slot:f,defaultTag:De,name:\"Disclosure\"})))))}let Pe=\"button\";function Ee(e,t){let l=W(),{id:p=`headlessui-disclosure-button-${l}`,disabled:i=!1,autoFocus:c=!1,...n}=e,[o,r]=M(\"Disclosure.Button\"),m=fe(),s=m===null?!1:m===o.panelId,E=K(null),f=L(E,t,P(u=>{if(!s)return r({type:4,element:u})}));G(()=>{if(!s)return r({type:2,buttonId:p}),()=>{r({type:2,buttonId:null})}},[p,r,s]);let D=P(u=>{var g;if(s){if(o.disclosureState===1)return;switch(u.key){case A.Space:case A.Enter:u.preventDefault(),u.stopPropagation(),r({type:0}),(g=o.buttonElement)==null||g.focus();break}}else switch(u.key){case A.Space:case A.Enter:u.preventDefault(),u.stopPropagation(),r({type:0});break}}),S=P(u=>{switch(u.key){case A.Space:u.preventDefault();break}}),a=P(u=>{var g;ie(u.currentTarget)||i||(s?(r({type:0}),(g=o.buttonElement)==null||g.focus()):r({type:0}))}),{isFocusVisible:d,focusProps:T}=q({autoFocus:c}),{isHovered:b,hoverProps:h}=z({isDisabled:i}),{pressed:U,pressProps:N}=Z({disabled:i}),X=C(()=>({open:o.disclosureState===0,hover:b,active:U,disabled:i,focus:d,autofocus:c}),[o,b,U,d,i,c]),k=ee(e,o.buttonElement),V=s?$({ref:f,type:k,disabled:i||void 0,autoFocus:c,onKeyDown:D,onClick:a},T,h,N):$({ref:f,id:p,type:k,\"aria-expanded\":o.disclosureState===0,\"aria-controls\":o.panelElement?o.panelId:void 0,disabled:i||void 0,autoFocus:c,onKeyDown:D,onKeyUp:S,onClick:a},T,h,N);return O()({ourProps:V,theirProps:n,slot:X,defaultTag:Pe,name:\"Disclosure.Button\"})}let Se=\"div\",ge=j.RenderStrategy|j.Static;function Ae(e,t){let l=W(),{id:p=`headlessui-disclosure-panel-${l}`,transition:i=!1,...c}=e,[n,o]=M(\"Disclosure.Panel\"),{close:r}=J(\"Disclosure.Panel\"),[m,s]=Y(null),E=L(t,P(b=>{pe(()=>o({type:5,element:b}))}),s);G(()=>(o({type:3,panelId:p}),()=>{o({type:3,panelId:null})}),[p,o]);let f=ue(),[D,S]=oe(i,m,f!==null?(f&R.Open)===R.Open:n.disclosureState===0),a=C(()=>({open:n.disclosureState===0,close:r}),[n.disclosureState,r]),d={ref:E,id:p,...ne(S)},T=O();return y.createElement(se,null,y.createElement(H.Provider,{value:n.panelId},T({ourProps:d,theirProps:c,slot:a,defaultTag:Se,features:ge,visible:D,name:\"Disclosure.Panel\"})))}let be=v(ye),Ce=v(Ee),Re=v(Ae),je=Object.assign(be,{Button:Ce,Panel:Re});export{je as Disclosure,Ce as DisclosureButton,Re as DisclosurePanel};\n", "var t;import r from\"react\";let a=(t=r.startTransition)!=null?t:function(i){i()};export{a as startTransition};\n", "\"use client\";import r,{useMemo as f}from\"react\";import{useId as P}from'../../hooks/use-id.js';import{DisabledProvider as y,useDisabled as u}from'../../internal/disabled.js';import{FormFieldsProvider as D}from'../../internal/form-fields.js';import{IdProvider as v}from'../../internal/id.js';import{forwardRefWithAs as b,useRender as E}from'../../utils/render.js';import{useDescriptions as A}from'../description/description.js';import{useLabels as L}from'../label/label.js';let _=\"div\";function c(d,l){let t=`headlessui-control-${P()}`,[s,p]=L(),[n,a]=A(),m=u(),{disabled:e=m||!1,...i}=d,o=f(()=>({disabled:e}),[e]),F={ref:l,disabled:e||void 0,\"aria-disabled\":e||void 0},T=E();return r.createElement(y,{value:e},r.createElement(p,{value:s},r.createElement(a,{value:n},r.createElement(v,{id:t},T({ourProps:F,theirProps:{...i,children:r.createElement(D,null,typeof i.children==\"function\"?i.children(o):i.children)},slot:o,defaultTag:_,name:\"Field\"})))))}let H=b(c);export{H as Field};\n", "\"use client\";import o,{useMemo as b}from\"react\";import{useResolvedTag as E}from'../../hooks/use-resolved-tag.js';import{useSyncRefs as P}from'../../hooks/use-sync-refs.js';import{DisabledProvider as u,useDisabled as g}from'../../internal/disabled.js';import{forwardRefWithAs as D,useRender as A}from'../../utils/render.js';import{useLabels as L}from'../label/label.js';let d=\"fieldset\";function _(t,a){var s;let i=g(),{disabled:e=i||!1,...p}=t,[n,T]=E((s=t.as)!=null?s:d),l=P(a,T),[r,f]=L(),m=b(()=>({disabled:e}),[e]),y=n===\"fieldset\"?{ref:l,\"aria-labelledby\":r,disabled:e||void 0}:{ref:l,role:\"group\",\"aria-labelledby\":r,\"aria-disabled\":e||void 0},F=A();return o.createElement(u,{value:e},o.createElement(f,null,F({ourProps:y,theirProps:p,slot:m,defaultTag:d,name:\"Fieldset\"})))}let G=D(_);export{G as Fieldset};\n", "import{useCallback as a,useState as r}from\"react\";function l(t){let e=typeof t==\"string\"?t:void 0,[s,o]=r(e);return[e!=null?e:s,a(n=>{e||n instanceof HTMLElement&&o(n.tagName.toLowerCase())},[e])]}export{l as useResolvedTag};\n", "\"use client\";import{useFocusRing as P}from\"@react-aria/focus\";import{useHover as c}from\"@react-aria/interactions\";import{useMemo as g}from\"react\";import{useId as v}from'../../hooks/use-id.js';import{useDisabled as A}from'../../internal/disabled.js';import{useProvidedId as _}from'../../internal/id.js';import{forwardRefWithAs as R,mergeProps as D,useRender as E}from'../../utils/render.js';import{useDescribedBy as F}from'../description/description.js';import{useLabelledBy as U}from'../label/label.js';let x=\"input\";function h(p,s){let a=v(),l=_(),i=A(),{id:d=l||`headlessui-input-${a}`,disabled:e=i||!1,autoFocus:o=!1,invalid:t=!1,...u}=p,f=U(),m=F(),{isFocused:r,focusProps:T}=P({autoFocus:o}),{isHovered:n,hoverProps:b}=c({isDisabled:e}),y=D({ref:s,id:d,\"aria-labelledby\":f,\"aria-describedby\":m,\"aria-invalid\":t?\"true\":void 0,disabled:e||void 0,autoFocus:o},T,b),I=g(()=>({disabled:e,invalid:t,hover:n,focus:r,autofocus:o}),[e,t,n,r,o]);return E()({ourProps:y,theirProps:u,slot:I,defaultTag:x,name:\"Input\"})}let S=R(h);export{S as Input};\n", "\"use client\";import p from\"react\";import{forwardRefWithAs as r}from'../../utils/render.js';import{Label as e}from'../label/label.js';let a=e;function o(t,n){return p.createElement(e,{as:\"div\",ref:n,...t})}let d=r(o);export{d as Legend};\n", "\"use client\";import{useFocusRing as ve}from\"@react-aria/focus\";import{useHover as he}from\"@react-aria/interactions\";import F,{Fragment as pe,createContext as ue,useCallback as re,useContext as de,useEffect as De,useMemo as H,useRef as le,useState as Se}from\"react\";import{flushSync as G}from\"react-dom\";import{useActivePress as Ae}from'../../hooks/use-active-press.js';import{useByComparator as _e}from'../../hooks/use-by-comparator.js';import{useControllable as Re}from'../../hooks/use-controllable.js';import{useDefaultValue as Fe}from'../../hooks/use-default-value.js';import{useDidElementMove as Ce}from'../../hooks/use-did-element-move.js';import{useDisposables as Me}from'../../hooks/use-disposables.js';import{useElementSize as we}from'../../hooks/use-element-size.js';import{useEvent as C}from'../../hooks/use-event.js';import{useId as ae}from'../../hooks/use-id.js';import{useInertOthers as Be}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as ie}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ie}from'../../hooks/use-latest-value.js';import{useOnDisappear as Ue}from'../../hooks/use-on-disappear.js';import{useOutsideClick as ke}from'../../hooks/use-outside-click.js';import{useOwnerDocument as ce}from'../../hooks/use-owner.js';import{useResolveButtonType as Ne}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as He}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as j}from'../../hooks/use-sync-refs.js';import{useTextValue as Ge}from'../../hooks/use-text-value.js';import{useTrackedPointer as Ve}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Ke,useTransition as ze}from'../../hooks/use-transition.js';import{useDisabled as We}from'../../internal/disabled.js';import{FloatingProvider as Xe,useFloatingPanel as je,useFloatingPanelProps as Je,useFloatingReference as $e,useFloatingReferenceProps as qe,useResolvedAnchor as Qe}from'../../internal/floating.js';import{FormFields as Ye}from'../../internal/form-fields.js';import{useFrozenData as Ze}from'../../internal/frozen.js';import{useProvidedId as et}from'../../internal/id.js';import{OpenClosedProvider as tt,State as Q,useOpenClosed as ot}from'../../internal/open-closed.js';import{useSlice as M}from'../../react-glue.js';import{isDisabledReactIssue7711 as nt}from'../../utils/bugs.js';import{Focus as w}from'../../utils/calculate-active-index.js';import{disposables as rt}from'../../utils/disposables.js';import{Focus as fe,FocusableMode as lt,focusFrom as at,isFocusableElement as it}from'../../utils/focus-management.js';import{attemptSubmit as st}from'../../utils/form.js';import{match as Y}from'../../utils/match.js';import{getOwnerDocument as pt}from'../../utils/owner.js';import{RenderFeatures as Te,forwardRefWithAs as J,mergeProps as be,useRender as $}from'../../utils/render.js';import{useDescribedBy as ut}from'../description/description.js';import{Keys as c}from'../keyboard.js';import{Label as dt,useLabelledBy as ct,useLabels as ft}from'../label/label.js';import{Portal as Tt}from'../portal/portal.js';import{ActionTypes as bt,ActivationTrigger as me,ListboxStates as f,ValueMode as N}from'./listbox-machine.js';import{ListboxContext as mt,useListboxMachine as yt,useListboxMachineContext as se}from'./listbox-machine-glue.js';let Z=ue(null);Z.displayName=\"ListboxDataContext\";function q(x){let P=de(Z);if(P===null){let g=new Error(`<${x} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,q),g}return P}let xt=pe;function Ot(x,P){let g=We(),{value:p,defaultValue:l,form:i,name:E,onChange:s,by:T,invalid:t=!1,disabled:u=g||!1,horizontal:S=!1,multiple:a=!1,__demoMode:o=!1,...d}=x;const O=S?\"horizontal\":\"vertical\";let v=j(P),A=Fe(l),[b=a?[]:void 0,m]=Re(p,s,A),y=yt({__demoMode:o}),h=le({static:!1,hold:!1}),B=le(new Map),I=_e(T),U=re(R=>Y(k.mode,{[N.Multi]:()=>b.some(z=>I(z,R)),[N.Single]:()=>I(b,R)}),[b]),k=H(()=>({value:b,disabled:u,invalid:t,mode:a?N.Multi:N.Single,orientation:O,onChange:m,compare:I,isSelected:U,optionsPropsRef:h,listRef:B}),[b,u,t,a,O,m,I,U,h,B]);ie(()=>{y.state.dataRef.current=k},[k]);let n=M(y,R=>R.listboxState),_=n===f.Open,[L,W]=M(y,R=>[R.buttonElement,R.optionsElement]);ke(_,[L,W],(R,z)=>{y.send({type:bt.CloseListbox}),it(z,lt.Loose)||(R.preventDefault(),L==null||L.focus())});let V=H(()=>({open:n===f.Open,disabled:u,invalid:t,value:b}),[n,u,t,b]),[r,K]=ft({inherit:!0}),ee={ref:v},te=re(()=>{if(A!==void 0)return m==null?void 0:m(A)},[m,A]),oe=$();return F.createElement(K,{value:r,props:{htmlFor:L==null?void 0:L.id},slot:{open:n===f.Open,disabled:u}},F.createElement(Xe,null,F.createElement(mt.Provider,{value:y},F.createElement(Z.Provider,{value:k},F.createElement(tt,{value:Y(n,{[f.Open]:Q.Open,[f.Closed]:Q.Closed})},E!=null&&b!=null&&F.createElement(Ye,{disabled:u,data:{[E]:b},form:i,onReset:te}),oe({ourProps:ee,theirProps:d,slot:V,defaultTag:xt,name:\"Listbox\"}))))))}let Lt=\"button\";function Pt(x,P){let g=ae(),p=et(),l=q(\"Listbox.Button\"),i=se(\"Listbox.Button\"),{id:E=p||`headlessui-listbox-button-${g}`,disabled:s=l.disabled||!1,autoFocus:T=!1,...t}=x,u=j(P,$e(),i.actions.setButtonElement),S=qe(),a=C(r=>{switch(r.key){case c.Enter:st(r.currentTarget);break;case c.Space:case c.ArrowDown:r.preventDefault(),G(()=>i.actions.openListbox()),l.value||i.actions.goToOption({focus:w.First});break;case c.ArrowUp:r.preventDefault(),G(()=>i.actions.openListbox()),l.value||i.actions.goToOption({focus:w.Last});break}}),o=C(r=>{switch(r.key){case c.Space:r.preventDefault();break}}),d=C(r=>{var K;if(r.button===0){if(nt(r.currentTarget))return r.preventDefault();i.state.listboxState===f.Open?(G(()=>i.actions.closeListbox()),(K=i.state.buttonElement)==null||K.focus({preventScroll:!0})):(r.preventDefault(),i.actions.openListbox())}}),O=C(r=>r.preventDefault()),v=ct([E]),A=ut(),{isFocusVisible:b,focusProps:m}=ve({autoFocus:T}),{isHovered:y,hoverProps:h}=he({isDisabled:s}),{pressed:B,pressProps:I}=Ae({disabled:s}),U=M(i,r=>r.listboxState),k=H(()=>({open:U===f.Open,active:B||U===f.Open,disabled:s,invalid:l.invalid,value:l.value,hover:y,focus:b,autofocus:T}),[U,l.value,s,y,b,B,l.invalid,T]),n=M(i,r=>r.listboxState===f.Open),[_,L]=M(i,r=>[r.buttonElement,r.optionsElement]),W=be(S(),{ref:u,id:E,type:Ne(x,_),\"aria-haspopup\":\"listbox\",\"aria-controls\":L==null?void 0:L.id,\"aria-expanded\":n,\"aria-labelledby\":v,\"aria-describedby\":A,disabled:s||void 0,autoFocus:T,onKeyDown:a,onKeyUp:o,onKeyPress:O,onMouseDown:d},m,h,I);return $()({ourProps:W,theirProps:t,slot:k,defaultTag:Lt,name:\"Listbox.Button\"})}let ye=ue(!1),gt=\"div\",Et=Te.RenderStrategy|Te.Static;function vt(x,P){let g=ae(),{id:p=`headlessui-listbox-options-${g}`,anchor:l,portal:i=!1,modal:E=!0,transition:s=!1,...T}=x,t=Qe(l),[u,S]=Se(null);t&&(i=!0);let a=q(\"Listbox.Options\"),o=se(\"Listbox.Options\"),[d,O,v,A]=M(o,e=>[e.listboxState,e.buttonElement,e.optionsElement,e.__demoMode]),b=ce(O),m=ce(v),y=ot(),[h,B]=ze(s,u,y!==null?(y&Q.Open)===Q.Open:d===f.Open);Ue(h,O,o.actions.closeListbox);let I=A?!1:E&&d===f.Open;He(I,m);let U=A?!1:E&&d===f.Open;Be(U,{allowed:re(()=>[O,v],[O,v])});let k=d!==f.Open,_=Ce(k,O)?!1:h,L=h&&d===f.Closed,W=Ze(L,a.value),V=C(e=>a.compare(W,e)),r=M(o,e=>{var X;if(t==null||!((X=t==null?void 0:t.to)!=null&&X.includes(\"selection\")))return null;let D=e.options.findIndex(ne=>V(ne.dataRef.current.value));return D===-1&&(D=0),D}),K=(()=>{if(t==null)return;if(r===null)return{...t,inner:void 0};let e=Array.from(a.listRef.current.values());return{...t,inner:{listRef:{current:e},index:r}}})(),[ee,te]=je(K),oe=Je(),R=j(P,t?ee:null,o.actions.setOptionsElement,S),z=Me();De(()=>{var D;let e=v;e&&d===f.Open&&e!==((D=pt(e))==null?void 0:D.activeElement)&&(e==null||e.focus({preventScroll:!0}))},[d,v]);let xe=C(e=>{var D,X;switch(z.dispose(),e.key){case c.Space:if(o.state.searchQuery!==\"\")return e.preventDefault(),e.stopPropagation(),o.actions.search(e.key);case c.Enter:if(e.preventDefault(),e.stopPropagation(),o.state.activeOptionIndex!==null){let{dataRef:ne}=o.state.options[o.state.activeOptionIndex];o.actions.onChange(ne.current.value)}a.mode===N.Single&&(G(()=>o.actions.closeListbox()),(D=o.state.buttonElement)==null||D.focus({preventScroll:!0}));break;case Y(a.orientation,{vertical:c.ArrowDown,horizontal:c.ArrowRight}):return e.preventDefault(),e.stopPropagation(),o.actions.goToOption({focus:w.Next});case Y(a.orientation,{vertical:c.ArrowUp,horizontal:c.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),o.actions.goToOption({focus:w.Previous});case c.Home:case c.PageUp:return e.preventDefault(),e.stopPropagation(),o.actions.goToOption({focus:w.First});case c.End:case c.PageDown:return e.preventDefault(),e.stopPropagation(),o.actions.goToOption({focus:w.Last});case c.Escape:e.preventDefault(),e.stopPropagation(),G(()=>o.actions.closeListbox()),(X=o.state.buttonElement)==null||X.focus({preventScroll:!0});return;case c.Tab:e.preventDefault(),e.stopPropagation(),G(()=>o.actions.closeListbox()),at(o.state.buttonElement,e.shiftKey?fe.Previous:fe.Next);break;default:e.key.length===1&&(o.actions.search(e.key),z.setTimeout(()=>o.actions.clearSearch(),350));break}}),Oe=M(o,e=>{var D;return(D=e.buttonElement)==null?void 0:D.id}),Le=H(()=>({open:d===f.Open}),[d]),Pe=be(t?oe():{},{id:p,ref:R,\"aria-activedescendant\":M(o,o.selectors.activeDescendantId),\"aria-multiselectable\":a.mode===N.Multi?!0:void 0,\"aria-labelledby\":Oe,\"aria-orientation\":a.orientation,onKeyDown:xe,role:\"listbox\",tabIndex:d===f.Open?0:void 0,style:{...T.style,...te,\"--button-width\":we(O,!0).width},...Ke(B)}),ge=$(),Ee=H(()=>a.mode===N.Multi?a:{...a,isSelected:V},[a,V]);return F.createElement(Tt,{enabled:i?x.static||h:!1,ownerDocument:b},F.createElement(Z.Provider,{value:Ee},ge({ourProps:Pe,theirProps:T,slot:Le,defaultTag:gt,features:Et,visible:_,name:\"Listbox.Options\"})))}let ht=\"div\";function Dt(x,P){let g=ae(),{id:p=`headlessui-listbox-option-${g}`,disabled:l=!1,value:i,...E}=x,s=de(ye)===!0,T=q(\"Listbox.Option\"),t=se(\"Listbox.Option\"),u=M(t,n=>t.selectors.isActive(n,p)),S=T.isSelected(i),a=le(null),o=Ge(a),d=Ie({disabled:l,value:i,domRef:a,get textValue(){return o()}}),O=j(P,a,n=>{n?T.listRef.current.set(p,n):T.listRef.current.delete(p)}),v=M(t,n=>t.selectors.shouldScrollIntoView(n,p));ie(()=>{if(v)return rt().requestAnimationFrame(()=>{var n,_;(_=(n=a.current)==null?void 0:n.scrollIntoView)==null||_.call(n,{block:\"nearest\"})})},[v,a]),ie(()=>{if(!s)return t.actions.registerOption(p,d),()=>t.actions.unregisterOption(p)},[d,p,s]);let A=C(n=>{var _;if(l)return n.preventDefault();t.actions.onChange(i),T.mode===N.Single&&(G(()=>t.actions.closeListbox()),(_=t.state.buttonElement)==null||_.focus({preventScroll:!0}))}),b=C(()=>{if(l)return t.actions.goToOption({focus:w.Nothing});t.actions.goToOption({focus:w.Specific,id:p})}),m=Ve(),y=C(n=>{m.update(n),!l&&(u||t.actions.goToOption({focus:w.Specific,id:p},me.Pointer))}),h=C(n=>{m.wasMoved(n)&&(l||u||t.actions.goToOption({focus:w.Specific,id:p},me.Pointer))}),B=C(n=>{m.wasMoved(n)&&(l||u&&t.actions.goToOption({focus:w.Nothing}))}),I=H(()=>({active:u,focus:u,selected:S,disabled:l,selectedOption:S&&s}),[u,S,l,s]),U=s?{}:{id:p,ref:O,role:\"option\",tabIndex:l===!0?void 0:-1,\"aria-disabled\":l===!0?!0:void 0,\"aria-selected\":S,disabled:void 0,onClick:A,onFocus:b,onPointerEnter:y,onMouseEnter:y,onPointerMove:h,onMouseMove:h,onPointerLeave:B,onMouseLeave:B},k=$();return!S&&s?null:k({ourProps:U,theirProps:E,slot:I,defaultTag:ht,name:\"Listbox.Option\"})}let St=pe;function At(x,P){let{options:g,placeholder:p,...l}=x,E={ref:j(P)},s=q(\"ListboxSelectedOption\"),T=H(()=>({}),[]),t=s.value===void 0||s.value===null||s.mode===N.Multi&&Array.isArray(s.value)&&s.value.length===0,u=$();return F.createElement(ye.Provider,{value:!0},u({ourProps:E,theirProps:{...l,children:F.createElement(F.Fragment,null,p&&t?p:g)},slot:T,defaultTag:St,name:\"ListboxSelectedOption\"}))}let _t=J(Ot),Rt=J(Pt),Ft=dt,Ct=J(vt),Mt=J(Dt),wt=J(At),Ao=Object.assign(_t,{Button:Rt,Label:Ft,Options:Ct,Option:Mt,SelectedOption:wt});export{Ao as Listbox,Rt as ListboxButton,Ft as ListboxLabel,Mt as ListboxOption,Ct as ListboxOptions,wt as ListboxSelectedOption};\n", "import{useRef as i}from\"react\";import{useIsoMorphicEffect as u}from'./use-iso-morphic-effect.js';function s(n,t){let e=i({left:0,top:0});if(u(()=>{if(!t)return;let r=t.getBoundingClientRect();r&&(e.current=r)},[n,t]),t==null||!n||t===document.activeElement)return!1;let o=t.getBoundingClientRect();return o.top!==e.current.top||o.left!==e.current.left}export{s as useDidElementMove};\n", "import{useRef as l}from\"react\";import{getTextValue as i}from'../utils/get-text-value.js';import{useEvent as o}from'./use-event.js';function s(c){let t=l(\"\"),r=l(\"\");return o(()=>{let e=c.current;if(!e)return\"\";let u=e.innerText;if(t.current===u)return r.current;let n=i(e).trim().toLowerCase();return t.current=u,r.current=n,n})}export{s as useTextValue};\n", "let a=/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;function o(e){var r,i;let n=(r=e.innerText)!=null?r:\"\",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let f of t.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]'))f.remove(),u=!0;let l=u?(i=t.innerText)!=null?i:\"\":n;return a.test(l)&&(l=l.replace(a,\"\")),l}function g(e){let n=e.getAttribute(\"aria-label\");if(typeof n==\"string\")return n.trim();let t=e.getAttribute(\"aria-labelledby\");if(t){let u=t.split(\" \").map(l=>{let r=document.getElementById(l);if(r){let i=r.getAttribute(\"aria-label\");return typeof i==\"string\"?i.trim():o(r).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(\", \")}return o(e).trim()}export{g as getTextValue};\n", "var g=Object.defineProperty;var h=(e,i,t)=>i in e?g(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var O=(e,i,t)=>(h(e,typeof i!=\"symbol\"?i+\"\":i,t),t);import{Machine as y,batch as v}from'../../machine.js';import{Focus as f,calculateActiveIndex as b}from'../../utils/calculate-active-index.js';import{sortByDomNode as I}from'../../utils/focus-management.js';import{match as S}from'../../utils/match.js';var R=(t=>(t[t.Open=0]=\"Open\",t[t.Closed=1]=\"Closed\",t))(R||{}),A=(t=>(t[t.Single=0]=\"Single\",t[t.Multi=1]=\"Multi\",t))(A||{}),E=(t=>(t[t.Pointer=0]=\"Pointer\",t[t.Other=1]=\"Other\",t))(E||{}),L=(r=>(r[r.OpenListbox=0]=\"OpenListbox\",r[r.CloseListbox=1]=\"CloseListbox\",r[r.GoToOption=2]=\"GoToOption\",r[r.Search=3]=\"Search\",r[r.ClearSearch=4]=\"ClearSearch\",r[r.RegisterOptions=5]=\"RegisterOptions\",r[r.UnregisterOptions=6]=\"UnregisterOptions\",r[r.SetButtonElement=7]=\"SetButtonElement\",r[r.SetOptionsElement=8]=\"SetOptionsElement\",r[r.SortOptions=9]=\"SortOptions\",r))(L||{});function m(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=I(i(e.options.slice()),l=>l.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let M={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let i=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,n=e.options.findIndex(o=>t(o.dataRef.current.value));return n!==-1&&(i=n),{...e,listboxState:0,activeOptionIndex:i,__demoMode:!1}},[2](e,i){var l,s,u,d,c;if(e.dataRef.current.disabled||e.listboxState===1)return e;let t={...e,searchQuery:\"\",activationTrigger:(l=i.trigger)!=null?l:1,__demoMode:!1};if(i.focus===f.Nothing)return{...t,activeOptionIndex:null};if(i.focus===f.Specific)return{...t,activeOptionIndex:e.options.findIndex(r=>r.id===i.id)};if(i.focus===f.Previous){let r=e.activeOptionIndex;if(r!==null){let x=e.options[r].dataRef.current.domRef,a=b(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(a!==null){let p=e.options[a].dataRef.current.domRef;if(((s=x.current)==null?void 0:s.previousElementSibling)===p.current||((u=p.current)==null?void 0:u.previousElementSibling)===null)return{...t,activeOptionIndex:a}}}}else if(i.focus===f.Next){let r=e.activeOptionIndex;if(r!==null){let x=e.options[r].dataRef.current.domRef,a=b(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(a!==null){let p=e.options[a].dataRef.current.domRef;if(((d=x.current)==null?void 0:d.nextElementSibling)===p.current||((c=p.current)==null?void 0:c.nextElementSibling)===null)return{...t,activeOptionIndex:a}}}}let n=m(e),o=b(i,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled});return{...t,...n,activeOptionIndex:o}},[3]:(e,i)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==\"\"?0:1,o=e.searchQuery+i.value.toLowerCase(),s=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(d=>{var c;return!d.dataRef.current.disabled&&((c=d.dataRef.current.textValue)==null?void 0:c.startsWith(o))}),u=s?e.options.indexOf(s):-1;return u===-1||u===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:u,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===\"\"?e:{...e,searchQuery:\"\"}},[5]:(e,i)=>{let t=e.options.concat(i.options),n=e.activeOptionIndex;if(e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let l=t.findIndex(s=>o==null?void 0:o(s.dataRef.current.value));l!==-1&&(n=l)}}return{...e,options:t,activeOptionIndex:n,pendingShouldSort:!0}},[6]:(e,i)=>{let t=e.options,n=[],o=new Set(i.options);for(let[l,s]of t.entries())if(o.has(s.id)&&(n.push(l),o.delete(s.id),o.size===0))break;if(n.length>0){t=t.slice();for(let l of n.reverse())t.splice(l,1)}return{...e,options:t,activationTrigger:1}},[7]:(e,i)=>e.buttonElement===i.element?e:{...e,buttonElement:i.element},[8]:(e,i)=>e.optionsElement===i.element?e:{...e,optionsElement:i.element},[9]:e=>e.pendingShouldSort?{...e,...m(e),pendingShouldSort:!1}:e};class T extends y{constructor(t){super(t);O(this,\"actions\",{onChange:t=>{let{onChange:n,compare:o,mode:l,value:s}=this.state.dataRef.current;return S(l,{[0]:()=>n==null?void 0:n(t),[1]:()=>{let u=s.slice(),d=u.findIndex(c=>o(c,t));return d===-1?u.push(t):u.splice(d,1),n==null?void 0:n(u)}})},registerOption:v(()=>{let t=[],n=new Set;return[(o,l)=>{n.has(l)||(n.add(l),t.push({id:o,dataRef:l}))},()=>(n.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:v(()=>{let t=[];return[n=>t.push(n),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:v(()=>{let t=null;return[(n,o)=>{t={type:2,...n,trigger:o}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:()=>{this.send({type:0})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:n}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:f.Specific,id:n})}},selectOption:t=>{let n=this.state.options.find(o=>o.id===t);n&&this.actions.onChange(n.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}});O(this,\"selectors\",{activeDescendantId(t){var l;let n=t.activeOptionIndex,o=t.options;return n===null||(l=o[n])==null?void 0:l.id},isActive(t,n){var s;let o=t.activeOptionIndex,l=t.options;return o!==null?((s=l[o])==null?void 0:s.id)===n:!1},shouldScrollIntoView(t,n){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,n)}});this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new T({dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:\"\",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,__demoMode:t})}reduce(t,n){return S(n.type,M,t,n)}}export{L as ActionTypes,E as ActivationTrigger,T as ListboxMachine,R as ListboxStates,A as ValueMode};\n", "import{createContext as o,useContext as r,useMemo as i}from\"react\";import{ListboxMachine as s}from'./listbox-machine.js';const c=o(null);function l(t){let e=r(c);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,a),n}return e}function a({__demoMode:t=!1}={}){return i(()=>s.new({__demoMode:t}),[])}export{c as ListboxContext,a as useListboxMachine,l as useListboxMachineContext};\n", "\"use client\";import{useFocusRing as me}from\"@react-aria/focus\";import{useHover as Te}from\"@react-aria/interactions\";import h,{Fragment as Y,useCallback as fe,useEffect as ce,useMemo as B,useRef as V,useState as ye}from\"react\";import{flushSync as X}from\"react-dom\";import{useActivePress as Ee}from'../../hooks/use-active-press.js';import{useDidElementMove as Pe}from'../../hooks/use-did-element-move.js';import{useDisposables as ge}from'../../hooks/use-disposables.js';import{useElementSize as Me}from'../../hooks/use-element-size.js';import{useEvent as y}from'../../hooks/use-event.js';import{useId as w}from'../../hooks/use-id.js';import{useInertOthers as be}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as k}from'../../hooks/use-iso-morphic-effect.js';import{useOnDisappear as Ae}from'../../hooks/use-on-disappear.js';import{useOutsideClick as _e}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Z}from'../../hooks/use-owner.js';import{useResolveButtonType as Ie}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as Se}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as K}from'../../hooks/use-sync-refs.js';import{useTextValue as De}from'../../hooks/use-text-value.js';import{useTrackedPointer as Re}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Fe,useTransition as xe}from'../../hooks/use-transition.js';import{useTreeWalker as he}from'../../hooks/use-tree-walker.js';import{FloatingProvider as Ce,useFloatingPanel as ve,useFloatingPanelProps as Le,useFloatingReference as Oe,useFloatingReferenceProps as He,useResolvedAnchor as Ue}from'../../internal/floating.js';import{OpenClosedProvider as Ge,State as W,useOpenClosed as Ne}from'../../internal/open-closed.js';import{useSlice as D}from'../../react-glue.js';import{isDisabledReactIssue7711 as Be}from'../../utils/bugs.js';import{Focus as b}from'../../utils/calculate-active-index.js';import{disposables as we}from'../../utils/disposables.js';import{Focus as ee,FocusableMode as ke,focusFrom as Ke,isFocusableElement as We,restoreFocusIfNecessary as te}from'../../utils/focus-management.js';import{match as Je}from'../../utils/match.js';import{RenderFeatures as oe,forwardRefWithAs as C,mergeProps as ne,useRender as v}from'../../utils/render.js';import{useDescriptions as Ve}from'../description/description.js';import{Keys as d}from'../keyboard.js';import{useLabelContext as Xe,useLabels as re}from'../label/label.js';import{Portal as $e}from'../portal/portal.js';import{ActionTypes as r,ActivationTrigger as $,MenuState as m}from'./menu-machine.js';import{MenuContext as je,useMenuMachine as qe,useMenuMachineContext as j}from'./menu-machine-glue.js';let ze=Y;function Qe(T,E){let{__demoMode:i=!1,...a}=T,n=qe({__demoMode:i}),[s,o,P]=D(n,p=>[p.menuState,p.itemsElement,p.buttonElement]),c=K(E),_=s===m.Open;_e(_,[P,o],(p,F)=>{var A;n.send({type:r.CloseMenu}),We(F,ke.Loose)||(p.preventDefault(),(A=n.state.buttonElement)==null||A.focus())});let t=y(()=>{n.send({type:r.CloseMenu})}),R=B(()=>({open:s===m.Open,close:t}),[s,t]),I={ref:c},g=v();return h.createElement(Ce,null,h.createElement(je.Provider,{value:n},h.createElement(Ge,{value:Je(s,{[m.Open]:W.Open,[m.Closed]:W.Closed})},g({ourProps:I,theirProps:a,slot:R,defaultTag:ze,name:\"Menu\"}))))}let Ye=\"button\";function Ze(T,E){let i=j(\"Menu.Button\"),a=w(),{id:n=`headlessui-menu-button-${a}`,disabled:s=!1,autoFocus:o=!1,...P}=T,c=V(null),_=He(),t=K(E,c,Oe(),y(l=>i.send({type:r.SetButtonElement,element:l}))),R=y(l=>{switch(l.key){case d.Space:case d.Enter:case d.ArrowDown:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.First}});break;case d.ArrowUp:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.Last}});break}}),I=y(l=>{switch(l.key){case d.Space:l.preventDefault();break}}),[g,p]=D(i,l=>[l.menuState,l.itemsElement]),F=y(l=>{var H;if(l.button===0){if(Be(l.currentTarget))return l.preventDefault();s||(g===m.Open?(X(()=>i.send({type:r.CloseMenu})),(H=c.current)==null||H.focus({preventScroll:!0})):(l.preventDefault(),i.send({type:r.OpenMenu,focus:{focus:b.Nothing},trigger:$.Pointer})))}}),{isFocusVisible:A,focusProps:f}=me({autoFocus:o}),{isHovered:M,hoverProps:L}=Te({isDisabled:s}),{pressed:S,pressProps:O}=Ee({disabled:s}),x=B(()=>({open:g===m.Open,active:S||g===m.Open,disabled:s,hover:M,focus:A,autofocus:o}),[g,M,A,S,s,o]),U=ne(_(),{ref:t,id:n,type:Ie(T,c.current),\"aria-haspopup\":\"menu\",\"aria-controls\":p==null?void 0:p.id,\"aria-expanded\":g===m.Open,disabled:s||void 0,autoFocus:o,onKeyDown:R,onKeyUp:I,onMouseDown:F},f,L,O);return v()({ourProps:U,theirProps:P,slot:x,defaultTag:Ye,name:\"Menu.Button\"})}let et=\"div\",tt=oe.RenderStrategy|oe.Static;function ot(T,E){let i=w(),{id:a=`headlessui-menu-items-${i}`,anchor:n,portal:s=!1,modal:o=!0,transition:P=!1,...c}=T,_=Ue(n),t=j(\"Menu.Items\"),[R,I]=ve(_),g=Le(),[p,F]=ye(null),A=K(E,_?R:null,y(e=>t.send({type:r.SetItemsElement,element:e})),F),[f,M]=D(t,e=>[e.menuState,e.buttonElement]),L=Z(M),S=Z(p);_&&(s=!0);let O=Ne(),[x,U]=xe(P,p,O!==null?(O&W.Open)===W.Open:f===m.Open);Ae(x,M,()=>{t.send({type:r.CloseMenu})});let G=D(t,e=>e.__demoMode),l=G?!1:o&&f===m.Open;Se(l,S);let H=G?!1:o&&f===m.Open;be(H,{allowed:fe(()=>[M,p],[M,p])});let u=f!==m.Open,ae=Pe(u,M)?!1:x;ce(()=>{let e=p;e&&f===m.Open&&e!==(S==null?void 0:S.activeElement)&&e.focus({preventScroll:!0})},[f,p,S]),he(f===m.Open,{container:p,accept(e){return e.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:e.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute(\"role\",\"none\")}});let q=ge(),se=y(e=>{var N,z,Q;switch(q.dispose(),e.key){case d.Space:if(t.state.searchQuery!==\"\")return e.preventDefault(),e.stopPropagation(),t.send({type:r.Search,value:e.key});case d.Enter:if(e.preventDefault(),e.stopPropagation(),t.state.activeItemIndex!==null){let{dataRef:de}=t.state.items[t.state.activeItemIndex];(z=(N=de.current)==null?void 0:N.domRef.current)==null||z.click()}t.send({type:r.CloseMenu}),te(t.state.buttonElement);break;case d.ArrowDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Next});case d.ArrowUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Previous});case d.Home:case d.PageUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.First});case d.End:case d.PageDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Last});case d.Escape:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),(Q=t.state.buttonElement)==null||Q.focus({preventScroll:!0});break;case d.Tab:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),Ke(t.state.buttonElement,e.shiftKey?ee.Previous:ee.Next);break;default:e.key.length===1&&(t.send({type:r.Search,value:e.key}),q.setTimeout(()=>t.send({type:r.ClearSearch}),350));break}}),le=y(e=>{switch(e.key){case d.Space:e.preventDefault();break}}),pe=B(()=>({open:f===m.Open}),[f]),ie=ne(_?g():{},{\"aria-activedescendant\":D(t,t.selectors.activeDescendantId),\"aria-labelledby\":D(t,e=>{var N;return(N=e.buttonElement)==null?void 0:N.id}),id:a,onKeyDown:se,onKeyUp:le,role:\"menu\",tabIndex:f===m.Open?0:void 0,ref:A,style:{...c.style,...I,\"--button-width\":Me(M,!0).width},...Fe(U)}),ue=v();return h.createElement($e,{enabled:s?T.static||x:!1,ownerDocument:L},ue({ourProps:ie,theirProps:c,slot:pe,defaultTag:et,features:tt,visible:ae,name:\"Menu.Items\"}))}let nt=Y;function rt(T,E){let i=w(),{id:a=`headlessui-menu-item-${i}`,disabled:n=!1,...s}=T,o=j(\"Menu.Item\"),P=D(o,u=>o.selectors.isActive(u,a)),c=V(null),_=K(E,c),t=D(o,u=>o.selectors.shouldScrollIntoView(u,a));k(()=>{if(t)return we().requestAnimationFrame(()=>{var u,J;(J=(u=c.current)==null?void 0:u.scrollIntoView)==null||J.call(u,{block:\"nearest\"})})},[t,c]);let R=De(c),I=V({disabled:n,domRef:c,get textValue(){return R()}});k(()=>{I.current.disabled=n},[I,n]),k(()=>(o.actions.registerItem(a,I),()=>o.actions.unregisterItem(a)),[I,a]);let g=y(()=>{o.send({type:r.CloseMenu})}),p=y(u=>{if(n)return u.preventDefault();o.send({type:r.CloseMenu}),te(o.state.buttonElement)}),F=y(()=>{if(n)return o.send({type:r.GoToItem,focus:b.Nothing});o.send({type:r.GoToItem,focus:b.Specific,id:a})}),A=Re(),f=y(u=>{A.update(u),!n&&(P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),M=y(u=>{A.wasMoved(u)&&(n||P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),L=y(u=>{A.wasMoved(u)&&(n||P&&o.send({type:r.GoToItem,focus:b.Nothing}))}),[S,O]=re(),[x,U]=Ve(),G=B(()=>({active:P,focus:P,disabled:n,close:g}),[P,n,g]),l={id:a,ref:_,role:\"menuitem\",tabIndex:n===!0?void 0:-1,\"aria-disabled\":n===!0?!0:void 0,\"aria-labelledby\":S,\"aria-describedby\":x,disabled:void 0,onClick:p,onFocus:F,onPointerEnter:f,onMouseEnter:f,onPointerMove:M,onMouseMove:M,onPointerLeave:L,onMouseLeave:L},H=v();return h.createElement(O,null,h.createElement(U,null,H({ourProps:l,theirProps:s,slot:G,defaultTag:nt,name:\"Menu.Item\"})))}let at=\"div\";function st(T,E){let[i,a]=re(),n=T,s={ref:E,\"aria-labelledby\":i,role:\"group\"},o=v();return h.createElement(a,null,o({ourProps:s,theirProps:n,slot:{},defaultTag:at,name:\"Menu.Section\"}))}let lt=\"header\";function pt(T,E){let i=w(),{id:a=`headlessui-menu-heading-${i}`,...n}=T,s=Xe();k(()=>s.register(a),[a,s.register]);let o={id:a,ref:E,role:\"presentation\",...s.props};return v()({ourProps:o,theirProps:n,slot:{},defaultTag:lt,name:\"Menu.Heading\"})}let it=\"div\";function ut(T,E){let i=T,a={ref:E,role:\"separator\"};return v()({ourProps:a,theirProps:i,slot:{},defaultTag:it,name:\"Menu.Separator\"})}let dt=C(Qe),mt=C(Ze),Tt=C(ot),ft=C(rt),ct=C(st),yt=C(pt),Et=C(ut),to=Object.assign(dt,{Button:mt,Items:Tt,Item:ft,Section:ct,Heading:yt,Separator:Et});export{to as Menu,mt as MenuButton,yt as MenuHeading,ft as MenuItem,Tt as MenuItems,ct as MenuSection,Et as MenuSeparator};\n", "var h=Object.defineProperty;var y=(e,n,t)=>n in e?h(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var v=(e,n,t)=>(y(e,typeof n!=\"symbol\"?n+\"\":n,t),t);import{Machine as R,batch as p}from'../../machine.js';import{Focus as c,calculateActiveIndex as f}from'../../utils/calculate-active-index.js';import{sortByDomNode as A}from'../../utils/focus-management.js';import{match as E}from'../../utils/match.js';var M=(t=>(t[t.Open=0]=\"Open\",t[t.Closed=1]=\"Closed\",t))(M||{}),T=(t=>(t[t.Pointer=0]=\"Pointer\",t[t.Other=1]=\"Other\",t))(T||{}),b=(i=>(i[i.OpenMenu=0]=\"OpenMenu\",i[i.CloseMenu=1]=\"CloseMenu\",i[i.GoToItem=2]=\"GoToItem\",i[i.Search=3]=\"Search\",i[i.ClearSearch=4]=\"ClearSearch\",i[i.RegisterItems=5]=\"RegisterItems\",i[i.UnregisterItems=6]=\"UnregisterItems\",i[i.SetButtonElement=7]=\"SetButtonElement\",i[i.SetItemsElement=8]=\"SetItemsElement\",i[i.SortItems=9]=\"SortItems\",i))(b||{});function S(e,n=t=>t){let t=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=A(n(e.items.slice()),u=>u.dataRef.current.domRef.current),l=t?r.indexOf(t):null;return l===-1&&(l=null),{items:r,activeItemIndex:l}}let F={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:c.Nothing},menuState:1}},[0](e,n){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:n.focus,menuState:0}},[2]:(e,n)=>{var u,m,d,a,I;if(e.menuState===1)return e;let t={...e,searchQuery:\"\",activationTrigger:(u=n.trigger)!=null?u:1,__demoMode:!1};if(n.focus===c.Nothing)return{...t,activeItemIndex:null};if(n.focus===c.Specific)return{...t,activeItemIndex:e.items.findIndex(i=>i.id===n.id)};if(n.focus===c.Previous){let i=e.activeItemIndex;if(i!==null){let g=e.items[i].dataRef.current.domRef,o=f(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(o!==null){let s=e.items[o].dataRef.current.domRef;if(((m=g.current)==null?void 0:m.previousElementSibling)===s.current||((d=s.current)==null?void 0:d.previousElementSibling)===null)return{...t,activeItemIndex:o}}}}else if(n.focus===c.Next){let i=e.activeItemIndex;if(i!==null){let g=e.items[i].dataRef.current.domRef,o=f(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});if(o!==null){let s=e.items[o].dataRef.current.domRef;if(((a=g.current)==null?void 0:a.nextElementSibling)===s.current||((I=s.current)==null?void 0:I.nextElementSibling)===null)return{...t,activeItemIndex:o}}}}let r=S(e),l=f(n,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...t,...r,activeItemIndex:l}},[3]:(e,n)=>{let r=e.searchQuery!==\"\"?0:1,l=e.searchQuery+n.value.toLowerCase(),m=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(a=>{var I;return((I=a.dataRef.current.textValue)==null?void 0:I.startsWith(l))&&!a.dataRef.current.disabled}),d=m?e.items.indexOf(m):-1;return d===-1||d===e.activeItemIndex?{...e,searchQuery:l}:{...e,searchQuery:l,activeItemIndex:d,activationTrigger:1}},[4](e){return e.searchQuery===\"\"?e:{...e,searchQuery:\"\",searchActiveItemIndex:null}},[5]:(e,n)=>{let t=e.items.concat(n.items.map(l=>l)),r=e.activeItemIndex;return e.pendingFocus.focus!==c.Nothing&&(r=f(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled})),{...e,items:t,activeItemIndex:r,pendingFocus:{focus:c.Nothing},pendingShouldSort:!0}},[6]:(e,n)=>{let t=e.items,r=[],l=new Set(n.items);for(let[u,m]of t.entries())if(l.has(m.id)&&(r.push(u),l.delete(m.id),l.size===0))break;if(r.length>0){t=t.slice();for(let u of r.reverse())t.splice(u,1)}return{...e,items:t,activationTrigger:1}},[7]:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},[8]:(e,n)=>e.itemsElement===n.element?e:{...e,itemsElement:n.element},[9]:e=>e.pendingShouldSort?{...e,...S(e),pendingShouldSort:!1}:e};class x extends R{constructor(t){super(t);v(this,\"actions\",{registerItem:p(()=>{let t=[],r=new Set;return[(l,u)=>{r.has(u)||(r.add(u),t.push({id:l,dataRef:u}))},()=>(r.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:p(()=>{let t=[];return[r=>t.push(r),()=>this.send({type:6,items:t.splice(0)})]})});v(this,\"selectors\",{activeDescendantId(t){var u;let r=t.activeItemIndex,l=t.items;return r===null||(u=l[r])==null?void 0:u.id},isActive(t,r){var m;let l=t.activeItemIndex,u=t.items;return l!==null?((m=u[l])==null?void 0:m.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}});this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:t=!1}={}){return new x({__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:\"\",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:c.Nothing}})}reduce(t,r){return E(r.type,F,t,r)}}export{b as ActionTypes,T as ActivationTrigger,x as MenuMachine,M as MenuState};\n", "import{createContext as r,useContext as o,useMemo as u}from\"react\";import{MenuMachine as c}from'./menu-machine.js';const a=r(null);function l(e){let n=o(a);if(n===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,i),t}return n}function i({__demoMode:e=!1}={}){return u(()=>c.new({__demoMode:e}),[])}export{a as MenuContext,i as useMenuMachine,l as useMenuMachineContext};\n", "\"use client\";import{useFocusRing as Ie}from\"@react-aria/focus\";import{useHover as De}from\"@react-aria/interactions\";import E,{createContext as re,createRef as ce,useContext as ne,useEffect as le,useMemo as D,useReducer as he,useRef as te,useState as ae}from\"react\";import{useActivePress as ke}from'../../hooks/use-active-press.js';import{useElementSize as Ge}from'../../hooks/use-element-size.js';import{useEvent as b}from'../../hooks/use-event.js';import{useEventListener as He}from'../../hooks/use-event-listener.js';import{useId as pe}from'../../hooks/use-id.js';import{useIsoMorphicEffect as Ue}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ce}from'../../hooks/use-latest-value.js';import{useOnDisappear as Ne}from'../../hooks/use-on-disappear.js';import{useOutsideClick as we}from'../../hooks/use-outside-click.js';import{useOwnerDocument as se}from'../../hooks/use-owner.js';import{useResolveButtonType as Ke}from'../../hooks/use-resolve-button-type.js';import{MainTreeProvider as Re,useMainTreeNode as We,useRootContainers as je}from'../../hooks/use-root-containers.js';import{useScrollLock as Ve}from'../../hooks/use-scroll-lock.js';import{optionalRef as $e,useSyncRefs as z}from'../../hooks/use-sync-refs.js';import{Direction as G,useTabDirection as Be}from'../../hooks/use-tab-direction.js';import{transitionDataAttributes as _e,useTransition as Fe}from'../../hooks/use-transition.js';import{CloseProvider as Je}from'../../internal/close-provider.js';import{FloatingProvider as Xe,useFloatingPanel as qe,useFloatingPanelProps as ze,useFloatingReference as Ye,useResolvedAnchor as Qe}from'../../internal/floating.js';import{Hidden as ve,HiddenFeatures as Te}from'../../internal/hidden.js';import{OpenClosedProvider as Ze,ResetOpenClosedProvider as et,State as Y,useOpenClosed as xe}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as Me}from'../../utils/bugs.js';import{Focus as H,FocusResult as me,FocusableMode as tt,focusIn as K,getFocusableElements as ye,isFocusableElement as ot}from'../../utils/focus-management.js';import{match as W}from'../../utils/match.js';import'../../utils/micro-task.js';import{getOwnerDocument as rt}from'../../utils/owner.js';import{RenderFeatures as ue,forwardRefWithAs as Q,mergeProps as Ee,useRender as oe}from'../../utils/render.js';import{Keys as j}from'../keyboard.js';import{Portal as nt,useNestedPortals as lt}from'../portal/portal.js';var at=(P=>(P[P.Open=0]=\"Open\",P[P.Closed=1]=\"Closed\",P))(at||{}),pt=(s=>(s[s.TogglePopover=0]=\"TogglePopover\",s[s.ClosePopover=1]=\"ClosePopover\",s[s.SetButton=2]=\"SetButton\",s[s.SetButtonId=3]=\"SetButtonId\",s[s.SetPanel=4]=\"SetPanel\",s[s.SetPanelId=5]=\"SetPanelId\",s))(pt||{});let st={[0]:t=>({...t,popoverState:W(t.popoverState,{[0]:1,[1]:0}),__demoMode:!1}),[1](t){return t.popoverState===1?t:{...t,popoverState:1,__demoMode:!1}},[2](t,l){return t.button===l.button?t:{...t,button:l.button}},[3](t,l){return t.buttonId===l.buttonId?t:{...t,buttonId:l.buttonId}},[4](t,l){return t.panel===l.panel?t:{...t,panel:l.panel}},[5](t,l){return t.panelId===l.panelId?t:{...t,panelId:l.panelId}}},be=re(null);be.displayName=\"PopoverContext\";function ie(t){let l=ne(be);if(l===null){let P=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,ie),P}return l}let de=re(null);de.displayName=\"PopoverAPIContext\";function ge(t){let l=ne(de);if(l===null){let P=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,ge),P}return l}let Se=re(null);Se.displayName=\"PopoverGroupContext\";function Oe(){return ne(Se)}let Pe=re(null);Pe.displayName=\"PopoverPanelContext\";function ut(){return ne(Pe)}function it(t,l){return W(l.type,st,t,l)}let dt=\"div\";function Pt(t,l){var q;let{__demoMode:P=!1,...C}=t,m=te(null),A=z(l,$e(a=>{m.current=a})),s=te([]),n=he(it,{__demoMode:P,popoverState:P?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:ce(),afterPanelSentinel:ce(),afterButtonSentinel:ce()}),[{popoverState:v,button:i,buttonId:o,panel:u,panelId:R,beforePanelSentinel:y,afterPanelSentinel:h,afterButtonSentinel:d},r]=n,T=se((q=m.current)!=null?q:i),g=D(()=>{if(!i||!u)return!1;for(let S of document.querySelectorAll(\"body > *\"))if(Number(S==null?void 0:S.contains(i))^Number(S==null?void 0:S.contains(u)))return!0;let a=ye(),e=a.indexOf(i),p=(e+a.length-1)%a.length,f=(e+1)%a.length,c=a[p],O=a[f];return!u.contains(c)&&!u.contains(O)},[i,u]),_=Ce(o),L=Ce(R),I=D(()=>({buttonId:_,panelId:L,close:()=>r({type:1})}),[_,L,r]),M=Oe(),k=M==null?void 0:M.registerPopover,V=b(()=>{var a;return(a=M==null?void 0:M.isFocusWithinPopoverGroup())!=null?a:(T==null?void 0:T.activeElement)&&((i==null?void 0:i.contains(T.activeElement))||(u==null?void 0:u.contains(T.activeElement)))});le(()=>k==null?void 0:k(I),[k,I]);let[B,U]=lt(),F=We(i),N=je({mainTreeNode:F,portals:B,defaultContainers:[i,u]});He(T==null?void 0:T.defaultView,\"focus\",a=>{var e,p,f,c,O,S;a.target!==window&&a.target instanceof HTMLElement&&v===0&&(V()||i&&u&&(N.contains(a.target)||(p=(e=y.current)==null?void 0:e.contains)!=null&&p.call(e,a.target)||(c=(f=h.current)==null?void 0:f.contains)!=null&&c.call(f,a.target)||(S=(O=d.current)==null?void 0:O.contains)!=null&&S.call(O,a.target)||r({type:1})))},!0),we(v===0,N.resolveContainers,(a,e)=>{r({type:1}),ot(e,tt.Loose)||(a.preventDefault(),i==null||i.focus())});let x=b(a=>{r({type:1});let e=(()=>a?a instanceof HTMLElement?a:\"current\"in a&&a.current instanceof HTMLElement?a.current:i:i)();e==null||e.focus()}),ee=D(()=>({close:x,isPortalled:g}),[x,g]),$=D(()=>({open:v===0,close:x}),[v,x]),J={ref:A},X=oe();return E.createElement(Re,{node:F},E.createElement(Xe,null,E.createElement(Pe.Provider,{value:null},E.createElement(be.Provider,{value:n},E.createElement(de.Provider,{value:ee},E.createElement(Je,{value:x},E.createElement(Ze,{value:W(v,{[0]:Y.Open,[1]:Y.Closed})},E.createElement(U,null,X({ourProps:J,theirProps:C,slot:$,defaultTag:dt,name:\"Popover\"})))))))))}let ft=\"button\";function ct(t,l){let P=pe(),{id:C=`headlessui-popover-button-${P}`,disabled:m=!1,autoFocus:A=!1,...s}=t,[n,v]=ie(\"Popover.Button\"),{isPortalled:i}=ge(\"Popover.Button\"),o=te(null),u=`headlessui-focus-sentinel-${pe()}`,R=Oe(),y=R==null?void 0:R.closeOthers,d=ut()!==null;le(()=>{if(!d)return v({type:3,buttonId:C}),()=>{v({type:3,buttonId:null})}},[d,C,v]);let[r]=ae(()=>Symbol()),T=z(o,l,Ye(),b(e=>{if(!d){if(e)n.buttons.current.push(r);else{let p=n.buttons.current.indexOf(r);p!==-1&&n.buttons.current.splice(p,1)}n.buttons.current.length>1&&console.warn(\"You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported.\"),e&&v({type:2,button:e})}})),g=z(o,l),_=se(o),L=b(e=>{var p,f,c;if(d){if(n.popoverState===1)return;switch(e.key){case j.Space:case j.Enter:e.preventDefault(),(f=(p=e.target).click)==null||f.call(p),v({type:1}),(c=n.button)==null||c.focus();break}}else switch(e.key){case j.Space:case j.Enter:e.preventDefault(),e.stopPropagation(),n.popoverState===1&&(y==null||y(n.buttonId)),v({type:0});break;case j.Escape:if(n.popoverState!==0)return y==null?void 0:y(n.buttonId);if(!o.current||_!=null&&_.activeElement&&!o.current.contains(_.activeElement))return;e.preventDefault(),e.stopPropagation(),v({type:1});break}}),I=b(e=>{d||e.key===j.Space&&e.preventDefault()}),M=b(e=>{var p,f;Me(e.currentTarget)||m||(d?(v({type:1}),(p=n.button)==null||p.focus()):(e.preventDefault(),e.stopPropagation(),n.popoverState===1&&(y==null||y(n.buttonId)),v({type:0}),(f=n.button)==null||f.focus()))}),k=b(e=>{e.preventDefault(),e.stopPropagation()}),{isFocusVisible:V,focusProps:B}=Ie({autoFocus:A}),{isHovered:U,hoverProps:F}=De({isDisabled:m}),{pressed:N,pressProps:Z}=ke({disabled:m}),x=n.popoverState===0,ee=D(()=>({open:x,active:N||x,disabled:m,hover:U,focus:V,autofocus:A}),[x,U,V,N,m,A]),$=Ke(t,n.button),J=d?Ee({ref:g,type:$,onKeyDown:L,onClick:M,disabled:m||void 0,autoFocus:A},B,F,Z):Ee({ref:T,id:n.buttonId,type:$,\"aria-expanded\":n.popoverState===0,\"aria-controls\":n.panel?n.panelId:void 0,disabled:m||void 0,autoFocus:A,onKeyDown:L,onKeyUp:I,onClick:M,onMouseDown:k},B,F,Z),X=Be(),q=b(()=>{let e=n.panel;if(!e)return;function p(){W(X.current,{[G.Forwards]:()=>K(e,H.First),[G.Backwards]:()=>K(e,H.Last)})===me.Error&&K(ye().filter(c=>c.dataset.headlessuiFocusGuard!==\"true\"),W(X.current,{[G.Forwards]:H.Next,[G.Backwards]:H.Previous}),{relativeTo:n.button})}p()}),a=oe();return E.createElement(E.Fragment,null,a({ourProps:J,theirProps:s,slot:ee,defaultTag:ft,name:\"Popover.Button\"}),x&&!d&&i&&E.createElement(ve,{id:u,ref:n.afterButtonSentinel,features:Te.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:q}))}let vt=\"div\",Tt=ue.RenderStrategy|ue.Static;function Le(t,l){let P=pe(),{id:C=`headlessui-popover-backdrop-${P}`,transition:m=!1,...A}=t,[{popoverState:s},n]=ie(\"Popover.Backdrop\"),[v,i]=ae(null),o=z(l,i),u=xe(),[R,y]=Fe(m,v,u!==null?(u&Y.Open)===Y.Open:s===0),h=b(g=>{if(Me(g.currentTarget))return g.preventDefault();n({type:1})}),d=D(()=>({open:s===0}),[s]),r={ref:o,id:C,\"aria-hidden\":!0,onClick:h,..._e(y)};return oe()({ourProps:r,theirProps:A,slot:d,defaultTag:vt,features:Tt,visible:R,name:\"Popover.Backdrop\"})}let mt=\"div\",yt=ue.RenderStrategy|ue.Static;function Et(t,l){let P=pe(),{id:C=`headlessui-popover-panel-${P}`,focus:m=!1,anchor:A,portal:s=!1,modal:n=!1,transition:v=!1,...i}=t,[o,u]=ie(\"Popover.Panel\"),{close:R,isPortalled:y}=ge(\"Popover.Panel\"),h=`headlessui-focus-sentinel-before-${P}`,d=`headlessui-focus-sentinel-after-${P}`,r=te(null),T=Qe(A),[g,_]=qe(T),L=ze();T&&(s=!0);let[I,M]=ae(null),k=z(r,l,T?g:null,b(e=>u({type:4,panel:e})),M),V=se(o.button),B=se(r);Ue(()=>(u({type:5,panelId:C}),()=>{u({type:5,panelId:null})}),[C,u]);let U=xe(),[F,N]=Fe(v,I,U!==null?(U&Y.Open)===Y.Open:o.popoverState===0);Ne(F,o.button,()=>{u({type:1})});let Z=o.__demoMode?!1:n&&F;Ve(Z,B);let x=b(e=>{var p;switch(e.key){case j.Escape:if(o.popoverState!==0||!r.current||B!=null&&B.activeElement&&!r.current.contains(B.activeElement))return;e.preventDefault(),e.stopPropagation(),u({type:1}),(p=o.button)==null||p.focus();break}});le(()=>{var e;t.static||o.popoverState===1&&((e=t.unmount)==null||e)&&u({type:4,panel:null})},[o.popoverState,t.unmount,t.static,u]),le(()=>{if(o.__demoMode||!m||o.popoverState!==0||!r.current)return;let e=B==null?void 0:B.activeElement;r.current.contains(e)||K(r.current,H.First)},[o.__demoMode,m,r.current,o.popoverState]);let ee=D(()=>({open:o.popoverState===0,close:R}),[o.popoverState,R]),$=Ee(T?L():{},{ref:k,id:C,onKeyDown:x,onBlur:m&&o.popoverState===0?e=>{var f,c,O,S,w;let p=e.relatedTarget;p&&r.current&&((f=r.current)!=null&&f.contains(p)||(u({type:1}),((O=(c=o.beforePanelSentinel.current)==null?void 0:c.contains)!=null&&O.call(c,p)||(w=(S=o.afterPanelSentinel.current)==null?void 0:S.contains)!=null&&w.call(S,p))&&p.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...i.style,..._,\"--button-width\":Ge(o.button,!0).width},..._e(N)}),J=Be(),X=b(()=>{let e=r.current;if(!e)return;function p(){W(J.current,{[G.Forwards]:()=>{var c;K(e,H.First)===me.Error&&((c=o.afterPanelSentinel.current)==null||c.focus())},[G.Backwards]:()=>{var f;(f=o.button)==null||f.focus({preventScroll:!0})}})}p()}),q=b(()=>{let e=r.current;if(!e)return;function p(){W(J.current,{[G.Forwards]:()=>{if(!o.button)return;let f=ye(),c=f.indexOf(o.button),O=f.slice(0,c+1),w=[...f.slice(c+1),...O];for(let fe of w.slice())if(fe.dataset.headlessuiFocusGuard===\"true\"||I!=null&&I.contains(fe)){let Ae=w.indexOf(fe);Ae!==-1&&w.splice(Ae,1)}K(w,H.First,{sorted:!1})},[G.Backwards]:()=>{var c;K(e,H.Previous)===me.Error&&((c=o.button)==null||c.focus())}})}p()}),a=oe();return E.createElement(et,null,E.createElement(Pe.Provider,{value:C},E.createElement(de.Provider,{value:{close:R,isPortalled:y}},E.createElement(nt,{enabled:s?t.static||F:!1,ownerDocument:V},F&&y&&E.createElement(ve,{id:h,ref:o.beforePanelSentinel,features:Te.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:X}),a({ourProps:$,theirProps:i,slot:ee,defaultTag:mt,features:yt,visible:F,name:\"Popover.Panel\"}),F&&y&&E.createElement(ve,{id:d,ref:o.afterPanelSentinel,features:Te.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:q})))))}let bt=\"div\";function gt(t,l){let P=te(null),C=z(P,l),[m,A]=ae([]),s=b(d=>{A(r=>{let T=r.indexOf(d);if(T!==-1){let g=r.slice();return g.splice(T,1),g}return r})}),n=b(d=>(A(r=>[...r,d]),()=>s(d))),v=b(()=>{var T;let d=rt(P);if(!d)return!1;let r=d.activeElement;return(T=P.current)!=null&&T.contains(r)?!0:m.some(g=>{var _,L;return((_=d.getElementById(g.buttonId.current))==null?void 0:_.contains(r))||((L=d.getElementById(g.panelId.current))==null?void 0:L.contains(r))})}),i=b(d=>{for(let r of m)r.buttonId.current!==d&&r.close()}),o=D(()=>({registerPopover:n,unregisterPopover:s,isFocusWithinPopoverGroup:v,closeOthers:i}),[n,s,v,i]),u=D(()=>({}),[]),R=t,y={ref:C},h=oe();return E.createElement(Re,null,E.createElement(Se.Provider,{value:o},h({ourProps:y,theirProps:R,slot:u,defaultTag:bt,name:\"Popover.Group\"})))}let St=Q(Pt),At=Q(ct),Ct=Q(Le),Rt=Q(Le),Bt=Q(Et),_t=Q(gt),ao=Object.assign(St,{Button:At,Backdrop:Rt,Overlay:Ct,Panel:Bt,Group:_t});export{ao as Popover,Rt as PopoverBackdrop,At as PopoverButton,_t as PopoverGroup,Ct as PopoverOverlay,Bt as PopoverPanel};\n", "\"use client\";import{useFocusRing as Y}from\"@react-aria/focus\";import{useHover as Z}from\"@react-aria/interactions\";import G,{createContext as ee,useCallback as be,useContext as te,useMemo as x,useReducer as ge,useRef as B}from\"react\";import{useByComparator as Oe}from'../../hooks/use-by-comparator.js';import{useControllable as Pe}from'../../hooks/use-controllable.js';import{useDefaultValue as ve}from'../../hooks/use-default-value.js';import{useEvent as H}from'../../hooks/use-event.js';import{useId as V}from'../../hooks/use-id.js';import{useIsoMorphicEffect as oe}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as re}from'../../hooks/use-latest-value.js';import{useSyncRefs as K}from'../../hooks/use-sync-refs.js';import{useDisabled as ne}from'../../internal/disabled.js';import{FormFields as De}from'../../internal/form-fields.js';import{useProvidedId as Ae}from'../../internal/id.js';import{isDisabledReactIssue7711 as ie}from'../../utils/bugs.js';import{Focus as N,FocusResult as ae,focusIn as pe,sortByDomNode as _e}from'../../utils/focus-management.js';import{attemptSubmit as Ee}from'../../utils/form.js';import{match as Ge}from'../../utils/match.js';import{getOwnerDocument as xe}from'../../utils/owner.js';import{forwardRefWithAs as $,mergeProps as le,useRender as j}from'../../utils/render.js';import{Description as Ce,useDescribedBy as he,useDescriptions as se}from'../description/description.js';import{Keys as U}from'../keyboard.js';import{Label as Le,useLabelledBy as ke,useLabels as de}from'../label/label.js';var Ie=(e=>(e[e.RegisterOption=0]=\"RegisterOption\",e[e.UnregisterOption=1]=\"UnregisterOption\",e))(Ie||{});let Fe={[0](o,t){let e=[...o.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...o,options:_e(e,i=>i.element.current)}},[1](o,t){let e=o.options.slice(),i=o.options.findIndex(v=>v.id===t.id);return i===-1?o:(e.splice(i,1),{...o,options:e})}},J=ee(null);J.displayName=\"RadioGroupDataContext\";function X(o){let t=te(J);if(t===null){let e=new Error(`<${o} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,X),e}return t}let z=ee(null);z.displayName=\"RadioGroupActionsContext\";function q(o){let t=te(z);if(t===null){let e=new Error(`<${o} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,q),e}return t}function Ue(o,t){return Ge(t.type,Fe,o,t)}let Me=\"div\";function Se(o,t){let e=V(),i=ne(),{id:v=`headlessui-radiogroup-${e}`,value:m,form:D,name:n,onChange:f,by:u,disabled:a=i||!1,defaultValue:M,tabIndex:T=0,...S}=o,R=Oe(u),[A,y]=ge(Ue,{options:[]}),p=A.options,[C,_]=de(),[h,L]=se(),k=B(null),c=K(k,t),b=ve(M),[l,I]=Pe(m,f,b),g=x(()=>p.find(r=>!r.propsRef.current.disabled),[p]),O=x(()=>p.some(r=>R(r.propsRef.current.value,l)),[p,l]),s=H(r=>{var d;if(a||R(r,l))return!1;let F=(d=p.find(w=>R(w.propsRef.current.value,r)))==null?void 0:d.propsRef.current;return F!=null&&F.disabled?!1:(I==null||I(r),!0)}),ue=H(r=>{let F=k.current;if(!F)return;let d=xe(F),w=p.filter(P=>P.propsRef.current.disabled===!1).map(P=>P.element.current);switch(r.key){case U.Enter:Ee(r.currentTarget);break;case U.ArrowLeft:case U.ArrowUp:if(r.preventDefault(),r.stopPropagation(),pe(w,N.Previous|N.WrapAround)===ae.Success){let E=p.find(W=>W.element.current===(d==null?void 0:d.activeElement));E&&s(E.propsRef.current.value)}break;case U.ArrowRight:case U.ArrowDown:if(r.preventDefault(),r.stopPropagation(),pe(w,N.Next|N.WrapAround)===ae.Success){let E=p.find(W=>W.element.current===(d==null?void 0:d.activeElement));E&&s(E.propsRef.current.value)}break;case U.Space:{r.preventDefault(),r.stopPropagation();let P=p.find(E=>E.element.current===(d==null?void 0:d.activeElement));P&&s(P.propsRef.current.value)}break}}),Q=H(r=>(y({type:0,...r}),()=>y({type:1,id:r.id}))),ce=x(()=>({value:l,firstOption:g,containsCheckedOption:O,disabled:a,compare:R,tabIndex:T,...A}),[l,g,O,a,R,T,A]),fe=x(()=>({registerOption:Q,change:s}),[Q,s]),Te={ref:c,id:v,role:\"radiogroup\",\"aria-labelledby\":C,\"aria-describedby\":h,onKeyDown:ue},Re=x(()=>({value:l}),[l]),me=be(()=>{if(b!==void 0)return s(b)},[s,b]),ye=j();return G.createElement(L,{name:\"RadioGroup.Description\"},G.createElement(_,{name:\"RadioGroup.Label\"},G.createElement(z.Provider,{value:fe},G.createElement(J.Provider,{value:ce},n!=null&&G.createElement(De,{disabled:a,data:{[n]:l||\"on\"},overrides:{type:\"radio\",checked:l!=null},form:D,onReset:me}),ye({ourProps:Te,theirProps:S,slot:Re,defaultTag:Me,name:\"RadioGroup\"})))))}let He=\"div\";function we(o,t){var g;let e=X(\"RadioGroup.Option\"),i=q(\"RadioGroup.Option\"),v=V(),{id:m=`headlessui-radiogroup-option-${v}`,value:D,disabled:n=e.disabled||!1,autoFocus:f=!1,...u}=o,a=B(null),M=K(a,t),[T,S]=de(),[R,A]=se(),y=re({value:D,disabled:n});oe(()=>i.registerOption({id:m,element:a,propsRef:y}),[m,i,a,y]);let p=H(O=>{var s;if(ie(O.currentTarget))return O.preventDefault();i.change(D)&&((s=a.current)==null||s.focus())}),C=((g=e.firstOption)==null?void 0:g.id)===m,{isFocusVisible:_,focusProps:h}=Y({autoFocus:f}),{isHovered:L,hoverProps:k}=Z({isDisabled:n}),c=e.compare(e.value,D),b=le({ref:M,id:m,role:\"radio\",\"aria-checked\":c?\"true\":\"false\",\"aria-labelledby\":T,\"aria-describedby\":R,\"aria-disabled\":n?!0:void 0,tabIndex:(()=>n?-1:c||!e.containsCheckedOption&&C?e.tabIndex:-1)(),onClick:n?void 0:p,autoFocus:f},h,k),l=x(()=>({checked:c,disabled:n,active:_,hover:L,focus:_,autofocus:f}),[c,n,L,_,f]),I=j();return G.createElement(A,{name:\"RadioGroup.Description\"},G.createElement(S,{name:\"RadioGroup.Label\"},I({ourProps:b,theirProps:u,slot:l,defaultTag:He,name:\"RadioGroup.Option\"})))}let Ne=\"span\";function We(o,t){var g;let e=X(\"Radio\"),i=q(\"Radio\"),v=V(),m=Ae(),D=ne(),{id:n=m||`headlessui-radio-${v}`,value:f,disabled:u=e.disabled||D||!1,autoFocus:a=!1,...M}=o,T=B(null),S=K(T,t),R=ke(),A=he(),y=re({value:f,disabled:u});oe(()=>i.registerOption({id:n,element:T,propsRef:y}),[n,i,T,y]);let p=H(O=>{var s;if(ie(O.currentTarget))return O.preventDefault();i.change(f)&&((s=T.current)==null||s.focus())}),{isFocusVisible:C,focusProps:_}=Y({autoFocus:a}),{isHovered:h,hoverProps:L}=Z({isDisabled:u}),k=((g=e.firstOption)==null?void 0:g.id)===n,c=e.compare(e.value,f),b=le({ref:S,id:n,role:\"radio\",\"aria-checked\":c?\"true\":\"false\",\"aria-labelledby\":R,\"aria-describedby\":A,\"aria-disabled\":u?!0:void 0,tabIndex:(()=>u?-1:c||!e.containsCheckedOption&&k?e.tabIndex:-1)(),autoFocus:a,onClick:u?void 0:p},_,L),l=x(()=>({checked:c,disabled:u,hover:h,focus:C,autofocus:a}),[c,u,h,C,a]);return j()({ourProps:b,theirProps:M,slot:l,defaultTag:Ne,name:\"Radio\"})}let Be=$(Se),Ve=$(we),Ke=$(We),$e=Le,je=Ce,mt=Object.assign(Be,{Option:Ve,Radio:Ke,Label:$e,Description:je});export{Ke as Radio,mt as RadioGroup,je as RadioGroupDescription,$e as RadioGroupLabel,Ve as RadioGroupOption};\n", "\"use client\";import{useFocusRing as E}from\"@react-aria/focus\";import{useHover as v}from\"@react-aria/interactions\";import{useMemo as A}from\"react\";import{useActivePress as g}from'../../hooks/use-active-press.js';import{useId as _}from'../../hooks/use-id.js';import{useDisabled as R}from'../../internal/disabled.js';import{useProvidedId as D}from'../../internal/id.js';import{forwardRefWithAs as F,mergeProps as L,useRender as C}from'../../utils/render.js';import{useDescribedBy as x}from'../description/description.js';import{useLabelledBy as h}from'../label/label.js';let H=\"select\";function B(a,i){let p=_(),d=D(),n=R(),{id:c=d||`headlessui-select-${p}`,disabled:e=n||!1,invalid:t=!1,autoFocus:o=!1,...f}=a,m=h(),u=x(),{isFocusVisible:r,focusProps:T}=E({autoFocus:o}),{isHovered:l,hoverProps:b}=v({isDisabled:e}),{pressed:s,pressProps:y}=g({disabled:e}),P=L({ref:i,id:c,\"aria-labelledby\":m,\"aria-describedby\":u,\"aria-invalid\":t?\"true\":void 0,disabled:e||void 0,autoFocus:o},T,b,y),S=A(()=>({disabled:e,invalid:t,hover:l,focus:r,active:s,autofocus:o}),[e,t,l,r,s,o]);return C()({ourProps:P,theirProps:f,slot:S,defaultTag:H,name:\"Select\"})}let j=F(B);export{j as Select};\n", "\"use client\";import{useFocusRing as Q}from\"@react-aria/focus\";import{useHover as Y}from\"@react-aria/interactions\";import i,{Fragment as Z,createContext as ee,useCallback as te,useContext as oe,useMemo as R,useRef as re,useState as w}from\"react\";import{useActivePress as ne}from'../../hooks/use-active-press.js';import{useControllable as le}from'../../hooks/use-controllable.js';import{useDefaultValue as ie}from'../../hooks/use-default-value.js';import{useDisposables as ae}from'../../hooks/use-disposables.js';import{useEvent as f}from'../../hooks/use-event.js';import{useId as se}from'../../hooks/use-id.js';import{useResolveButtonType as pe}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as ce}from'../../hooks/use-sync-refs.js';import{useDisabled as ue}from'../../internal/disabled.js';import{FormFields as de}from'../../internal/form-fields.js';import{useProvidedId as me}from'../../internal/id.js';import{isDisabledReactIssue7711 as fe}from'../../utils/bugs.js';import{attemptSubmit as he}from'../../utils/form.js';import{forwardRefWithAs as be,mergeProps as Te,useRender as G}from'../../utils/render.js';import{Description as ye,useDescribedBy as Se,useDescriptions as we}from'../description/description.js';import{Keys as A}from'../keyboard.js';import{Label as Ee,useLabelledBy as _e,useLabels as Pe}from'../label/label.js';let E=ee(null);E.displayName=\"GroupContext\";let De=Z;function ge(n){var u;let[o,s]=w(null),[h,b]=Pe(),[T,t]=we(),p=R(()=>({switch:o,setSwitch:s}),[o,s]),y={},S=n,c=G();return i.createElement(t,{name:\"Switch.Description\",value:T},i.createElement(b,{name:\"Switch.Label\",value:h,props:{htmlFor:(u=p.switch)==null?void 0:u.id,onClick(d){o&&(d.currentTarget instanceof HTMLLabelElement&&d.preventDefault(),o.click(),o.focus({preventScroll:!0}))}}},i.createElement(E.Provider,{value:p},c({ourProps:y,theirProps:S,slot:{},defaultTag:De,name:\"Switch.Group\"}))))}let ve=\"button\";function xe(n,o){var L;let s=se(),h=me(),b=ue(),{id:T=h||`headlessui-switch-${s}`,disabled:t=b||!1,checked:p,defaultChecked:y,onChange:S,name:c,value:u,form:d,autoFocus:m=!1,...F}=n,_=oe(E),[H,k]=w(null),M=re(null),U=ce(M,o,_===null?null:_.setSwitch,k),l=ie(y),[a,r]=le(p,S,l!=null?l:!1),I=ae(),[P,D]=w(!1),g=f(()=>{D(!0),r==null||r(!a),I.nextFrame(()=>{D(!1)})}),B=f(e=>{if(fe(e.currentTarget))return e.preventDefault();e.preventDefault(),g()}),K=f(e=>{e.key===A.Space?(e.preventDefault(),g()):e.key===A.Enter&&he(e.currentTarget)}),W=f(e=>e.preventDefault()),O=_e(),N=Se(),{isFocusVisible:v,focusProps:J}=Q({autoFocus:m}),{isHovered:x,hoverProps:V}=Y({isDisabled:t}),{pressed:C,pressProps:X}=ne({disabled:t}),j=R(()=>({checked:a,disabled:t,hover:x,focus:v,active:C,autofocus:m,changing:P}),[a,x,v,C,t,P,m]),$=Te({id:T,ref:U,role:\"switch\",type:pe(n,H),tabIndex:n.tabIndex===-1?0:(L=n.tabIndex)!=null?L:0,\"aria-checked\":a,\"aria-labelledby\":O,\"aria-describedby\":N,disabled:t||void 0,autoFocus:m,onClick:B,onKeyUp:K,onKeyPress:W},J,V,X),q=te(()=>{if(l!==void 0)return r==null?void 0:r(l)},[r,l]),z=G();return i.createElement(i.Fragment,null,c!=null&&i.createElement(de,{disabled:t,data:{[c]:u||\"on\"},overrides:{type:\"checkbox\",checked:a},form:d,onReset:q}),z({ourProps:$,theirProps:F,slot:j,defaultTag:ve,name:\"Switch\"}))}let Ce=be(xe),Le=ge,Re=Ee,Ge=ye,Ye=Object.assign(Ce,{Group:Le,Label:Re,Description:Ge});export{Ye as Switch,Ge as SwitchDescription,Le as SwitchGroup,Re as SwitchLabel};\n", "\"use client\";import{useFocusRing as ne}from\"@react-aria/focus\";import{useHover as fe}from\"@react-aria/interactions\";import U,{createContext as ae,useContext as le,useMemo as F,useReducer as be,useRef as z,useState as me}from\"react\";import{useActivePress as Pe}from'../../hooks/use-active-press.js';import{useEvent as I}from'../../hooks/use-event.js';import{useId as oe}from'../../hooks/use-id.js';import{useIsoMorphicEffect as B}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as W}from'../../hooks/use-latest-value.js';import{useResolveButtonType as ye}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as H}from'../../hooks/use-sync-refs.js';import{FocusSentinel as xe}from'../../internal/focus-sentinel.js';import{Hidden as ge}from'../../internal/hidden.js';import{Focus as y,FocusResult as j,focusIn as v,sortByDomNode as w}from'../../utils/focus-management.js';import{match as O}from'../../utils/match.js';import{microTask as Ae}from'../../utils/micro-task.js';import{getOwnerDocument as Ee}from'../../utils/owner.js';import{RenderFeatures as se,forwardRefWithAs as N,mergeProps as ie,useRender as k}from'../../utils/render.js';import{StableCollection as Re,useStableCollectionIndex as pe}from'../../utils/stable-collection.js';import{Keys as x}from'../keyboard.js';var Le=(t=>(t[t.Forwards=0]=\"Forwards\",t[t.Backwards=1]=\"Backwards\",t))(Le||{}),_e=(l=>(l[l.Less=-1]=\"Less\",l[l.Equal=0]=\"Equal\",l[l.Greater=1]=\"Greater\",l))(_e||{}),De=(n=>(n[n.SetSelectedIndex=0]=\"SetSelectedIndex\",n[n.RegisterTab=1]=\"RegisterTab\",n[n.UnregisterTab=2]=\"UnregisterTab\",n[n.RegisterPanel=3]=\"RegisterPanel\",n[n.UnregisterPanel=4]=\"UnregisterPanel\",n))(De||{});let Se={[0](e,r){var d;let t=w(e.tabs,u=>u.current),l=w(e.panels,u=>u.current),a=t.filter(u=>{var T;return!((T=u.current)!=null&&T.hasAttribute(\"disabled\"))}),n={...e,tabs:t,panels:l};if(r.index<0||r.index>t.length-1){let u=O(Math.sign(r.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>O(Math.sign(r.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});if(a.length===0)return n;let T=O(u,{[0]:()=>t.indexOf(a[0]),[1]:()=>t.indexOf(a[a.length-1])});return{...n,selectedIndex:T===-1?e.selectedIndex:T}}let s=t.slice(0,r.index),b=[...t.slice(r.index),...s].find(u=>a.includes(u));if(!b)return n;let f=(d=t.indexOf(b))!=null?d:e.selectedIndex;return f===-1&&(f=e.selectedIndex),{...n,selectedIndex:f}},[1](e,r){if(e.tabs.includes(r.tab))return e;let t=e.tabs[e.selectedIndex],l=w([...e.tabs,r.tab],n=>n.current),a=e.selectedIndex;return e.info.current.isControlled||(a=l.indexOf(t),a===-1&&(a=e.selectedIndex)),{...e,tabs:l,selectedIndex:a}},[2](e,r){return{...e,tabs:e.tabs.filter(t=>t!==r.tab)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:w([...e.panels,r.panel],t=>t.current)}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}}},V=ae(null);V.displayName=\"TabsDataContext\";function C(e){let r=le(V);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return r}let Q=ae(null);Q.displayName=\"TabsActionsContext\";function Y(e){let r=le(Q);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Y),t}return r}function Fe(e,r){return O(r.type,Se,e,r)}let Ie=\"div\";function he(e,r){let{defaultIndex:t=0,vertical:l=!1,manual:a=!1,onChange:n,selectedIndex:s=null,...g}=e;const b=l?\"vertical\":\"horizontal\",f=a?\"manual\":\"auto\";let d=s!==null,u=W({isControlled:d}),T=H(r),[p,c]=be(Fe,{info:u,selectedIndex:s!=null?s:t,tabs:[],panels:[]}),h=F(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),m=W(n||(()=>{})),M=W(p.tabs),S=F(()=>({orientation:b,activation:f,...p}),[b,f,p]),P=I(i=>(c({type:1,tab:i}),()=>c({type:2,tab:i}))),A=I(i=>(c({type:3,panel:i}),()=>c({type:4,panel:i}))),E=I(i=>{_.current!==i&&m.current(i),d||c({type:0,index:i})}),_=W(d?e.selectedIndex:p.selectedIndex),D=F(()=>({registerTab:P,registerPanel:A,change:E}),[]);B(()=>{c({type:0,index:s!=null?s:t})},[s]),B(()=>{if(_.current===void 0||p.tabs.length<=0)return;let i=w(p.tabs,R=>R.current);i.some((R,X)=>p.tabs[X]!==R)&&E(i.indexOf(p.tabs[_.current]))});let K={ref:T},J=k();return U.createElement(Re,null,U.createElement(Q.Provider,{value:D},U.createElement(V.Provider,{value:S},S.tabs.length<=0&&U.createElement(xe,{onFocus:()=>{var i,G;for(let R of M.current)if(((i=R.current)==null?void 0:i.tabIndex)===0)return(G=R.current)==null||G.focus(),!0;return!1}}),J({ourProps:K,theirProps:g,slot:h,defaultTag:Ie,name:\"Tabs\"}))))}let ve=\"div\";function Ce(e,r){let{orientation:t,selectedIndex:l}=C(\"Tab.List\"),a=H(r),n=F(()=>({selectedIndex:l}),[l]),s=e,g={ref:a,role:\"tablist\",\"aria-orientation\":t};return k()({ourProps:g,theirProps:s,slot:n,defaultTag:ve,name:\"Tabs.List\"})}let Me=\"button\";function Ge(e,r){var ee,te;let t=oe(),{id:l=`headlessui-tabs-tab-${t}`,disabled:a=!1,autoFocus:n=!1,...s}=e,{orientation:g,activation:b,selectedIndex:f,tabs:d,panels:u}=C(\"Tab\"),T=Y(\"Tab\"),p=C(\"Tab\"),[c,h]=me(null),m=z(null),M=H(m,r,h);B(()=>T.registerTab(m),[T,m]);let S=pe(\"tabs\"),P=d.indexOf(m);P===-1&&(P=S);let A=P===f,E=I(o=>{var $;let L=o();if(L===j.Success&&b===\"auto\"){let q=($=Ee(m))==null?void 0:$.activeElement,re=p.tabs.findIndex(ce=>ce.current===q);re!==-1&&T.change(re)}return L}),_=I(o=>{let L=d.map(q=>q.current).filter(Boolean);if(o.key===x.Space||o.key===x.Enter){o.preventDefault(),o.stopPropagation(),T.change(P);return}switch(o.key){case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),E(()=>v(L,y.First));case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),E(()=>v(L,y.Last))}if(E(()=>O(g,{vertical(){return o.key===x.ArrowUp?v(L,y.Previous|y.WrapAround):o.key===x.ArrowDown?v(L,y.Next|y.WrapAround):j.Error},horizontal(){return o.key===x.ArrowLeft?v(L,y.Previous|y.WrapAround):o.key===x.ArrowRight?v(L,y.Next|y.WrapAround):j.Error}}))===j.Success)return o.preventDefault()}),D=z(!1),K=I(()=>{var o;D.current||(D.current=!0,(o=m.current)==null||o.focus({preventScroll:!0}),T.change(P),Ae(()=>{D.current=!1}))}),J=I(o=>{o.preventDefault()}),{isFocusVisible:i,focusProps:G}=ne({autoFocus:n}),{isHovered:R,hoverProps:X}=fe({isDisabled:a}),{pressed:Z,pressProps:ue}=Pe({disabled:a}),Te=F(()=>({selected:A,hover:R,active:Z,focus:i,autofocus:n,disabled:a}),[A,R,i,Z,n,a]),de=ie({ref:M,onKeyDown:_,onMouseDown:J,onClick:K,id:l,role:\"tab\",type:ye(e,c),\"aria-controls\":(te=(ee=u[P])==null?void 0:ee.current)==null?void 0:te.id,\"aria-selected\":A,tabIndex:A?0:-1,disabled:a||void 0,autoFocus:n},G,X,ue);return k()({ourProps:de,theirProps:s,slot:Te,defaultTag:Me,name:\"Tabs.Tab\"})}let Ue=\"div\";function He(e,r){let{selectedIndex:t}=C(\"Tab.Panels\"),l=H(r),a=F(()=>({selectedIndex:t}),[t]),n=e,s={ref:l};return k()({ourProps:s,theirProps:n,slot:a,defaultTag:Ue,name:\"Tabs.Panels\"})}let we=\"div\",Oe=se.RenderStrategy|se.Static;function Ne(e,r){var A,E,_,D;let t=oe(),{id:l=`headlessui-tabs-panel-${t}`,tabIndex:a=0,...n}=e,{selectedIndex:s,tabs:g,panels:b}=C(\"Tab.Panel\"),f=Y(\"Tab.Panel\"),d=z(null),u=H(d,r);B(()=>f.registerPanel(d),[f,d]);let T=pe(\"panels\"),p=b.indexOf(d);p===-1&&(p=T);let c=p===s,{isFocusVisible:h,focusProps:m}=ne(),M=F(()=>({selected:c,focus:h}),[c,h]),S=ie({ref:u,id:l,role:\"tabpanel\",\"aria-labelledby\":(E=(A=g[p])==null?void 0:A.current)==null?void 0:E.id,tabIndex:c?a:-1},m),P=k();return!c&&((_=n.unmount)==null||_)&&!((D=n.static)!=null&&D)?U.createElement(ge,{\"aria-hidden\":\"true\",...S}):P({ourProps:S,theirProps:n,slot:M,defaultTag:we,features:Oe,visible:c,name:\"Tabs.Panel\"})}let ke=N(Ge),Be=N(he),We=N(Ce),je=N(He),Ke=N(Ne),Tt=Object.assign(ke,{Group:Be,List:We,Panels:je,Panel:Ke});export{Tt as Tab,Be as TabGroup,We as TabList,Ke as TabPanel,je as TabPanels};\n", "import s,{useState as c}from\"react\";import{useIsMounted as m}from'../hooks/use-is-mounted.js';import{Hidden as f,HiddenFeatures as l}from'./hidden.js';function b({onFocus:n}){let[r,o]=c(!0),u=m();return r?s.createElement(f,{as:\"button\",type:\"button\",features:l.Focusable,onFocus:a=>{a.preventDefault();let e,i=50;function t(){if(i--<=0){e&&cancelAnimationFrame(e);return}if(n()){if(cancelAnimationFrame(e),!u.current)return;o(!1);return}e=requestAnimationFrame(t)}e=requestAnimationFrame(t)}}):null}export{b as FocusSentinel};\n", "import*as l from\"react\";const s=l.createContext(null);function a(){return{groups:new Map,get(o,e){var i;let t=this.groups.get(o);t||(t=new Map,this.groups.set(o,t));let n=(i=t.get(e))!=null?i:0;t.set(e,n+1);let r=Array.from(t.keys()).indexOf(e);function u(){let c=t.get(e);c>1?t.set(e,c-1):t.delete(e)}return[r,u]}}}function f({children:o}){let e=l.useRef(a());return l.createElement(s.Provider,{value:e},o)}function C(o){let e=l.useContext(s);if(!e)throw new Error(\"You must wrap your component in a <StableCollection>\");let t=l.useId(),[n,r]=e.current.get(o,t);return l.useEffect(()=>r,[]),n}export{f as StableCollection,C as useStableCollectionIndex};\n", "\"use client\";import{useFocusRing as A}from\"@react-aria/focus\";import{useHover as c}from\"@react-aria/interactions\";import{useMemo as E}from\"react\";import{useId as P}from'../../hooks/use-id.js';import{useDisabled as R}from'../../internal/disabled.js';import{useProvidedId as g}from'../../internal/id.js';import{forwardRefWithAs as v,mergeProps as _,useRender as D}from'../../utils/render.js';import{useDescribedBy as F}from'../description/description.js';import{useLabelledBy as h}from'../label/label.js';let L=\"textarea\";function H(s,l){let i=P(),d=g(),n=R(),{id:p=d||`headlessui-textarea-${i}`,disabled:e=n||!1,autoFocus:r=!1,invalid:a=!1,...T}=s,f=h(),m=F(),{isFocused:o,focusProps:u}=A({autoFocus:r}),{isHovered:t,hoverProps:b}=c({isDisabled:e}),y=_({ref:l,id:p,\"aria-labelledby\":f,\"aria-describedby\":m,\"aria-invalid\":a?\"true\":void 0,disabled:e||void 0,autoFocus:r},u,b),x=E(()=>({disabled:e,invalid:a,hover:t,focus:o,autofocus:r}),[e,a,t,o,r]);return D()({ourProps:y,theirProps:T,slot:x,defaultTag:L,name:\"Textarea\"})}let J=v(H);export{J as Textarea};\n"],
  "mappings": "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",
  "names": ["x", "y", "React", "useRef", "useEffect", "useMemo", "$HgANd$react", "$lmaYr$useRef", "$lmaYr$useCallback", "f", "$670gB$react", "isDisabled", "$670gB$useContext", "$670gB$useRef", "$670gB$react", "$670gB$useState", "activeElement", "e", "t", "f", "n", "o", "i", "a", "b", "re", "$g3jFn$createContext", "e", "$lPAwt$useRef", "$lPAwt$useCallback", "$lPAwt$useEffect", "$gbmns$useRef", "$gbmns$useMemo", "$6dfIe$useRef", "e", "$6dfIe$useCallback", "window", "activeElement", "cleanup", "$3aeG1$react", "$7mdmh$useContext", "x", "y", "isDisabled", "$7mdmh$useState", "$7mdmh$useRef", "e", "$7mdmh$useMemo", "pressProps", "$7mdmh$flushSync", "$7mdmh$useEffect", "e", "e", "e", "$28AnR$useEffect", "e", "activeElement", "isDisabled", "$hf0lj$useCallback", "e", "activeElement", "e", "$fcPuG$react", "$fcPuG$useContext", "_", "$fcPuG$useRef", "$fcPuG$useEffect", "$fcPuG$forwardRef", "$hhDyF$react", "$hhDyF$useEffect", "$87RPk$react", "$87RPk$useRef", "$87RPk$useContext", "$87RPk$useEffect", "isDisabled", "$3b9Q0$useRef", "$3b9Q0$useCallback", "e", "activeElement", "e", "isDisabled", "$AWxnT$useState", "$AWxnT$useRef", "$AWxnT$useEffect", "$AWxnT$useMemo", "triggerHoverEnd", "hoverProps", "$cgawC$react", "$isWE5$useRef", "$isWE5$useState", "$isWE5$useCallback", "isFocused", "import_react", "import_react", "t", "e", "n", "r", "o", "n", "e", "r", "import_react", "e", "o", "o", "n", "r", "e", "t", "s", "a", "e", "o", "s", "import_react", "import_react", "import_react", "e", "t", "f", "c", "s", "e", "r", "t", "o", "t", "e", "s", "a", "r", "e", "t", "n", "a", "l", "m", "r", "o", "f", "s", "i", "c", "p", "import_react", "r", "a", "i", "t", "o", "n", "import_react", "t", "r", "n", "r", "n", "a", "e", "t", "a", "e", "n", "x", "r", "s", "t", "l", "i", "o", "P", "y", "f", "u", "d", "p", "c", "T", "g", "b", "m", "w", "R", "j", "v", "k", "S", "E", "v", "a", "u", "p", "l", "e", "t", "o", "r", "i", "s", "T", "n", "d", "f", "m", "P", "H", "import_react", "import_react", "l", "r", "c", "i", "s", "f", "e", "t", "o", "u", "d", "n", "import_react", "l", "e", "t", "u", "import_react", "import_react", "import_react_dom", "e", "i", "s", "t", "r", "n", "o", "f", "p", "a", "s", "e", "l", "t", "r", "n", "d", "o", "f", "f", "H", "t", "e", "r", "u", "o", "s", "c", "E", "g", "j", "n", "F", "i", "a", "p", "m", "C", "v", "import_react", "e", "d", "u", "i", "f", "t", "r", "n", "r", "n", "e", "l", "t", "i", "import_react", "import_react", "u", "T", "t", "n", "i", "l", "c", "o", "e", "a", "T", "f", "r", "u", "e", "U", "w", "P", "c", "t", "i", "o", "n", "s", "p", "l", "m", "S", "C", "d", "D", "_", "H", "o", "r", "import_react", "c", "k", "P", "r", "h", "l", "a", "e", "o", "K", "D", "T", "t", "s", "i", "p", "u", "d", "m", "R", "y", "g", "L", "b", "n", "E", "x", "C", "f", "U", "T", "h", "C", "r", "k", "u", "x", "a", "g", "e", "s", "E", "v", "P", "d", "D", "R", "n", "A", "F", "l", "t", "K", "_", "U", "H", "p", "c", "$", "o", "B", "I", "L", "m", "M", "b", "f", "O", "X", "G", "J", "S", "w", "W", "i", "j", "import_react", "import_react", "e", "n", "u", "i", "C", "t", "o", "r", "l", "t", "e", "o", "u", "n", "H", "y", "index", "a", "b", "timeoutId", "index", "i", "offset", "size", "offset", "opts", "d", "index", "m", "a", "b", "count", "min", "i", "size", "k", "instance", "import_react", "import_react_dom", "import_react", "l", "e", "r", "u", "n", "t", "o", "import_react", "f", "e", "t", "r", "d", "u", "h", "i", "o", "n", "import_react", "a", "t", "e", "a", "o", "r", "t", "n", "e", "s", "i", "c", "import_react", "o", "t", "e", "p", "a", "r", "e", "t", "x", "i", "n", "h", "o", "s", "f", "u", "h", "t", "e", "r", "m", "i", "y", "x", "d", "c", "a", "o", "n", "s", "l", "p", "E", "import_react", "m", "s", "n", "l", "i", "t", "e", "o", "r", "import_react", "f", "e", "p", "F", "n", "T", "o", "y", "t", "b", "r", "S", "h", "A", "u", "G", "I", "H", "w", "O", "_", "c", "l", "j", "P", "s", "a", "x", "M", "m", "d", "i", "t", "i", "n", "import_react", "i", "t", "e", "o", "n", "u", "s", "c", "r", "m", "import_react", "s", "t", "e", "o", "n", "i", "a", "r", "d", "E", "R", "p", "f", "C", "u", "x", "m", "s", "T", "e", "n", "r", "h", "l", "o", "A", "i", "d", "t", "a", "import_react", "n", "e", "t", "o", "import_react", "import_react", "E", "n", "e", "a", "t", "i", "s", "d", "r", "o", "i", "e", "n", "r", "E", "l", "t", "o", "import_react", "e", "t", "u", "a", "n", "r", "d", "r", "e", "l", "o", "t", "n", "d", "t", "r", "n", "c", "o", "a", "l", "s", "e", "f", "i", "r", "e", "o", "m", "e", "n", "t", "a", "o", "c", "d", "r", "a", "r", "e", "n", "f", "o", "i", "f", "e", "c", "n", "r", "x", "a", "t", "o", "import_react", "t", "e", "u", "o", "r", "n", "import_react", "import_react", "c", "u", "t", "l", "b", "g", "r", "e", "s", "a", "m", "n", "F", "T", "b", "L", "r", "R", "t", "n", "e", "x", "i", "o", "S", "s", "a", "l", "c", "u", "f", "E", "d", "C", "p", "j", "import_react", "F", "c", "e", "t", "r", "o", "E", "l", "T", "n", "f", "p", "i", "m", "u", "import_react", "m", "u", "t", "e", "s", "r", "o", "f", "a", "l", "n", "React", "import_react", "getComputedStyle", "e", "v", "bt", "x", "y", "candidateSelectors", "candidateSelector", "join", "NoElement", "Element", "matches", "prototype", "msMatchesSelector", "webkitMatchesSelector", "getRootNode", "element", "_element$getRootNode", "call", "ownerDocument", "focusableCandidateSelector", "candidateSelectors", "concat", "join", "ReactDOM", "platform", "x", "y", "i", "platform", "placements", "sides", "side", "d", "a", "b", "placement", "overflow", "platform", "x", "y", "min", "max", "platform", "getComputedStyle", "$", "x", "y", "a", "b", "timeoutId", "cleanup", "_e", "detectOverflow", "offset", "shift", "flip", "size", "computePosition", "React", "import_react", "a", "b", "i", "platform", "computePosition", "data", "x", "y", "offset", "shift", "flip", "size", "React", "index", "offset", "i", "j", "a", "b", "map", "Composite", "_", "e", "CompositeItem", "FloatingArrow", "arrow", "shift", "d", "isRTL", "getComputedStyle", "t", "l", "FocusGuard", "index", "VisuallyHiddenDismiss", "FloatingOverlay", "index", "open", "useFloating", "index", "node", "_", "index", "offset", "detectOverflow", "v", "e", "d", "j", "import_react", "y", "_", "H", "e", "M", "R", "Fe", "t", "ae", "n", "r", "o", "u", "l", "A", "ue", "f", "s", "pe", "i", "F", "E", "v", "c", "P", "a", "p", "b", "w", "g", "useFloating", "offset", "shift", "flip", "h", "O", "W", "d", "T", "$", "L", "N", "m", "x", "k", "S", "U", "size", "I", "B", "G", "K", "Q", "X", "Y", "J", "D", "import_react", "f", "o", "e", "n", "l", "r", "t", "u", "import_react", "n", "l", "i", "e", "u", "d", "c", "o", "t", "r", "s", "f", "t", "e", "r", "a", "l", "c", "n", "i", "s", "o", "m", "h", "u", "S", "g", "b", "S", "e", "n", "r", "h", "a", "o", "i", "s", "t", "n", "e", "r", "t", "e", "n", "f", "o", "u", "l", "c", "i", "f", "n", "t", "r", "s", "e", "g", "f", "import_react", "import_react_dom", "import_react", "c", "t", "r", "o", "e", "n", "u", "t", "s", "r", "t", "o", "l", "e", "n", "import_react", "e", "r", "a", "c", "l", "o", "t", "j", "e", "l", "a", "o", "d", "H", "r", "u", "c", "i", "t", "G", "M", "E", "I", "L", "T", "s", "n", "f", "p", "P", "g", "b", "h", "O", "J", "A", "k", "x", "D", "I", "S", "t", "i", "e", "c", "A", "E", "C", "n", "M", "l", "v", "o", "u", "a", "_", "r", "F", "p", "d", "s", "T", "f", "b", "m", "y", "O", "import_react", "b", "t", "u", "e", "o", "r", "n", "i", "a", "O", "ue", "Ee", "y", "O", "Oe", "e", "u", "o", "V", "S", "a", "A", "C", "X", "g", "b", "h", "l", "Te", "c", "n", "x", "D", "Pe", "f", "B", "w", "F", "m", "P", "d", "i", "_", "de", "I", "N", "p", "T", "z", "re", "E", "K", "k", "M", "$", "U", "s", "W", "R", "ae", "J", "q", "j", "pe", "Y", "ee", "t", "r", "H", "v", "oe", "te", "import_react", "E", "D", "d", "o", "n", "s", "e", "t", "p", "r", "i", "a", "T", "l", "c", "f", "x", "import_react", "a", "o", "r", "t", "n", "x", "E", "e", "import_react", "f", "t", "e", "i", "o", "c", "n", "r", "import_react", "R", "l", "n", "o", "r", "u", "i", "c", "t", "e", "m", "a", "M", "O", "H", "b", "f", "s", "d", "import_react", "import_react", "f", "e", "r", "import_react", "a", "r", "u", "e", "o", "s", "U", "o", "e", "t", "x", "n", "$", "M", "r", "s", "a", "u", "f", "l", "i", "te", "re", "R", "g", "c", "m", "G", "P", "F", "v", "N", "k", "d", "I", "B", "L", "D", "ye", "w", "T", "E", "import_react", "ue", "e", "t", "de", "O", "c", "w", "ne", "n", "q", "M", "U", "Te", "s", "l", "b", "S", "f", "R", "d", "o", "i", "a", "y", "C", "p", "h", "g", "r", "v", "ie", "ee", "te", "V", "j", "H", "u", "z", "K", "m", "G", "Q", "A", "I", "B", "ce", "Y", "W", "L", "Z", "k", "F", "_", "$", "ge", "pe", "T", "x", "Ce", "N", "he", "X", "Fe", "Oe", "o", "t", "Se", "e", "k", "ae", "O", "pe", "Ie", "V", "a", "r", "l", "i", "p", "d", "s", "f", "u", "P", "h", "R", "W", "c", "T", "S", "F", "n", "g", "b", "q", "de", "ie", "m", "w", "D", "z", "Q", "Z", "v", "I", "B", "y", "H", "ee", "te", "oe", "E", "U", "ne", "re", "x", "le", "ye", "C", "Me", "Fe", "N", "He", "se", "Dt", "import_react", "import_react", "t", "a", "r", "i", "ce", "l", "de", "n", "Te", "e", "t", "_", "I", "M", "x", "F", "J", "H", "fe", "me", "De", "w", "ye", "p", "i", "K", "c", "T", "a", "Q", "o", "r", "m", "s", "d", "E", "C", "f", "D", "S", "y", "Pe", "Ee", "u", "G", "g", "b", "h", "U", "N", "X", "k", "V", "Se", "ge", "Ae", "Y", "R", "be", "Re", "je", "import_react", "_", "c", "d", "l", "t", "r", "s", "p", "K", "n", "a", "w", "m", "e", "i", "o", "f", "F", "T", "H", "import_react", "import_react", "l", "t", "e", "s", "o", "r", "a", "n", "d", "_", "t", "a", "s", "i", "e", "p", "n", "T", "l", "r", "f", "K", "m", "b", "y", "F", "o", "G", "import_react", "x", "h", "p", "s", "a", "r", "l", "u", "i", "d", "e", "o", "t", "f", "m", "U", "T", "n", "b", "y", "I", "g", "S", "import_react", "o", "t", "n", "p", "d", "import_react", "import_react_dom", "import_react", "s", "n", "t", "e", "i", "r", "o", "import_react", "a", "o", "e", "r", "i", "n", "t", "u", "f", "l", "g", "s", "c", "t", "l", "r", "o", "e", "u", "n", "g", "g", "h", "e", "i", "t", "O", "R", "A", "E", "L", "r", "m", "n", "_", "l", "o", "M", "s", "u", "d", "c", "x", "a", "f", "p", "T", "import_react", "c", "o", "l", "t", "e", "r", "n", "a", "i", "T", "Z", "ue", "q", "x", "P", "de", "g", "pe", "a", "p", "l", "i", "E", "s", "T", "t", "u", "S", "o", "d", "O", "v", "A", "b", "m", "y", "h", "le", "B", "I", "U", "re", "R", "k", "z", "H", "n", "_", "L", "W", "V", "r", "K", "ee", "te", "oe", "F", "c", "j", "Pt", "Fe", "G", "e", "ye", "Se", "f", "X", "D", "ne", "De", "xe", "Oe", "Le", "Pe", "ge", "Ee", "Dt", "Ao", "import_react", "import_react_dom", "h", "y", "e", "n", "t", "v", "M", "T", "b", "i", "S", "r", "_", "u", "l", "F", "c", "m", "d", "a", "I", "g", "o", "f", "s", "x", "import_react", "a", "r", "l", "e", "n", "o", "t", "i", "u", "x", "ze", "Y", "T", "E", "i", "a", "n", "s", "o", "P", "S", "p", "c", "_", "M", "R", "F", "A", "b", "h", "t", "B", "I", "g", "Ye", "l", "r", "V", "Fe", "H", "X", "f", "L", "O", "x", "U", "e", "ye", "u", "m", "G", "y", "fe", "ae", "ce", "q", "se", "N", "z", "Q", "de", "j", "le", "pe", "ie", "d", "ue", "J", "K", "w", "yt", "Et", "import_react", "at", "P", "pt", "s", "st", "t", "l", "be", "re", "ie", "ne", "de", "ge", "Se", "Oe", "Pe", "ut", "it", "dt", "Pt", "q", "C", "m", "te", "A", "T", "a", "n", "he", "ce", "v", "i", "o", "u", "R", "y", "h", "d", "r", "g", "D", "S", "b", "e", "p", "f", "c", "O", "_", "L", "I", "M", "k", "V", "le", "B", "U", "F", "N", "E", "x", "ee", "$", "J", "X", "ft", "ct", "ae", "Z", "vt", "Tt", "Le", "mt", "yt", "Et", "w", "fe", "Ae", "gt", "St", "At", "Ct", "Rt", "_t", "import_react", "Ie", "e", "Fe", "o", "t", "_", "i", "v", "J", "ee", "X", "te", "q", "Ue", "Me", "Se", "r", "a", "m", "D", "n", "f", "u", "M", "T", "S", "R", "A", "y", "ge", "p", "C", "K", "h", "L", "w", "k", "B", "c", "b", "l", "I", "g", "x", "O", "s", "d", "F", "ue", "P", "E", "W", "Q", "ce", "fe", "Te", "Re", "me", "be", "ye", "G", "j", "He", "we", "Ne", "We", "U", "Be", "$e", "je", "H", "mt", "import_react", "H", "B", "a", "i", "p", "r", "d", "u", "n", "c", "e", "t", "o", "f", "m", "U", "T", "l", "b", "s", "y", "P", "S", "A", "j", "import_react", "E", "ee", "De", "Z", "ge", "n", "u", "o", "s", "w", "h", "b", "K", "T", "t", "p", "R", "y", "S", "c", "i", "d", "xe", "L", "r", "a", "m", "F", "_", "oe", "H", "k", "M", "re", "U", "l", "I", "P", "D", "g", "B", "e", "W", "O", "N", "v", "J", "x", "V", "C", "X", "j", "$", "q", "te", "z", "Ce", "Le", "Re", "Ge", "Ye", "import_react", "import_react", "b", "n", "r", "o", "c", "u", "f", "s", "a", "e", "i", "t", "l", "s", "a", "o", "e", "i", "t", "n", "r", "u", "c", "f", "C", "Le", "t", "_e", "l", "De", "n", "Se", "e", "r", "d", "_", "u", "a", "T", "s", "b", "f", "V", "ae", "C", "le", "Q", "Y", "Fe", "Ie", "he", "g", "p", "c", "be", "h", "F", "m", "M", "S", "P", "o", "i", "A", "E", "D", "R", "X", "K", "J", "U", "G", "ve", "Ce", "Me", "Ge", "ee", "te", "me", "z", "$", "L", "q", "re", "ce", "Z", "ue", "Te", "de", "Ue", "He", "we", "Oe", "Ne", "ke", "Be", "We", "je", "Ke", "Tt", "import_react", "L", "H", "s", "l", "i", "r", "d", "u", "n", "a", "p", "e", "T", "f", "m", "U", "o", "t", "b", "y", "x", "E", "J"]
}
